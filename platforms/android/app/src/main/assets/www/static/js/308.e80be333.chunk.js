(this.webpackJsonpequal=this.webpackJsonpequal||[]).push([[308],{1242:function(e,n,t){"use strict";t.r(n);var a=t(49),r=t(1),o=t(42),i=t(43),l=t(45),s=t(44),c=t(46),d=t(4),m=t.n(d),u=t(698),p=t(688),h=t(47),g=t(175),f=t(17),b=t(176),E=t(57),v=t(55),x=t(857),w=t(3),k=t(695),y=t(21),j=t(682),O=t(684),C=t(685),B=t(918),S=t.n(B),N=t(40),L=t(39),P=t(26),F=(t(9),t(919),t(64)),I=t(244),T=t.n(I);function A(){var e=Object(L.a)(["\n  align-items: center;\n  background-image: linear-gradient(to right, #fff, #ededed);\n  display: flex;\n  justify-content: center;\n  height: 100vh;\n\n  .middle-content {\n    align-items: center;\n    background: transparent;\n    border-radius: 20px;\n    box-shadow: 0px 0px 6px 1px #9696962b;\n    display: flex;\n    height: 75vh;\n    width: 55%;\n\n    .middle-content-child {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      height: 100%;\n    }\n\n    .middle-content-child:first-child {\n      flex: 2;\n\n      &.sign-in-form {\n        background-color: #fff;\n        border-bottom-left-radius: 20px;\n        border-top-left-radius: 20px;\n        padding: 3rem 4rem;\n\n        h2 {\n          font-size: 4em;\n          font-weight: bolder;\n          margin-bottom: 0;\n        }\n\n        .ant-form-item-label label:after {\n          content: '';\n        }\n\n      }\n\n    }\n\n    .middle-content-child:last-child {\n      flex: 1;\n\n      &.to-server-setup {\n        background-color: #2f5bb2;\n        border-bottom-right-radius: 20px;\n        border-top-right-radius: 20px;\n        color: #fff;\n        padding: 3rem;\n\n        .logo-container {\n          figure > img {\n            background-image: url('","');\n            background-position-x: left;\n            background-position-y: center;\n            background-repeat: no-repeat;\n            background-size: contain;\n            max-width: 200px;\n          }\n          margin-bottom: 1em;\n        }\n\n        h4 {\n          color: #fff;\n          font-size: 1rem;\n          margin-bottom: 1.5em;\n          position: relative;\n\n          &:after {\n            content: '';\n            background: #9fbf40;\n            height: 2px;\n            left: 0;\n            position: absolute;\n            top: 100%;\n            width: 100%;\n          }\n        }\n\n      }\n\n    }\n  }\n\n  .manual-book {\n    margin-bottom: 20px;\n    margin-top: 20px;\n\n    a.manual-book-link {\n      color: #fff;\n      font-size: medium;\n      font-weight: 500;\n      &:hover {\n        text-decoration: underline;\n      }\n    }\n  }\n\n  @media (max-width: 1024px){\n    .middle-content {\n      width: 75%;\n    }\n  }\n\n  @media (max-width: 768px){\n    height: auto;\n    min-height: 100vh;\n    padding: 2rem;\n\n    .middle-content {\n      flex-direction: column;\n      height: auto;\n      min-height: 75vh;\n      width: 85%;\n\n      .middle-content-child {\n        width: 100%;\n      }\n      \n      .middle-content-child:first-child {\n        &.sign-in-form {\n          background-color: #fff;\n          border-bottom-left-radius: 0px;\n          border-top-right-radius: 20px;\n        }\n      }\n\n      .middle-content-child:last-child {\n        &.to-server-setup {\n          border-bottom-left-radius: 20px;\n          border-top-right-radius: 0px;\n        }\n      }\n\n    }\n    \n  }\n\n  @media (max-width: 480px){\n    .middle-content {\n      flex-direction: column;\n      width: 90%;\n    }\n  }\n"]);return A=function(){return e},e}var R=P.b.div(A(),T.a),U=Object(F.a)(R),W=E.a.checkLogin,_=E.a.login,z=E.a.clearWarning,Q=E.a.clearError,D=v.a.clearSuccess,q=k.a.confirm,G=x.a.Item,J={wrapperCol:{xs:{span:24},sm:{span:24}}},Y=function(e){function n(){var e,t;Object(o.a)(this,n);for(var i=arguments.length,c=new Array(i),d=0;d<i;d++)c[d]=arguments[d];return(t=Object(l.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(c)))).state={redirectToReferrer:!1,user:{username:null,password:null}},t.componentDidMount=function(){document.title=N.d.documentTitle,Object(w.G)()&&(window.ipcRenderer.on("APP_READY",t.readyListener),window.ipcRenderer.on("APP_BEFORE_QUIT",t.beforeQuitListener));var e=localStorage.getItem("new-server");if(e&&(localStorage.clear(),localStorage.setItem("server",e)),null!==localStorage.getItem("server")&&t.props.serverSetting.success&&(Object(b.a)("success",t.props.serverSetting.success),D()),t.props.auth.bearer&&!t.props.auth.loading)return m.a.createElement(u.a,{to:"/dashboard"})},t.componentDidUpdate=function(e){var n=t.props.auth,a=n.warning,r=n.error,o=t.props.clearError;e.auth.warning!==a&&a&&t.showNotification(),e.auth.error!==r&&r&&(Object(b.a)("error",r),o())},t.showNotification=function(){var e=t.props.auth.warning;q({title:"Warning",content:e,icon:m.a.createElement(y.a,{type:"info-circle"}),okText:"YES",cancelText:"NO",onOk:function(){var e=t.props.clearWarning;t.handleLogin(),e()},onCancel:function(){(0,t.props.clearWarning)()}})},t.readyListener=function(e,n){return console.log(e,n)},t.beforeQuitListener=function(){window.ipcRenderer.send("APP_CAN_QUIT","from signin")},t.componentWillUnmount=function(){Object(w.G)()&&window.ipcRenderer.removeAllListeners()},t.handleChange=function(e){var n=e.target.value,o=e.target.name;t.setState({user:Object(r.a)({},t.state.user,Object(a.a)({},o,n))})},t.handleButton=function(){var e=t.state.user;return!e.username||!e.password},t.handleLogin=function(){(0,t.props.login)(t.state.user)},t.handleCheckLogin=function(){(0,t.props.checkLogin)(t.state.user)},t.handleEnter=function(){var e=t.state.user;e.username&&e.password&&t.handleCheckLogin()},t.form=function(){return m.a.createElement("div",{className:"isoSignInForm"},m.a.createElement(G,Object.assign({},J,{hasFeedback:!0,validateStatus:t.props.auth.status,style:{marginBottom:"12px"}}),m.a.createElement(j.a,{name:"username",placeholder:"Username",onChange:t.handleChange,onPressEnter:t.handleEnter})),m.a.createElement(G,Object.assign({},J,{hasFeedback:!0,validateStatus:t.props.auth.status,style:{marginBottom:"12px"}}),m.a.createElement(j.a,{name:"password",type:"password",placeholder:"Password",onChange:t.handleChange,onPressEnter:t.handleEnter})),t.submitButton(),m.a.createElement("div",{className:"isoCenterComponent isoHelperWrapper"},m.a.createElement(p.a,{to:"",className:"isoForgotPass"},m.a.createElement(f.a,{id:"page.signInForgotPass"}))))},t.submitButton=function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement(O.a,{style:{marginBottom:"12px"}},m.a.createElement(C.a,{span:24},m.a.createElement(g.a,{type:"primary",onClick:t.handleCheckLogin,loading:t.props.auth.loading,style:{width:"100%"},htmlType:"button",disabled:t.handleButton()},m.a.createElement(f.a,{id:"page.signInButton"})))),m.a.createElement(O.a,null,m.a.createElement(C.a,{span:24},m.a.createElement(p.a,{to:"/server-setup"},m.a.createElement(g.a,{type:"default",style:{width:"100%"}},m.a.createElement(f.a,{id:"changeUrl"}))))))},t.submitButtonNew=function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{style:{marginBottom:"12px",marginTop:"15px"}},m.a.createElement(g.a,{type:"primary",onClick:t.handleCheckLogin,loading:t.props.auth.loading,htmlType:"button",disabled:t.handleButton()},m.a.createElement(f.a,{id:"page.signInButton"}))))},t}return Object(c.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){var e=Object(w.d)();return this.props.auth.bearer&&!this.props.auth.loading?m.a.createElement(u.a,{to:"/dashboard"}):e?m.a.createElement(m.a.Fragment,null,m.a.createElement(U,null,m.a.createElement("div",{className:"middle-content"},m.a.createElement("div",{className:"middle-content-child sign-in-form"},m.a.createElement("h2",null,m.a.createElement(f.a,{id:"page.signInButton"})),m.a.createElement("div",{className:"isoSignInForm"},m.a.createElement(G,Object.assign({},J,{hasFeedback:!0,validateStatus:this.props.auth.status,style:{marginBottom:"12px"},label:m.a.createElement(f.a,{id:"users.add.username"})}),m.a.createElement(j.a,{name:"username",onChange:this.handleChange,onPressEnter:this.handleEnter})),m.a.createElement(G,Object.assign({},J,{hasFeedback:!0,validateStatus:this.props.auth.status,style:{marginBottom:"12px"},label:m.a.createElement(f.a,{id:"users.add.password"})}),m.a.createElement(j.a.Password,{name:"password",type:"password",onChange:this.handleChange,onPressEnter:this.handleEnter})),this.submitButtonNew())),m.a.createElement("div",{className:"middle-content-child to-server-setup"},m.a.createElement("div",{className:"logo-container"},m.a.createElement("figure",null,m.a.createElement("img",{src:S.a})),m.a.createElement("div",null,m.a.createElement("span",null,m.a.createElement(f.a,{id:"appVersion"})),m.a.createElement("h4",null,w.a),m.a.createElement("span",null,m.a.createElement(f.a,{id:"server"})),e?m.a.createElement("h4",null,e):m.a.createElement("div",null,m.a.createElement(f.a,{id:"server.none"})),m.a.createElement("div",{style:{marginTop:"10px"}},m.a.createElement(p.a,{to:"/server-setup"},m.a.createElement(g.a,{type:"default"},m.a.createElement(f.a,{id:"changeUrl"})))),m.a.createElement("div",null,m.a.createElement("div",{className:"manual-book"},m.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e+"id/documentation",className:"manual-book-link"},m.a.createElement(f.a,{id:"manualBook"})))))))))):m.a.createElement(u.a,{to:"/server-setup"})}}]),n}(d.Component);n.default=Object(h.b)((function(e){return{auth:e.auth,serverSetting:e.serverSetting}}),{checkLogin:W,login:_,clearWarning:z,clearError:Q,clearSuccess:D})(Y)},857:function(e,n,t){"use strict";var a=t(693);n.a=a.a},918:function(e,n,t){e.exports=t.p+"static/media/logo-bg.3935ff0e.png"},919:function(e,n,t){e.exports=t.p+"static/media/sign.adf5846b.jpg"}}]);
//# sourceMappingURL=308.e80be333.chunk.js.map