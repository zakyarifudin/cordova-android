(this.webpackJsonpequal=this.webpackJsonpequal||[]).push([[343],{1077:function(e,t,n){"use strict";n.r(t);var r=n(42),a=n(43),o=n(45),c=n(44),i=n(46),s=n(4),u=n.n(s),p=n(47),d=n(703),l=n(39),f=n(26),h=n(9);function g(){var e=Object(l.a)(["\n  width: 100%;\n  padding: 35px;\n  background-color: #ffffff;\n  border: 1px solid ",";\n  height: 100%;\n"]);return g=function(){return e},e}var b=f.b.div(g(),Object(h.palette)("border",0)),x=n(175),w=n(176),v=n(1),k=n(2),m=n.n(k),y=n(965),O=n.n(y),j=n(40),E=function(){return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("id_token")||!1}},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fetch("".concat(j.b.fetchUrl).concat(t),{method:e,headers:E(),body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return{error:"Server Error"}}))},C={};["get","post","put","delete"].forEach((function(e){C[e]=S.bind(null,e)}));var T=C,A=new(function(){function e(){var t=this;Object(r.a)(this,e),this.login=function(e){return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.username&&e.password){n.next=2;break}return n.abrupt("return",{error:"please fill in the input"});case 2:return n.next=4,m.a.awrap(T.post("login",e).then((function(e){return t.checkExpirity(e.token)})));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}))},this.checkExpirity=function(e){if(!e)return{error:"not matched"};try{var t=O()(e),n=t.expiredAt||1e3*t.exp;return n>(new Date).getTime()?Object(v.a)({},t,{token:e,expiredAt:new Date(n)}):{error:"Token expired"}}catch(r){return console.log(r),{error:"Server Error"}}}}return Object(a.a)(e,[{key:"checkDemoPage",value:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.checkExpirity(e).error){t.next=2;break}return t.abrupt("return",{error:"Token expired"});case 2:return t.next=4,m.a.awrap(T.get("secret/test",{token:e}).then((function(e){return{status:"200",message:"Success"}})).catch((function(e){return{error:JSON.stringify(e)}})));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),null,this)}}]),e}()),I=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={loading:!1},n.checkDemo=function(){n.setState({loading:!0}),A.checkDemoPage(n.props.idToken).then((function(e){e.error?Object(w.a)("error",e.error):Object(w.a)("success","status: ".concat(e.status),e.message),n.setState({loading:!1})}))},n}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return u.a.createElement(d.a,{style:{height:"100vh"}},u.a.createElement(b,null,u.a.createElement(x.a,{loading:this.state.loading,onClick:this.checkDemo},"Check Auth Status")))}}]),t}(s.Component);t.default=Object(p.b)((function(e){return{idToken:e.Auth.idToken}}),{})(I)},703:function(e,t,n){"use strict";var r=n(4),a=n.n(r),o=n(39);function c(){var e=Object(o.a)(["\n  padding: 10px 20px 10px 20px;\n  display: flex;\n  flex-flow: row wrap;\n  overflow: hidden;\n\n  @media only screen and (max-width: 767px) {\n    padding: 5px 20px 30px 20px;\n  }\n\n  @media (max-width: 580px) {\n    padding: 5px 20px 30px 20px;\n  }\n"]);return c=function(){return e},e}var i=n(26).b.div(c());t.a=function(e){return a.a.createElement(i,Object.assign({className:null!=e.className?"".concat(e.className," isoLayoutContentWrapper"):"isoLayoutContentWrapper"},e),e.children)}},965:function(e,t,n){"use strict";var r=n(966);function a(e){this.message=e}a.prototype=new Error,a.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!==typeof e)throw new a("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(".")[n]))}catch(o){throw new a("Invalid token specified: "+o.message)}},e.exports.InvalidTokenError=a},966:function(e,t,n){var r=n(967);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(n){return r(t)}}},967:function(e,t){function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports="undefined"!==typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,a,o=0,c=0,i="";a=t.charAt(c++);~a&&(r=o%4?64*r+a:a,o++%4)?i+=String.fromCharCode(255&r>>(-2*o&6)):0)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a);return i}}}]);
//# sourceMappingURL=343.b6c0eaeb.chunk.js.map