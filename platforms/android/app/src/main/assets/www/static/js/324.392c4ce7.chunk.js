(this.webpackJsonpequal=this.webpackJsonpequal||[]).push([[324],{1035:function(e,a,t){"use strict";t.r(a);var n=t(49),r=t(1),s=t(42),i=t(43),p=t(45),o=t(44),c=t(46),l=t(4),d=t.n(l),u=t(47),h=t(85),m=t(688),E=t(176),_=t(682),C=t(130),T=t(172),g=t(703),f=t(704),y=t(17),S=t(234),A=t(175),b=t(881),v=t(707),R=t(702),O=t(174),j=_.a.Search,P=function(e){function a(){var e,t;Object(s.a)(this,a);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return(t=Object(p.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(c)))).state={filter:{pagination:null},search:null,transaction_types:[{id:1,name:"All"},{id:2,name:"Purchase"},{id:3,name:"Sales"}]},t.handleSearch=function(e){var a=t.props.getAppTransCodes;t.setState({filter:{transaction_type:[],pagination:null}}),a(1,e)},t.handleSearchValue=function(e){var a=e.target.value;t.setState({search:a})},t.handleResetSearch=function(){var e=t.props.getAppTransCodes;t.setState({filter:{id_cash_flow_group:[],transaction_type:[],pagination:null}}),t.setState({search:null}),e()},t.handleFilterChange=function(e,a){t.setState({filter:Object(r.a)({},t.state.filter,Object(n.a)({},e,a))})},t.handleFilter=function(){var e=t.props.getAppTransCodes,a=t.state.filter,n="";a.transaction_type&&(n+="transaction_type="+a.transaction_type),a.pagination&&(n+=n?"&pagination="+a.pagination:"pagination="+a.pagination),t.setState({search:null}),e(1,null,n)},t.handleResetFilter=function(){var e=t.props.getAppTransCodes;t.setState({filter:{transaction_type:[],pagination:null}}),t.setState({search:null}),e()},t.handleRecord=function(e,a){"activate"===e?t.props.activateAppTransCode(a):t.props.deactivateAppTransCode(a)},t.handlePageChange=function(e){(0,t.props.getAppTransCodes)(e,t.props.appTransCode.search,t.props.appTransCode.filter)},t.listAction={title:"",dataIndex:"id_app_trans_code",rowKey:"id_app_trans_code",width:"10%",align:"center",render:function(e,a){return d.a.createElement("div",null,d.a.createElement(C.a,{placement:"topLeft",title:d.a.createElement(y.a,{id:"tooltip.update"})},d.a.createElement(m.a,{to:"".concat(t.props.match.path,"/update/").concat(e)},d.a.createElement(A.a,{size:"small",className:"invoiceEdtBtn"},d.a.createElement("i",{className:"ion-android-create"})))))}},t}return Object(c.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.getAppTransCodes)()}},{key:"componentDidUpdate",value:function(){this.props.appTransCode.error&&(Object(E.a)("error",this.props.appTransCode.error),this.props.clearError()),this.props.appTransCode.success&&(Object(E.a)("success",this.props.appTransCode.success),this.props.clearSuccess())}},{key:"render",value:function(){var e=this,a=[{title:Object(O.a)({id:"appTransCodes.add.name"}),dataIndex:"trans_name",rowKey:"trans_name",width:"10%",render:function(e){return d.a.createElement("span",null,e)}},{title:Object(O.a)({id:"appMasterCodes.add.code"}),dataIndex:"trans_code",rowKey:"trans_code",width:"15%",render:function(e){return d.a.createElement("span",null,e)}}],t=this.props.appTransCode.app_trans_codes,n=[],s=this.props.auth.user,i=(s||[]).permissions;(i=i||[]).includes("Update App Transaction Code")&&2===a.length&&a.push(this.listAction),t.map((function(e,a){return n.push(Object(r.a)({},e,{trans_name:Object(O.a)({id:e.trans_name}),key:a}))}));var p=this.props.appTransCode,o=p.current_page,c=p.page_size,l=p.total;return d.a.createElement(g.a,null,d.a.createElement(R.a,null,d.a.createElement(f.a,{title:d.a.createElement(y.a,{id:"appTransCodes.pageHeader"}),marginBottom:!0},d.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},d.a.createElement(A.a,{onClick:function(){return e.props.history.replace("/dashboard/setup/menus")},style:{marginLeft:"5px"}},d.a.createElement(y.a,{id:"button.back"})))),d.a.createElement("div",{className:"isoInvoiceTableBtn"},d.a.createElement(j,{placeholder:Object(O.a)({id:"appTransCodes.add.name"}),onSearch:this.handleSearch,style:{marginRight:"1%"},value:this.state.search,onChange:this.handleSearchValue}),d.a.createElement("div",{style:{marginTop:"auto",marginRight:"1%"}},d.a.createElement(A.a,{type:"primary",onClick:this.handleSearch.bind(this,this.state.search)},d.a.createElement(y.a,{id:"button.search"}))),d.a.createElement("div",{style:{width:"30%",marginTop:"auto",marginRight:"27%"}},d.a.createElement(A.a,{onClick:this.handleResetSearch},d.a.createElement(y.a,{id:"filter.reset"})))),d.a.createElement(R.n,null,0!==t.length||this.props.appTransCode.loading?d.a.createElement("div",{className:"isoInvoiceTable"},d.a.createElement(S.a,{style:{width:"100%"}},d.a.createElement(v.a,{dataSource:n,columns:a,loading:this.props.appTransCode.loading,className:"invoiceListTable",bordered:!0,pagination:!c||{current:o,pageSize:parseInt(c),total:l,onChange:this.handlePageChange.bind(this)}}))):d.a.createElement(T.a,{description:d.a.createElement(y.a,{id:"appTransCodes.table.noData"})}))))}}]),a}(l.Component);a.default=Object(h.d)(Object(u.b)((function(e){return{appTransCode:e.appTransCode,auth:e.auth}}),b.a))(P)},881:function(e,a,t){"use strict";a.a={getAppTransCodes:function(e,a,t){return{type:"GET_APP_TRANS_CODES_REQUEST",payload:{page:e,search:a,filter:t}}},createAppTransCode:function(){return{type:"CREATE_APP_TRANS_CODE_REQUEST"}},storeAppTransCode:function(e){return{type:"STORE_APP_TRANS_CODE_REQUEST",payload:{body:e}}},editAppTransCode:function(e){return{type:"EDIT_APP_TRANS_CODE_REQUEST",payload:{id_app_trans_code:e}}},updateAppTransCode:function(e,a){return{type:"UPDATE_APP_TRANS_CODE_REQUEST",payload:{id_app_trans_code:e,body:a}}},clearSuccess:function(){return{type:"CLEAR_SUCCESS"}},clearError:function(){return{type:"CLEAR_ERROR"}},clearErrorField:function(){return{type:"CLEAR_ERROR_FIELD"}}}}}]);
//# sourceMappingURL=324.392c4ce7.chunk.js.map