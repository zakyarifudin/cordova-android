{"version":3,"sources":["../node_modules/rc-tree/es/util.js","../node_modules/rc-tree/node_modules/rc-animate/es/util.js","../node_modules/rc-tree/node_modules/rc-animate/es/AnimateChild.js","../node_modules/rc-tree/node_modules/rc-animate/es/Animate.js","../node_modules/rc-tree/node_modules/rc-animate/es/CSSMotion.js","../node_modules/rc-tree/node_modules/rc-animate/es/index.js","../node_modules/rc-tree/es/TreeNode.js","../node_modules/rc-tree/es/Tree.js","../node_modules/rc-tree/es/index.js","../node_modules/rc-tree/node_modules/warning/browser.js","../node_modules/rc-tree/es/contextTypes.js","../node_modules/babel-runtime/helpers/toArray.js","../node_modules/fbjs/lib/ExecutionEnvironment.js","../node_modules/rc-tree-select/node_modules/rc-animate/es/util.js","../node_modules/rc-tree-select/node_modules/rc-animate/es/AnimateChild.js","../node_modules/rc-tree-select/node_modules/rc-animate/es/Animate.js","../node_modules/rc-tree-select/node_modules/rc-animate/es/CSSMotion.js","../node_modules/rc-tree-select/node_modules/rc-animate/es/index.js","../node_modules/rc-tree-select/node_modules/rc-trigger/es/LazyRenderBox.js","../node_modules/rc-tree-select/node_modules/rc-trigger/es/PopupInner.js","../node_modules/rc-tree-select/node_modules/rc-trigger/es/utils.js","../node_modules/rc-tree-select/node_modules/rc-trigger/es/Popup.js","../node_modules/rc-tree-select/node_modules/rc-trigger/es/index.js","../node_modules/rc-tree-select/es/propTypes.js","../node_modules/rc-tree-select/es/SelectNode.js","../node_modules/rc-tree-select/es/util.js","../node_modules/rc-tree-select/es/strategies.js","../node_modules/rc-tree-select/es/SelectTrigger.js","../node_modules/rc-tree-select/es/Base/BaseSelector.js","../node_modules/rc-tree-select/es/Base/BasePopup.js","../node_modules/rc-tree-select/es/Selector/SingleSelector.js","../node_modules/rc-tree-select/es/SearchInput.js","../node_modules/rc-tree-select/es/Selector/MultipleSelector/Selection.js","../node_modules/rc-tree-select/es/Selector/MultipleSelector/index.js","../node_modules/rc-tree-select/es/Popup/SinglePopup.js","../node_modules/rc-tree-select/es/Popup/MultiplePopup.js","../node_modules/rc-tree-select/es/Select.js","../node_modules/rc-tree-select/es/index.js","../node_modules/antd/es/tree-select/index.js"],"names":["onlyTreeNodeWarned","warnOnlyTreeNode","warning","arrDel","list","value","clone","slice","index","indexOf","splice","arrAdd","push","posToArr","pos","split","getPosition","level","isTreeNode","node","type","getNodeChildren","children","toArray","filter","isCheckDisabled","_ref","props","disabled","disableCheckbox","traverseTreeNodes","treeNodes","callback","processNode","parent","childList","data","key","parentPos","Children","forEach","subNode","subIndex","mapChildren","func","map","length","getDragNodesKeys","_node$props","eventKey","dragNodesKeys","_ref2","calcDropPosition","event","treeNode","clientY","_treeNode$selectHandl","selectHandle","getBoundingClientRect","top","bottom","height","des","Math","max","calcSelectedKeys","selectedKeys","multiple","keyListToString","keyList","String","internalProcessProps","convertDataToTree","treeData","processer","_ref3$processProps","processProps","undefined","Array","isArray","_ref4","_objectWithoutProperties","childrenNodes","React","createElement","TreeNode","convertTreeToEntities","_ref5","arguments","initWrapper","processEntity","onProcessFinished","posEntities","keyEntities","wrapper","item","entity","parseCheckedKeys","keys","keyProps","checkedKeys","halfCheckedKeys","checked","halfChecked","conductCheck","isCheck","checkStatus","conductUp","everyChildChecked","someChildChecked","child","_ref6","childKey","childChecked","childHalfChecked","conductDown","conduct","checkedKeyList","halfCheckedKeyList","Object","conductExpandParent","expandedKeys","getDataAndAria","reduce","prev","substr","stylePrefixes","getStyleValue","name","parseFloat","style","window","getComputedStyle","ret","i","getPropertyValue","getStyleProperty","makePrefixMap","styleProp","eventName","prefixes","toLowerCase","vendorPrefixes","domSupport","win","animationend","transitionend","animation","transition","getVendorPrefixes","canUseDOM","document","prefixedEventNames","getVendorPrefixedEventName","prefixMap","stylePropList","len","prototype","hasOwnProperty","call","animationEndName","transitionEndName","supportTransition","cloneProps","propList","newProps","prop","getTransitionName","transitionName","transitionType","replace","match","toUpperCase","clonePropList","genAnimateChild","transitionSupport","AnimateChild","_React$Component","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","state","eventQueue","eventActive","onDomUpdated","_this$props","onChildLeaved","animateKey","$ele","getDomElement","$prevEle","cleanDomEvent","addEventListener","onMotionEnd","currentEvent","getCurrentEvent","empty","lastEventType","eventType","restQueue","nodeClasses","classes","legacyAppendClass","clearTimeout","timeout","animateObj","stop","basicClassName","activeClassName","remove","animationHandler","target","nextEvent","raf","_destroy","setState","transitionDelay","transitionDuration","animationDelay","animationDuration","totalTime","setTimeout","add","_this$props2","onAppear","onEnter","onLeave","onEnd","ReactDOM","findDOMNode","_this$state$eventQueu","_this$props3","exclusive","transitionAppear","transitionEnter","transitionLeave","hasEventHandler","appear","enter","leave","cloneQueue","_cloneQueue","_cloneQueue2","_toArray","_eventType","removeEventListener","_inherits","_createClass","_state","_props","showProp","className","connectClassName","classNames","show","newChildProps","cloneElement","nextProps","prevState","_prevState$prevProps","prevProps","appeared","newState","processState","propName","updater","pushEvent","matchIndex","isAppeared","Component","propTypes","PropTypes","oneOfType","string","object","bool","any","polyfill","defaultKey","Date","now","genAnimate","ChildComponent","Animate","_temp","_ret","_len","args","_key","apply","concat","mergedChildren","hasChild","some","_this2","component","componentProps","$children","_extends","passedProps","currentChildren","prevChildren","every","next","prevList","nextList","mergeList","nextChildrenMap","missMatchChildrenList","prevNode","nextNode","mergeChildren","isAnimate","defaultProps","CSSMotion","onDomUpdate","_this$state","status","newStatus","onAppearStart","onEnterStart","onLeaveStart","onAppearActive","onEnterActive","onLeaveActive","motionAppear","motionEnter","motionLeave","updateStatus","updateActiveStatus","_this$state2","statusActive","onAppearEnd","onEnterEnd","onLeaveEnd","styleFunc","additionalState","statusStyle","_destroyed","nextStep","nextFrame","currentStatus","cancelNextFrame","cancel","_classNames","motionName","visible","_defineProperty","motionLeaveImmediately","genCSSMotion","_initialiseProps","dragNodeHighlight","context","rcTreeNode","syncLoadData","selectable","treeSelectable","rcTree","loading","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","expanded","selected","otherProps","_context$rcTree","prefixCls","filterTreeNode","draggable","isDisabled","dataOrAriaAttributeProps","role","onDragEnter","onDragOver","onDragLeave","onDrop","onDragEnd","renderSwitcher","renderCheckbox","renderSelector","renderChildren","root","onSelect","loaded","title","icon","switcherIcon","contextTypes","nodeContextTypes","childContextTypes","onSelectorClick","e","onNodeClick","isSelectable","onCheck","onSelectorDoubleClick","onNodeDoubleClick","onNodeSelect","preventDefault","_props2","_context$rcTree2","checkable","onNodeCheck","onMouseEnter","onNodeMouseEnter","onMouseLeave","onNodeMouseLeave","onContextMenu","onNodeContextMenu","onDragStart","onNodeDragStart","stopPropagation","dataTransfer","setData","error","onNodeDragEnter","onNodeDragOver","onNodeDragLeave","onNodeDragEnd","onNodeDrop","onExpand","onNodeExpand","setSelectHandle","originList","targetList","getNodeState","_props3","loadData","hasChildren","treeDisabled","_context$rcTree3","onNodeLoad","_props4","switcherIconFromProps","_context$rcTree4","switcherIconFromCtx","switcherCls","onClick","_props5","_context$rcTree5","$custom","renderIcon","_props6","_context$rcTree6","showIcon","treeIcon","wrapClass","$icon","currentIcon","$title","ref","onDoubleClick","_props7","_context$rcTree7","openTransitionName","openAnimation","renderTreeNode","animProps","nodeList","Tree","loadedKeys","loadingKeys","dragNode","_node$props2","dropPosition","dragOverNodeKey","delayedDragEnterLogic","newExpandedKeys","_this$state$dragNodes","_node$props3","posArr","dropResult","Number","dropToGap","_treeNode$props","targetSelected","selectedNodes","setUncontrolledState","nativeEvent","oriCheckedKeys","oriHalfCheckedKeys","checkStrictly","checkedObj","eventObj","checkedNodes","_conductCheck","_checkedKeys","_halfCheckedKeys","checkedNodesPositions","Promise","resolve","_ref2$loadedKeys","_ref2$loadingKeys","onLoad","then","newLoadedKeys","newLoadingKeys","_this$props4","_treeNode$props2","targetExpanded","loadPromise","onRightClick","needSync","isKeyChecked","_this$state$checkedKe","_this$state3","_this$state3$expanded","_this$state3$selected","_this$state3$halfChec","_this$state3$loadedKe","_this$state3$loadingK","focusable","showLine","_props2$tabIndex","tabIndex","domProps","onKeyDown","unselectable","entitiesMap","autoExpandParent","defaultExpandParent","defaultExpandAll","defaultExpandedKeys","defaultSelectedKeys","checkedKeyEntity","defaultCheckedKeys","_checkedKeyEntity","_checkedKeyEntity$che","_checkedKeyEntity$hal","conductKeys","number","array","arrayOf","treeContextTypes","module","exports","shape","onUpCheckConduct","__esModule","obj","_from","require","_from2","default","arr","ExecutionEnvironment","canUseWorkers","Worker","canUseEventListeners","attachEvent","canUseViewport","screen","isInWorker","LazyRenderBox","_Component","shouldComponentUpdate","hiddenClassName","render","count","only","PopupInner","isPointsEq","a1","a2","isAlignPoint","saveRef","Popup","stretchChecked","targetWidth","targetHeight","savePopupRef","bind","saveAlignRef","componentDidMount","rootNode","getPopupDomNode","setStretchSize","componentDidUpdate","popupInstance","getMaskTransitionName","maskTransitionName","maskAnimation","getClassName","currentAlignClassName","getPopupElement","align","getClassNameFromAlign","destroyPopupOnHide","stretch","sizeStyle","minHeight","width","minWidth","visibility","alignInstance","forceAlign","popupInnerProps","getZIndexStyle","onAnimateLeaved","Align","getAlignTarget","monitorWindowResize","onAlign","xVisible","childrenProps","zIndex","getMaskElement","maskElement","mask","maskTransition","getRootDomNode","point","pageX","pageY","_this3","popupDomNode","_state2","offsetHeight","offsetWidth","getTargetElement","noop","ALL_HANDLERS","IS_REACT_16","createPortal","Trigger","popupVisible","defaultPopupVisible","prevPopupVisible","componentWillMount","h","fireEvents","componentWillReceiveProps","_","renderComponent","afterPopupVisibleChange","currentDocument","clickOutsideHandler","isClickToHide","isContextMenuToShow","getDocument","onDocumentClick","touchOutsideHandler","contextMenuOutsideHandler1","onContextMenuClose","contextMenuOutsideHandler2","clearOutsideHandler","componentWillUnmount","clearDelayTimer","_component","getPopupAlign","popupPlacement","popupAlign","builtinPlacements","placementStr","baseAlign","getAlignFromPlacement","setPopupVisible","alignPoint","onPopupVisibleChange","setPoint","delaySetPopupVisible","delayS","delay","delayTimer","createTwoChains","childPros","isClickToShow","action","showAction","hideAction","isMouseEnterToShow","isMouseLeaveToHide","isFocusToShow","isBlurToHide","forcePopupAlign","childCallback","close","_this4","_props8","forceRender","onMouseDown","onTouchStart","onMouseMove","onFocus","onBlur","childrenClassName","trigger","ContainerRender","autoMount","getComponent","getContainer","portal","Portal","didUpdate","handlePortalUpdate","getPopupClassNameFromAlign","popup","isRequired","popupStyle","popupClassName","popupTransitionName","popupAnimation","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","getPopupContainer","maskClosable","onPopupAlign","_this5","onPopupMouseEnter","onPopupMouseLeave","relatedTarget","contains","focusTime","preClickTime","preTouchTime","preTime","min","abs","nextVisible","popupNode","_props9","points","placement","getAlignPopupClassName","join","_props10","mouseProps","savePopup","popupContainer","position","left","body","appendChild","internalValProp","genArrProps","propType","valueProp","isLabelInValue","_err","label","Error","err","SelectNode","warnDeprecatedLabel","toTitle","createRef","current","UNSELECTABLE_STYLE","userSelect","WebkitUserSelect","UNSELECTABLE_ATTRIBUTE","flatToHierarchy","positionList","entrances","posMap","parsedList","fields","sort","a","b","parentEntity","ariaId","treeCheckable","treeCheckStrictly","labelInValue","cleanEntity","instance","getFilterTree","searchValue","filterFunc","valueEntities","mapFilteredNodeToData","toNodeArray","n","formatInternalValue","valueList","val","getLabel","wrappedValue","treeNodeLabelProp","formatSelectorValue","showCheckedStrategy","values","hierarchyList","_ref3","targetValueList","traverse","rcConvertDataToTree","currentEntity","getHalfCheckedKeys","_ref7","parentValue","rcConductCheck","BUILT_IN_PLACEMENTS","bottomLeft","offset","overflow","adjustX","adjustY","ignoreShake","topLeft","SelectTrigger","getDropdownTransitionName","dropdownPrefixCls","$trigger","triggerRef","isMultiple","dropdownPopupAlign","dropdownMatchSelectWidth","dropdownClassName","dropdownStyle","onDropdownVisibleChange","popupElement","open","showSearch","selectorPropTypes","allowClear","showArrow","removeSelected","inputIcon","clearIcon","selectorContextTypes","onSelectorFocus","onSelectorBlur","onSelectorKeyDown","onSelectorClear","modeName","BaseSelector","focused","rcTreeSelect","focus","domRef","blur","outline","renderSelection","renderPlaceholder","myTabIndex","renderClear","renderArrow","popupContextTypes","onPopupKeyDown","onTreeNodeSelect","onTreeNodeCheck","BasePopup","treeDefaultExpandAll","treeDefaultExpandedKeys","expandedKeyList","cachedExpandedKeyList","filteredTreeNodes","treeLine","renderSearch","searchHalfCheckedKeys","_context$rcTreeSelect","getLoadData","treeProps","$notFound","$treeNodes","renderNotFound","$tree","onTreeExpand","id","_ref$prevProps","treeExpandedKeys","upperSearchValue","treeNodeFilterProp","notFoundContent","onTreeExpanded","filterVal","Selector","generateSelector","SingleSelector","selectorRef","selectorValueList","placeholder","innerNode","_selectorValueList$","searchContextTypes","onSearchInputChange","SearchInput","alignInputWidth","inputRef","mirrorInputRef","clientWidth","isDidMount","needAlign","onSearchInputKeyDown","onChange","Selection","onRemove","maxTagTextLength","removeIcon","content","multipleSelectorContextTypes","onMultipleSelectorRemove","MultipleSelector","onPlaceholderClick","searchPlaceholder","currentPlaceholder","hidden","display","choiceTransitionName","onChoiceAnimationLeave","maxTagCount","maxTagPlaceholder","myValueList","selectedValueNodes","restValueList","restNodeSelect","SinglePopup","Select","prefixAria","defaultOpen","missValueList","init","selectTriggerRef","onComponentKeyDown","autoFocus","passProps","_toConsumableArray","MultiplePopup","$popup","delayForcePopupAlign","$selector","treeDataSimpleMode","valueRefresh","propValue","treeDataChanged","treeDataModeChanged","prevValue","shallowEqual","simpleMapper","pId","rootPId","keyNodes","rootNodeList","parentKey","parseSimpleTreeData","rcConvertTreeToEntities","filteredValueList","latestValueList","wrapperValue","filterTreeNodeFn","defaultValue","inputValue","autoClearSearchValue","oneOf","onSearch","onDeselect","keyCode","KeyCode","ESC","setOpenState","UP","DOWN","LEFT","RIGHT","ENTER","nodeEventInfo","triggerChange","isSearchValueControlled","removeValue","triggerEntity","newValueList","pos1","pos2","fields1","fields2","minLen","isPosRelated","triggerNode","extraInfo","triggerValue","deselectInfo","filteredEntityList","allCheckedNodes","newMissValueList","_ref8","onValueTrigger","isAdd","nodeExtraInfo","_state3","_ref9","_ref10","_state4","selectedValue","_ref11","_ref12","_ref13","_state5","checkedNodeList","oriKeyList","_ref14","_ref15","from","Set","_ref16","_ref17","_state6","isSet","_state7","BACKSPACE","lastValue","byTrigger","documentClickClose","_state8","extra","preValue","_ref18","connectValueList","labelList","returnValue","_ref19","_ref20","SHOW_ALL","SHOW_PARENT","SHOW_CHILD","displayName","_typeof","Symbol","iterator","constructor","assign","source","defineProperty","enumerable","configurable","writable","_defineProperties","descriptor","self","ReferenceError","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","_setPrototypeOf","p","__rest","s","t","getOwnPropertySymbols","TreeSelect","Constructor","TypeError","saveTreeSelect","renderSwitcherIcon","Icon","renderTreeSelect","getContextPopupContainer","getPrefixCls","renderEmpty","_a","customizePrefixCls","size","suffixIcon","restProps","rest","omit","cls","theme","RcTreeSelect","nodeProps","maxHeight","protoProps","staticProps","subClass","superClass","create","ConfigConsumer"],"mappings":"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","file":"static/js/8.f5a8d4cb.chunk.js","sourcesContent":["import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport React, { Children } from 'react';\nimport toArray from 'rc-util/es/Children/toArray';\nimport warning from 'warning';\nimport TreeNode from './TreeNode';\n\nvar DRAG_SIDE_RANGE = 0.25;\nvar DRAG_MIN_GAP = 2;\n\nvar onlyTreeNodeWarned = false;\n\nexport function warnOnlyTreeNode() {\n  if (onlyTreeNodeWarned) return;\n\n  onlyTreeNodeWarned = true;\n  warning(false, 'Tree only accept TreeNode as children.');\n}\n\nexport function arrDel(list, value) {\n  var clone = list.slice();\n  var index = clone.indexOf(value);\n  if (index >= 0) {\n    clone.splice(index, 1);\n  }\n  return clone;\n}\n\nexport function arrAdd(list, value) {\n  var clone = list.slice();\n  if (clone.indexOf(value) === -1) {\n    clone.push(value);\n  }\n  return clone;\n}\n\nexport function posToArr(pos) {\n  return pos.split('-');\n}\n\nexport function getPosition(level, index) {\n  return level + '-' + index;\n}\n\nexport function isTreeNode(node) {\n  return node && node.type && node.type.isTreeNode;\n}\n\nexport function getNodeChildren(children) {\n  return toArray(children).filter(isTreeNode);\n}\n\nexport function isCheckDisabled(node) {\n  var _ref = node.props || {},\n      disabled = _ref.disabled,\n      disableCheckbox = _ref.disableCheckbox;\n\n  return !!(disabled || disableCheckbox);\n}\n\nexport function traverseTreeNodes(treeNodes, callback) {\n  function processNode(node, index, parent) {\n    var children = node ? node.props.children : treeNodes;\n    var pos = node ? getPosition(parent.pos, index) : 0;\n\n    // Filter children\n    var childList = getNodeChildren(children);\n\n    // Process node if is not root\n    if (node) {\n      var data = {\n        node: node,\n        index: index,\n        pos: pos,\n        key: node.key || pos,\n        parentPos: parent.node ? parent.pos : null\n      };\n\n      callback(data);\n    }\n\n    // Process children node\n    Children.forEach(childList, function (subNode, subIndex) {\n      processNode(subNode, subIndex, { node: node, pos: pos });\n    });\n  }\n\n  processNode(null);\n}\n\n/**\n * Use `rc-util` `toArray` to get the children list which keeps the key.\n * And return single node if children is only one(This can avoid `key` missing check).\n */\nexport function mapChildren(children, func) {\n  var list = toArray(children).map(func);\n  if (list.length === 1) {\n    return list[0];\n  }\n  return list;\n}\n\nexport function getDragNodesKeys(treeNodes, node) {\n  var _node$props = node.props,\n      eventKey = _node$props.eventKey,\n      pos = _node$props.pos;\n\n  var dragNodesKeys = [];\n\n  traverseTreeNodes(treeNodes, function (_ref2) {\n    var key = _ref2.key;\n\n    dragNodesKeys.push(key);\n  });\n  dragNodesKeys.push(eventKey || pos);\n  return dragNodesKeys;\n}\n\n// Only used when drag, not affect SSR.\nexport function calcDropPosition(event, treeNode) {\n  var clientY = event.clientY;\n\n  var _treeNode$selectHandl = treeNode.selectHandle.getBoundingClientRect(),\n      top = _treeNode$selectHandl.top,\n      bottom = _treeNode$selectHandl.bottom,\n      height = _treeNode$selectHandl.height;\n\n  var des = Math.max(height * DRAG_SIDE_RANGE, DRAG_MIN_GAP);\n\n  if (clientY <= top + des) {\n    return -1;\n  } else if (clientY >= bottom - des) {\n    return 1;\n  }\n\n  return 0;\n}\n\n/**\n * Return selectedKeys according with multiple prop\n * @param selectedKeys\n * @param props\n * @returns [string]\n */\nexport function calcSelectedKeys(selectedKeys, props) {\n  if (!selectedKeys) return undefined;\n\n  var multiple = props.multiple;\n\n  if (multiple) {\n    return selectedKeys.slice();\n  }\n\n  if (selectedKeys.length) {\n    return [selectedKeys[0]];\n  }\n  return selectedKeys;\n}\n\n/**\n * Since React internal will convert key to string,\n * we need do this to avoid `checkStrictly` use number match\n */\nfunction keyListToString(keyList) {\n  if (!keyList) return keyList;\n  return keyList.map(function (key) {\n    return String(key);\n  });\n}\n\nvar internalProcessProps = function internalProcessProps(props) {\n  return props;\n};\nexport function convertDataToTree(treeData, processer) {\n  if (!treeData) return [];\n\n  var _ref3 = processer || {},\n      _ref3$processProps = _ref3.processProps,\n      processProps = _ref3$processProps === undefined ? internalProcessProps : _ref3$processProps;\n\n  var list = Array.isArray(treeData) ? treeData : [treeData];\n  return list.map(function (_ref4) {\n    var children = _ref4.children,\n        props = _objectWithoutProperties(_ref4, ['children']);\n\n    var childrenNodes = convertDataToTree(children, processer);\n\n    return React.createElement(\n      TreeNode,\n      processProps(props),\n      childrenNodes\n    );\n  });\n}\n\n// TODO: ========================= NEW LOGIC =========================\n/**\n * Calculate treeNodes entities. `processTreeEntity` is used for `rc-tree-select`\n * @param treeNodes\n * @param processTreeEntity  User can customize the entity\n */\nexport function convertTreeToEntities(treeNodes) {\n  var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      initWrapper = _ref5.initWrapper,\n      processEntity = _ref5.processEntity,\n      onProcessFinished = _ref5.onProcessFinished;\n\n  var posEntities = {};\n  var keyEntities = {};\n  var wrapper = {\n    posEntities: posEntities,\n    keyEntities: keyEntities\n  };\n\n  if (initWrapper) {\n    wrapper = initWrapper(wrapper) || wrapper;\n  }\n\n  traverseTreeNodes(treeNodes, function (item) {\n    var node = item.node,\n        index = item.index,\n        pos = item.pos,\n        key = item.key,\n        parentPos = item.parentPos;\n\n    var entity = { node: node, index: index, key: key, pos: pos };\n\n    posEntities[pos] = entity;\n    keyEntities[key] = entity;\n\n    // Fill children\n    entity.parent = posEntities[parentPos];\n    if (entity.parent) {\n      entity.parent.children = entity.parent.children || [];\n      entity.parent.children.push(entity);\n    }\n\n    if (processEntity) {\n      processEntity(entity, wrapper);\n    }\n  });\n\n  if (onProcessFinished) {\n    onProcessFinished(wrapper);\n  }\n\n  return wrapper;\n}\n\n/**\n * Parse `checkedKeys` to { checkedKeys, halfCheckedKeys } style\n */\nexport function parseCheckedKeys(keys) {\n  if (!keys) {\n    return null;\n  }\n\n  // Convert keys to object format\n  var keyProps = void 0;\n  if (Array.isArray(keys)) {\n    // [Legacy] Follow the api doc\n    keyProps = {\n      checkedKeys: keys,\n      halfCheckedKeys: undefined\n    };\n  } else if (typeof keys === 'object') {\n    keyProps = {\n      checkedKeys: keys.checked || undefined,\n      halfCheckedKeys: keys.halfChecked || undefined\n    };\n  } else {\n    warning(false, '`checkedKeys` is not an array or an object');\n    return null;\n  }\n\n  keyProps.checkedKeys = keyListToString(keyProps.checkedKeys);\n  keyProps.halfCheckedKeys = keyListToString(keyProps.halfCheckedKeys);\n\n  return keyProps;\n}\n\n/**\n * Conduct check state by the keyList. It will conduct up & from the provided key.\n * If the conduct path reach the disabled or already checked / unchecked node will stop conduct.\n * @param keyList       list of keys\n * @param isCheck       is check the node or not\n * @param keyEntities   parsed by `convertTreeToEntities` function in Tree\n * @param checkStatus   Can pass current checked status for process (usually for uncheck operation)\n * @returns {{checkedKeys: [], halfCheckedKeys: []}}\n */\nexport function conductCheck(keyList, isCheck, keyEntities) {\n  var checkStatus = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var checkedKeys = {};\n  var halfCheckedKeys = {}; // Record the key has some child checked (include child half checked)\n\n  (checkStatus.checkedKeys || []).forEach(function (key) {\n    checkedKeys[key] = true;\n  });\n\n  (checkStatus.halfCheckedKeys || []).forEach(function (key) {\n    halfCheckedKeys[key] = true;\n  });\n\n  // Conduct up\n  function conductUp(key) {\n    if (checkedKeys[key] === isCheck) return;\n\n    var entity = keyEntities[key];\n    if (!entity) return;\n\n    var children = entity.children,\n        parent = entity.parent,\n        node = entity.node;\n\n\n    if (isCheckDisabled(node)) return;\n\n    // Check child node checked status\n    var everyChildChecked = true;\n    var someChildChecked = false; // Child checked or half checked\n\n    (children || []).filter(function (child) {\n      return !isCheckDisabled(child.node);\n    }).forEach(function (_ref6) {\n      var childKey = _ref6.key;\n\n      var childChecked = checkedKeys[childKey];\n      var childHalfChecked = halfCheckedKeys[childKey];\n\n      if (childChecked || childHalfChecked) someChildChecked = true;\n      if (!childChecked) everyChildChecked = false;\n    });\n\n    // Update checked status\n    if (isCheck) {\n      checkedKeys[key] = everyChildChecked;\n    } else {\n      checkedKeys[key] = false;\n    }\n    halfCheckedKeys[key] = someChildChecked;\n\n    if (parent) {\n      conductUp(parent.key);\n    }\n  }\n\n  // Conduct down\n  function conductDown(key) {\n    if (checkedKeys[key] === isCheck) return;\n\n    var entity = keyEntities[key];\n    if (!entity) return;\n\n    var children = entity.children,\n        node = entity.node;\n\n\n    if (isCheckDisabled(node)) return;\n\n    checkedKeys[key] = isCheck;\n\n    (children || []).forEach(function (child) {\n      conductDown(child.key);\n    });\n  }\n\n  function conduct(key) {\n    var entity = keyEntities[key];\n\n    if (!entity) {\n      warning(false, '\\'' + key + '\\' does not exist in the tree.');\n      return;\n    }\n\n    var children = entity.children,\n        parent = entity.parent,\n        node = entity.node;\n\n    checkedKeys[key] = isCheck;\n\n    if (isCheckDisabled(node)) return;\n\n    // Conduct down\n    (children || []).filter(function (child) {\n      return !isCheckDisabled(child.node);\n    }).forEach(function (child) {\n      conductDown(child.key);\n    });\n\n    // Conduct up\n    if (parent) {\n      conductUp(parent.key);\n    }\n  }\n\n  (keyList || []).forEach(function (key) {\n    conduct(key);\n  });\n\n  var checkedKeyList = [];\n  var halfCheckedKeyList = [];\n\n  // Fill checked list\n  Object.keys(checkedKeys).forEach(function (key) {\n    if (checkedKeys[key]) {\n      checkedKeyList.push(key);\n    }\n  });\n\n  // Fill half checked list\n  Object.keys(halfCheckedKeys).forEach(function (key) {\n    if (!checkedKeys[key] && halfCheckedKeys[key]) {\n      halfCheckedKeyList.push(key);\n    }\n  });\n\n  return {\n    checkedKeys: checkedKeyList,\n    halfCheckedKeys: halfCheckedKeyList\n  };\n}\n\n/**\n * If user use `autoExpandParent` we should get the list of parent node\n * @param keyList\n * @param keyEntities\n */\nexport function conductExpandParent(keyList, keyEntities) {\n  var expandedKeys = {};\n\n  function conductUp(key) {\n    if (expandedKeys[key]) return;\n\n    var entity = keyEntities[key];\n    if (!entity) return;\n\n    expandedKeys[key] = true;\n\n    var parent = entity.parent,\n        node = entity.node;\n\n\n    if (isCheckDisabled(node)) return;\n\n    if (parent) {\n      conductUp(parent.key);\n    }\n  }\n\n  (keyList || []).forEach(function (key) {\n    conductUp(key);\n  });\n\n  return Object.keys(expandedKeys);\n}\n\n/**\n * Returns only the data- and aria- key/value pairs\n * @param {object} props \n */\nexport function getDataAndAria(props) {\n  return Object.keys(props).reduce(function (prev, key) {\n    if (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-') {\n      prev[key] = props[key];\n    }\n    return prev;\n  }, {});\n}","import toArray from 'rc-util/es/Children/toArray';\nimport { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\n\n// =================== Style ====================\nvar stylePrefixes = ['-webkit-', '-moz-', '-o-', 'ms-', ''];\n\nexport function getStyleProperty(node, name) {\n  // old ff need null, https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle\n  var style = window.getComputedStyle(node, null);\n  var ret = '';\n  for (var i = 0; i < stylePrefixes.length; i++) {\n    ret = style.getPropertyValue(stylePrefixes[i] + name);\n    if (ret) {\n      break;\n    }\n  }\n  return ret;\n}\n\nexport function getStyleValue(node, name) {\n  return parseFloat(getStyleProperty(node, name));\n}\n\n// ================= Transition =================\n// Event wrapper. Copy from react source code\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes['Webkit' + styleProp] = 'webkit' + eventName;\n  prefixes['Moz' + styleProp] = 'moz' + eventName;\n  prefixes['ms' + styleProp] = 'MS' + eventName;\n  prefixes['O' + styleProp] = 'o' + eventName.toLowerCase();\n\n  return prefixes;\n}\n\nexport function getVendorPrefixes(domSupport, win) {\n  var prefixes = {\n    animationend: makePrefixMap('Animation', 'AnimationEnd'),\n    transitionend: makePrefixMap('Transition', 'TransitionEnd')\n  };\n\n  if (domSupport) {\n    if (!('AnimationEvent' in win)) {\n      delete prefixes.animationend.animation;\n    }\n\n    if (!('TransitionEvent' in win)) {\n      delete prefixes.transitionend.transition;\n    }\n  }\n\n  return prefixes;\n}\n\nvar vendorPrefixes = getVendorPrefixes(canUseDOM, typeof window !== 'undefined' ? window : {});\n\nvar style = {};\n\nif (canUseDOM) {\n  style = document.createElement('div').style;\n}\n\nvar prefixedEventNames = {};\n\nexport function getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) {\n    return prefixedEventNames[eventName];\n  }\n\n  var prefixMap = vendorPrefixes[eventName];\n\n  if (prefixMap) {\n    var stylePropList = Object.keys(prefixMap);\n    var len = stylePropList.length;\n    for (var i = 0; i < len; i += 1) {\n      var styleProp = stylePropList[i];\n      if (Object.prototype.hasOwnProperty.call(prefixMap, styleProp) && styleProp in style) {\n        prefixedEventNames[eventName] = prefixMap[styleProp];\n        return prefixedEventNames[eventName];\n      }\n    }\n  }\n\n  return '';\n}\n\nexport var animationEndName = getVendorPrefixedEventName('animationend');\nexport var transitionEndName = getVendorPrefixedEventName('transitionend');\nexport var supportTransition = !!(animationEndName && transitionEndName);\n\n// ==================== Node ====================\n/**\n * [Legacy] Find the same children in both prev & next list.\n * Insert not find one before the find one, otherwise in the end. For example:\n * - prev: [1,2,3]\n * - next: [2,4]\n * -> [1,2,4,3]\n */\nexport function mergeChildren(prev, next) {\n  var prevList = toArray(prev);\n  var nextList = toArray(next);\n\n  // Skip if is single children\n  if (prevList.length === 1 && nextList.length === 1 && prevList[0].key === nextList[0].key) {\n    return nextList;\n  }\n\n  var mergeList = [];\n  var nextChildrenMap = {};\n  var missMatchChildrenList = [];\n\n  // Fill matched prev node into next node map\n  prevList.forEach(function (prevNode) {\n    if (prevNode && nextList.some(function (_ref) {\n      var key = _ref.key;\n      return key === prevNode.key;\n    })) {\n      if (missMatchChildrenList.length) {\n        nextChildrenMap[prevNode.key] = missMatchChildrenList;\n        missMatchChildrenList = [];\n      }\n    } else {\n      missMatchChildrenList.push(prevNode);\n    }\n  });\n\n  // Insert prev node before the matched next node\n  nextList.forEach(function (nextNode) {\n    if (nextNode && nextChildrenMap[nextNode.key]) {\n      mergeList = mergeList.concat(nextChildrenMap[nextNode.key]);\n    }\n    mergeList.push(nextNode);\n  });\n\n  mergeList = mergeList.concat(missMatchChildrenList);\n\n  return mergeList;\n}\n\nexport function cloneProps(props, propList) {\n  var newProps = {};\n  propList.forEach(function (prop) {\n    if (prop in props) {\n      newProps[prop] = props[prop];\n    }\n  });\n\n  return newProps;\n}\n\nexport function getTransitionName(transitionName, transitionType) {\n  if (!transitionName) return null;\n\n  if (typeof transitionName === 'object') {\n    var type = transitionType.replace(/-\\w/g, function (match) {\n      return match[1].toUpperCase();\n    });\n    return transitionName[type];\n  }\n\n  return transitionName + '-' + transitionType;\n}","import _toArray from 'babel-runtime/helpers/toArray';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport classNames from 'classnames';\nimport classes from 'component-classes';\nimport raf from 'raf';\n\nimport { getStyleValue, cloneProps, getTransitionName, supportTransition, animationEndName, transitionEndName } from './util';\n\nvar clonePropList = ['appeared', 'show', 'exclusive', 'children', 'animation'];\n\n/**\n * AnimateChild only accept one child node.\n * `transitionSupport` is used for none transition test case.\n * Default we use browser transition event support check.\n */\nexport function genAnimateChild(transitionSupport) {\n  var AnimateChild = function (_React$Component) {\n    _inherits(AnimateChild, _React$Component);\n\n    function AnimateChild() {\n      _classCallCheck(this, AnimateChild);\n\n      // [Legacy] Since old code addListener on the element.\n      // To avoid break the behaviour that component not handle animation/transition\n      // also can handle the animate, let keep the logic.\n      var _this = _possibleConstructorReturn(this, (AnimateChild.__proto__ || Object.getPrototypeOf(AnimateChild)).call(this));\n\n      _this.state = {\n        child: null,\n\n        eventQueue: [],\n        eventActive: false\n      };\n\n      _this.onDomUpdated = function () {\n        var eventActive = _this.state.eventActive;\n        var _this$props = _this.props,\n            transitionName = _this$props.transitionName,\n            animation = _this$props.animation,\n            onChildLeaved = _this$props.onChildLeaved,\n            animateKey = _this$props.animateKey;\n\n\n        var $ele = _this.getDomElement();\n\n        // Skip if dom element not ready\n        if (!$ele) return;\n\n        // [Legacy] Add animation/transition event by dom level\n        if (transitionSupport && _this.$prevEle !== $ele) {\n          _this.cleanDomEvent();\n\n          _this.$prevEle = $ele;\n          _this.$prevEle.addEventListener(animationEndName, _this.onMotionEnd);\n          _this.$prevEle.addEventListener(transitionEndName, _this.onMotionEnd);\n        }\n\n        var currentEvent = _this.getCurrentEvent();\n        if (currentEvent.empty) {\n          // Additional process the leave event\n          if (currentEvent.lastEventType === 'leave') {\n            onChildLeaved(animateKey);\n          }\n          return;\n        }\n\n        var eventType = currentEvent.eventType,\n            restQueue = currentEvent.restQueue;\n\n        var nodeClasses = classes($ele);\n\n        // [Legacy] Since origin code use js to set `className`.\n        // This caused that any component without support `className` can be forced set.\n        // Let's keep the logic.\n        function legacyAppendClass() {\n          if (!transitionSupport) return;\n\n          var basicClassName = getTransitionName(transitionName, '' + eventType);\n          if (basicClassName) nodeClasses.add(basicClassName);\n\n          if (eventActive) {\n            var activeClassName = getTransitionName(transitionName, eventType + '-active');\n            if (activeClassName) nodeClasses.add(activeClassName);\n          }\n        }\n\n        if (_this.currentEvent && _this.currentEvent.type === eventType) {\n          legacyAppendClass();\n          return;\n        }\n\n        // Clear timeout for legacy check\n        clearTimeout(_this.timeout);\n\n        // Clean up last event environment\n        if (_this.currentEvent && _this.currentEvent.animateObj && _this.currentEvent.animateObj.stop) {\n          _this.currentEvent.animateObj.stop();\n        }\n\n        // Clean up last transition class\n        if (_this.currentEvent) {\n          var basicClassName = getTransitionName(transitionName, '' + _this.currentEvent.type);\n          var activeClassName = getTransitionName(transitionName, _this.currentEvent.type + '-active');\n          if (basicClassName) nodeClasses.remove(basicClassName);\n          if (activeClassName) nodeClasses.remove(activeClassName);\n        }\n\n        // New event come\n        _this.currentEvent = {\n          type: eventType\n        };\n\n        var animationHandler = (animation || {})[eventType];\n        // =============== Check if has customize animation ===============\n        if (animationHandler) {\n          _this.currentEvent.animateObj = animationHandler($ele, function () {\n            _this.onMotionEnd({ target: $ele });\n          });\n\n          // Do next step if not animate object provided\n          if (!_this.currentEvent || !_this.currentEvent.animateObj) {\n            _this.nextEvent(restQueue);\n          }\n\n          // ==================== Use transition instead ====================\n        } else if (transitionSupport) {\n          legacyAppendClass();\n          if (!eventActive) {\n            // Trigger `eventActive` in next frame\n            raf(function () {\n              if (_this.currentEvent && _this.currentEvent.type === eventType && !_this._destroy) {\n                _this.setState({ eventActive: true }, function () {\n                  // [Legacy] Handle timeout if browser transition event not handle\n                  var transitionDelay = getStyleValue($ele, 'transition-delay') || 0;\n                  var transitionDuration = getStyleValue($ele, 'transition-duration') || 0;\n                  var animationDelay = getStyleValue($ele, 'animation-delay') || 0;\n                  var animationDuration = getStyleValue($ele, 'animation-duration') || 0;\n                  var totalTime = Math.max(transitionDuration + transitionDelay, animationDuration + animationDelay);\n\n                  if (totalTime >= 0) {\n                    _this.timeout = setTimeout(function () {\n                      _this.onMotionEnd({ target: $ele });\n                    }, totalTime * 1000);\n                  }\n                });\n              }\n            });\n          }\n\n          // ======================= Just next action =======================\n        } else {\n          _this.onMotionEnd({ target: $ele });\n        }\n      };\n\n      _this.onMotionEnd = function (_ref) {\n        var target = _ref.target;\n        var _this$props2 = _this.props,\n            transitionName = _this$props2.transitionName,\n            onChildLeaved = _this$props2.onChildLeaved,\n            animateKey = _this$props2.animateKey,\n            onAppear = _this$props2.onAppear,\n            onEnter = _this$props2.onEnter,\n            onLeave = _this$props2.onLeave,\n            onEnd = _this$props2.onEnd;\n\n        var currentEvent = _this.getCurrentEvent();\n        if (currentEvent.empty) return;\n\n        // Clear timeout for legacy check\n        clearTimeout(_this.timeout);\n\n        var restQueue = currentEvent.restQueue;\n\n\n        var $ele = _this.getDomElement();\n        if (!_this.currentEvent || $ele !== target) return;\n\n        if (_this.currentEvent.animateObj && _this.currentEvent.animateObj.stop) {\n          _this.currentEvent.animateObj.stop();\n        }\n\n        // [Legacy] Same as above, we need call js to remove the class\n        if (transitionSupport && _this.currentEvent) {\n          var basicClassName = getTransitionName(transitionName, _this.currentEvent.type);\n          var activeClassName = getTransitionName(transitionName, _this.currentEvent.type + '-active');\n\n          var nodeClasses = classes($ele);\n          if (basicClassName) nodeClasses.remove(basicClassName);\n          if (activeClassName) nodeClasses.remove(activeClassName);\n        }\n\n        // Additional process the leave event\n        if (_this.currentEvent && _this.currentEvent.type === 'leave') {\n          onChildLeaved(animateKey);\n        }\n\n        // [Legacy] Trigger on event when it's last event\n        if (_this.currentEvent && !restQueue.length) {\n          if (_this.currentEvent.type === 'appear' && onAppear) {\n            onAppear(animateKey);\n          } else if (_this.currentEvent.type === 'enter' && onEnter) {\n            onEnter(animateKey);\n          } else if (_this.currentEvent.type === 'leave' && onLeave) {\n            onLeave(animateKey);\n          }\n\n          if (onEnd) {\n            // OnEnd(key, isShow)\n            onEnd(animateKey, _this.currentEvent.type !== 'leave');\n          }\n        }\n\n        _this.currentEvent = null;\n\n        // Next queue\n        _this.nextEvent(restQueue);\n      };\n\n      _this.getDomElement = function () {\n        if (_this._destroy) return null;\n        return ReactDOM.findDOMNode(_this);\n      };\n\n      _this.getCurrentEvent = function () {\n        var _this$state$eventQueu = _this.state.eventQueue,\n            eventQueue = _this$state$eventQueu === undefined ? [] : _this$state$eventQueu;\n        var _this$props3 = _this.props,\n            animation = _this$props3.animation,\n            exclusive = _this$props3.exclusive,\n            transitionAppear = _this$props3.transitionAppear,\n            transitionEnter = _this$props3.transitionEnter,\n            transitionLeave = _this$props3.transitionLeave;\n\n\n        function hasEventHandler(eventType) {\n          return eventType === 'appear' && (transitionAppear || animation.appear) || eventType === 'enter' && (transitionEnter || animation.enter) || eventType === 'leave' && (transitionLeave || animation.leave);\n        }\n\n        var event = null;\n        // If is exclusive, only check the last event\n        if (exclusive) {\n          var eventType = eventQueue[eventQueue.length - 1];\n          if (hasEventHandler(eventType)) {\n            event = {\n              eventType: eventType,\n              restQueue: []\n            };\n          }\n        } else {\n          // Loop check the queue until find match\n          var cloneQueue = eventQueue.slice();\n          while (cloneQueue.length) {\n            var _cloneQueue = cloneQueue,\n                _cloneQueue2 = _toArray(_cloneQueue),\n                _eventType = _cloneQueue2[0],\n                restQueue = _cloneQueue2.slice(1);\n\n            if (hasEventHandler(_eventType)) {\n              event = {\n                eventType: _eventType,\n                restQueue: restQueue\n              };\n              break;\n            }\n            cloneQueue = restQueue;\n          }\n        }\n\n        if (!event) {\n          event = {\n            empty: true,\n            lastEventType: eventQueue[eventQueue.length - 1]\n          };\n        }\n\n        return event;\n      };\n\n      _this.nextEvent = function (restQueue) {\n        // Next queue\n        if (!_this._destroy) {\n          _this.setState({\n            eventQueue: restQueue,\n            eventActive: false\n          });\n        }\n      };\n\n      _this.cleanDomEvent = function () {\n        if (_this.$prevEle && transitionSupport) {\n          _this.$prevEle.removeEventListener(animationEndName, _this.onMotionEnd);\n          _this.$prevEle.removeEventListener(transitionEndName, _this.onMotionEnd);\n        }\n      };\n\n      _this.$prevEle = null;\n\n      _this.currentEvent = null;\n      _this.timeout = null;\n      return _this;\n    }\n\n    _createClass(AnimateChild, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this.onDomUpdated();\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate() {\n        this.onDomUpdated();\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        clearTimeout(this.timeout);\n        this._destroy = true;\n        this.cleanDomEvent();\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _state = this.state,\n            child = _state.child,\n            eventActive = _state.eventActive;\n        var _props = this.props,\n            showProp = _props.showProp,\n            transitionName = _props.transitionName;\n\n        var _ref2 = child.props || {},\n            className = _ref2.className;\n\n        var currentEvent = this.getCurrentEvent();\n\n        // Class name\n        var connectClassName = transitionSupport && this.currentEvent ? classNames(className, getTransitionName(transitionName, this.currentEvent.type), eventActive && getTransitionName(transitionName, this.currentEvent.type + '-active')) : className;\n\n        var show = true;\n\n        // Keep show when is in transition or has customize animate\n        if (transitionSupport && (!currentEvent.empty || this.currentEvent && this.currentEvent.animateObj)) {\n          show = true;\n        } else {\n          show = child.props[showProp];\n        }\n\n        // Clone child\n        var newChildProps = {\n          className: connectClassName\n        };\n\n        if (showProp) {\n          newChildProps[showProp] = show;\n        }\n\n        return React.cloneElement(child, newChildProps);\n      }\n    }], [{\n      key: 'getDerivedStateFromProps',\n      value: function getDerivedStateFromProps(nextProps, prevState) {\n        var _prevState$prevProps = prevState.prevProps,\n            prevProps = _prevState$prevProps === undefined ? {} : _prevState$prevProps;\n        var appeared = nextProps.appeared;\n\n\n        var newState = {\n          prevProps: cloneProps(nextProps, clonePropList)\n        };\n\n        function processState(propName, updater) {\n          if (prevProps[propName] !== nextProps[propName]) {\n            if (updater) {\n              updater(nextProps[propName]);\n            }\n            return true;\n          }\n          return false;\n        }\n\n        function pushEvent(eventType) {\n          var eventQueue = newState.eventQueue || prevState.eventQueue.slice();\n          var matchIndex = eventQueue.indexOf(eventType);\n\n          // Clean the rest event if eventType match\n          if (matchIndex !== -1) {\n            eventQueue = eventQueue.slice(0, matchIndex);\n          }\n\n          eventQueue.push(eventType);\n          newState.eventQueue = eventQueue;\n        }\n\n        // Child update. Only set child.\n        processState('children', function (child) {\n          newState.child = child;\n        });\n\n        processState('appeared', function (isAppeared) {\n          if (isAppeared) {\n            pushEvent('appear');\n          }\n        });\n\n        // Show update\n        processState('show', function (show) {\n          if (!appeared) {\n            if (show) {\n              pushEvent('enter');\n            } else {\n              pushEvent('leave');\n            }\n          }\n        });\n\n        return newState;\n      }\n    }]);\n\n    return AnimateChild;\n  }(React.Component);\n\n  AnimateChild.propTypes = {\n    transitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    transitionAppear: PropTypes.bool,\n    transitionEnter: PropTypes.bool,\n    transitionLeave: PropTypes.bool,\n    exclusive: PropTypes.bool,\n    appeared: PropTypes.bool,\n    showProp: PropTypes.string,\n\n    animateKey: PropTypes.any,\n    animation: PropTypes.object,\n    onChildLeaved: PropTypes.func,\n\n    onEnd: PropTypes.func,\n    onAppear: PropTypes.func,\n    onEnter: PropTypes.func,\n    onLeave: PropTypes.func\n  };\n\n\n  polyfill(AnimateChild);\n\n  return AnimateChild;\n}\n\nexport default genAnimateChild(supportTransition);","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport toArray from 'rc-util/es/Children/toArray';\nimport warning from 'fbjs/lib/warning';\n\nimport AnimateChild from './AnimateChild';\nimport { cloneProps, mergeChildren } from './util';\n\nvar defaultKey = 'rc_animate_' + Date.now();\nvar clonePropList = ['children'];\n\n/**\n * Default use `AnimateChild` as component.\n * Here can also pass customize `ChildComponent` for test usage.\n */\nexport function genAnimate(ChildComponent) {\n  var Animate = function (_React$Component) {\n    _inherits(Animate, _React$Component);\n\n    function Animate() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, Animate);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Animate.__proto__ || Object.getPrototypeOf(Animate)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n        appeared: true,\n        mergedChildren: []\n      }, _this.onChildLeaved = function (key) {\n        // Remove child which not exist anymore\n        if (!_this.hasChild(key)) {\n          var mergedChildren = _this.state.mergedChildren;\n\n          _this.setState({\n            mergedChildren: mergedChildren.filter(function (node) {\n              return node.key !== key;\n            })\n          });\n        }\n      }, _this.hasChild = function (key) {\n        var children = _this.props.children;\n\n\n        return toArray(children).some(function (node) {\n          return node && node.key === key;\n        });\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n    // [Legacy] Not sure usage\n    // commit: https://github.com/react-component/animate/commit/0a1cbfd647407498b10a8c6602a2dea80b42e324\n    // eslint-disable-line\n\n    _createClass(Animate, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        // No need to re-render\n        this.state.appeared = false;\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _this2 = this;\n\n        var _state = this.state,\n            appeared = _state.appeared,\n            mergedChildren = _state.mergedChildren;\n        var _props = this.props,\n            Component = _props.component,\n            componentProps = _props.componentProps,\n            className = _props.className,\n            style = _props.style,\n            showProp = _props.showProp;\n\n\n        var $children = mergedChildren.map(function (node) {\n          if (mergedChildren.length > 1 && !node.key) {\n            warning(false, 'must set key for <rc-animate> children');\n            return null;\n          }\n\n          var show = true;\n\n          if (!_this2.hasChild(node.key)) {\n            show = false;\n          } else if (showProp) {\n            show = node.props[showProp];\n          }\n\n          var key = node.key || defaultKey;\n\n          return React.createElement(\n            ChildComponent,\n            _extends({}, _this2.props, {\n              appeared: appeared,\n              show: show,\n              className: node.props.className,\n              style: node.props.style,\n              key: key,\n\n              animateKey: node.key // Keep trans origin key\n              , onChildLeaved: _this2.onChildLeaved\n            }),\n            node\n          );\n        });\n\n        // Wrap with component\n        if (Component) {\n          var passedProps = this.props;\n          if (typeof Component === 'string') {\n            passedProps = _extends({\n              className: className,\n              style: style\n            }, componentProps);\n          }\n\n          return React.createElement(\n            Component,\n            passedProps,\n            $children\n          );\n        }\n\n        return $children[0] || null;\n      }\n    }], [{\n      key: 'getDerivedStateFromProps',\n      value: function getDerivedStateFromProps(nextProps, prevState) {\n        var _prevState$prevProps = prevState.prevProps,\n            prevProps = _prevState$prevProps === undefined ? {} : _prevState$prevProps;\n\n        var newState = {\n          prevProps: cloneProps(nextProps, clonePropList)\n        };\n        var showProp = nextProps.showProp;\n\n\n        function processState(propName, updater) {\n          if (prevProps[propName] !== nextProps[propName]) {\n            updater(nextProps[propName]);\n            return true;\n          }\n          return false;\n        }\n\n        processState('children', function (children) {\n          var currentChildren = toArray(children).filter(function (node) {\n            return node;\n          });\n          var prevChildren = prevState.mergedChildren.filter(function (node) {\n            // Remove prev child if not show anymore\n            if (currentChildren.every(function (_ref2) {\n              var key = _ref2.key;\n              return key !== node.key;\n            }) && showProp && !node.props[showProp]) {\n              return false;\n            }\n            return true;\n          });\n\n          // Merge prev children to keep the animation\n          newState.mergedChildren = mergeChildren(prevChildren, currentChildren);\n        });\n\n        return newState;\n      }\n    }]);\n\n    return Animate;\n  }(React.Component);\n\n  Animate.isAnimate = true;\n  Animate.propTypes = {\n    component: PropTypes.any,\n    componentProps: PropTypes.object,\n    animation: PropTypes.object,\n    transitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    transitionEnter: PropTypes.bool,\n    transitionAppear: PropTypes.bool,\n    exclusive: PropTypes.bool,\n    transitionLeave: PropTypes.bool,\n    onEnd: PropTypes.func,\n    onEnter: PropTypes.func,\n    onLeave: PropTypes.func,\n    onAppear: PropTypes.func,\n    showProp: PropTypes.string,\n    children: PropTypes.node,\n    style: PropTypes.object,\n    className: PropTypes.string\n  };\n  Animate.defaultProps = {\n    animation: {},\n    component: 'span',\n    componentProps: {},\n    transitionEnter: true,\n    transitionLeave: true,\n    transitionAppear: false\n  };\n\n\n  polyfill(Animate);\n\n  return Animate;\n}\n\nexport default genAnimate(AnimateChild);","import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport classNames from 'classnames';\nimport raf from 'raf';\nimport { getTransitionName, animationEndName, transitionEndName, supportTransition } from './util';\n\nvar STATUS_NONE = 'none';\nvar STATUS_APPEAR = 'appear';\nvar STATUS_ENTER = 'enter';\nvar STATUS_LEAVE = 'leave';\n\n/**\n * `transitionSupport` is used for none transition test case.\n * Default we use browser transition event support check.\n */\nexport function genCSSMotion(transitionSupport) {\n  var CSSMotion = function (_React$Component) {\n    _inherits(CSSMotion, _React$Component);\n\n    function CSSMotion() {\n      _classCallCheck(this, CSSMotion);\n\n      var _this = _possibleConstructorReturn(this, (CSSMotion.__proto__ || Object.getPrototypeOf(CSSMotion)).call(this));\n\n      _this.onDomUpdate = function () {\n        var _this$state = _this.state,\n            status = _this$state.status,\n            newStatus = _this$state.newStatus;\n        var _this$props = _this.props,\n            onAppearStart = _this$props.onAppearStart,\n            onEnterStart = _this$props.onEnterStart,\n            onLeaveStart = _this$props.onLeaveStart,\n            onAppearActive = _this$props.onAppearActive,\n            onEnterActive = _this$props.onEnterActive,\n            onLeaveActive = _this$props.onLeaveActive,\n            motionAppear = _this$props.motionAppear,\n            motionEnter = _this$props.motionEnter,\n            motionLeave = _this$props.motionLeave;\n\n\n        if (!transitionSupport) {\n          return;\n        }\n\n        // Event injection\n        var $ele = ReactDOM.findDOMNode(_this);\n        if (_this.$ele !== $ele) {\n          _this.removeEventListener(_this.$ele);\n          _this.addEventListener($ele);\n          _this.$ele = $ele;\n        }\n\n        // Init status\n        if (newStatus && status === STATUS_APPEAR && motionAppear) {\n          _this.updateStatus(onAppearStart, null, null, function () {\n            _this.updateActiveStatus(onAppearActive, STATUS_APPEAR);\n          });\n        } else if (newStatus && status === STATUS_ENTER && motionEnter) {\n          _this.updateStatus(onEnterStart, null, null, function () {\n            _this.updateActiveStatus(onEnterActive, STATUS_ENTER);\n          });\n        } else if (newStatus && status === STATUS_LEAVE && motionLeave) {\n          _this.updateStatus(onLeaveStart, null, null, function () {\n            _this.updateActiveStatus(onLeaveActive, STATUS_LEAVE);\n          });\n        }\n      };\n\n      _this.onMotionEnd = function (event) {\n        var _this$state2 = _this.state,\n            status = _this$state2.status,\n            statusActive = _this$state2.statusActive;\n        var _this$props2 = _this.props,\n            onAppearEnd = _this$props2.onAppearEnd,\n            onEnterEnd = _this$props2.onEnterEnd,\n            onLeaveEnd = _this$props2.onLeaveEnd;\n\n        if (status === STATUS_APPEAR && statusActive) {\n          _this.updateStatus(onAppearEnd, { status: STATUS_NONE }, event);\n        } else if (status === STATUS_ENTER && statusActive) {\n          _this.updateStatus(onEnterEnd, { status: STATUS_NONE }, event);\n        } else if (status === STATUS_LEAVE && statusActive) {\n          _this.updateStatus(onLeaveEnd, { status: STATUS_NONE }, event);\n        }\n      };\n\n      _this.addEventListener = function ($ele) {\n        if (!$ele) return;\n\n        $ele.addEventListener(transitionEndName, _this.onMotionEnd);\n        $ele.addEventListener(animationEndName, _this.onMotionEnd);\n      };\n\n      _this.removeEventListener = function ($ele) {\n        if (!$ele) return;\n\n        $ele.removeEventListener(transitionEndName, _this.onMotionEnd);\n        $ele.removeEventListener(animationEndName, _this.onMotionEnd);\n      };\n\n      _this.updateStatus = function (styleFunc, additionalState, event, callback) {\n        var statusStyle = styleFunc ? styleFunc(ReactDOM.findDOMNode(_this), event) : null;\n\n        if (statusStyle === false || _this._destroyed) return;\n\n        var nextStep = void 0;\n        if (callback) {\n          nextStep = function nextStep() {\n            _this.nextFrame(callback);\n          };\n        }\n\n        _this.setState(_extends({\n          statusStyle: typeof statusStyle === 'object' ? statusStyle : null,\n          newStatus: false\n        }, additionalState), nextStep); // Trigger before next frame & after `componentDidMount`\n      };\n\n      _this.updateActiveStatus = function (styleFunc, currentStatus) {\n        // `setState` use `postMessage` to trigger at the end of frame.\n        // Let's use requestAnimationFrame to update new state in next frame.\n        _this.nextFrame(function () {\n          var status = _this.state.status;\n\n          if (status !== currentStatus) return;\n\n          _this.updateStatus(styleFunc, { statusActive: true });\n        });\n      };\n\n      _this.nextFrame = function (func) {\n        _this.cancelNextFrame();\n        _this.raf = raf(func);\n      };\n\n      _this.cancelNextFrame = function () {\n        if (_this.raf) {\n          raf.cancel(_this.raf);\n          _this.raf = null;\n        }\n      };\n\n      _this.state = {\n        status: STATUS_NONE,\n        statusActive: false,\n        newStatus: false,\n        statusStyle: null\n      };\n      _this.$ele = null;\n      _this.raf = null;\n      return _this;\n    }\n\n    _createClass(CSSMotion, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this.onDomUpdate();\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate() {\n        this.onDomUpdate();\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        this._destroyed = true;\n        this.removeEventListener(this.$ele);\n        this.cancelNextFrame();\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _classNames;\n\n        var _state = this.state,\n            status = _state.status,\n            statusActive = _state.statusActive,\n            statusStyle = _state.statusStyle;\n        var _props = this.props,\n            children = _props.children,\n            motionName = _props.motionName,\n            visible = _props.visible;\n\n\n        if (!children) return null;\n\n        if (status === STATUS_NONE || !transitionSupport) {\n          return visible ? children({}) : null;\n        }\n\n        return children({\n          className: classNames((_classNames = {}, _defineProperty(_classNames, getTransitionName(motionName, status), status !== STATUS_NONE), _defineProperty(_classNames, getTransitionName(motionName, status + '-active'), status !== STATUS_NONE && statusActive), _defineProperty(_classNames, motionName, typeof motionName === 'string'), _classNames)),\n          style: statusStyle\n        });\n      }\n    }], [{\n      key: 'getDerivedStateFromProps',\n      value: function getDerivedStateFromProps(props, _ref) {\n        var prevProps = _ref.prevProps;\n\n        if (!transitionSupport) return {};\n\n        var visible = props.visible,\n            motionAppear = props.motionAppear,\n            motionEnter = props.motionEnter,\n            motionLeave = props.motionLeave,\n            motionLeaveImmediately = props.motionLeaveImmediately;\n\n        var newState = {\n          prevProps: props\n        };\n\n        // Appear\n        if (!prevProps && visible && motionAppear) {\n          newState.status = STATUS_APPEAR;\n          newState.statusActive = false;\n          newState.newStatus = true;\n        }\n\n        // Enter\n        if (prevProps && !prevProps.visible && visible && motionEnter) {\n          newState.status = STATUS_ENTER;\n          newState.statusActive = false;\n          newState.newStatus = true;\n        }\n\n        // Leave\n        if (prevProps && prevProps.visible && !visible && motionLeave || !prevProps && motionLeaveImmediately && !visible && motionLeave) {\n          newState.status = STATUS_LEAVE;\n          newState.statusActive = false;\n          newState.newStatus = true;\n        }\n\n        return newState;\n      }\n    }]);\n\n    return CSSMotion;\n  }(React.Component);\n\n  CSSMotion.propTypes = {\n    visible: PropTypes.bool,\n    children: PropTypes.func,\n    motionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    motionAppear: PropTypes.bool,\n    motionEnter: PropTypes.bool,\n    motionLeave: PropTypes.bool,\n    motionLeaveImmediately: PropTypes.bool, // Trigger leave motion immediately\n    onAppearStart: PropTypes.func,\n    onAppearActive: PropTypes.func,\n    onAppearEnd: PropTypes.func,\n    onEnterStart: PropTypes.func,\n    onEnterActive: PropTypes.func,\n    onEnterEnd: PropTypes.func,\n    onLeaveStart: PropTypes.func,\n    onLeaveActive: PropTypes.func,\n    onLeaveEnd: PropTypes.func\n  };\n  CSSMotion.defaultProps = {\n    visible: true,\n    motionEnter: true,\n    motionAppear: true,\n    motionLeave: true\n  };\n\n\n  polyfill(CSSMotion);\n\n  return CSSMotion;\n}\n\nexport default genCSSMotion(supportTransition);","import Animate from './Animate';\nimport AnimateChild from './AnimateChild';\nimport CSSMotion from './CSSMotion';\n\nexport { AnimateChild, CSSMotion };\n\nexport default Animate;","import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Animate from 'rc-animate';\nimport toArray from 'rc-util/es/Children/toArray';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { nodeContextTypes } from './contextTypes';\nimport { getNodeChildren, getDataAndAria, mapChildren, warnOnlyTreeNode } from './util';\n\nvar ICON_OPEN = 'open';\nvar ICON_CLOSE = 'close';\n\nvar defaultTitle = '---';\n\nvar TreeNode = function (_React$Component) {\n  _inherits(TreeNode, _React$Component);\n\n  function TreeNode(props) {\n    _classCallCheck(this, TreeNode);\n\n    var _this = _possibleConstructorReturn(this, (TreeNode.__proto__ || Object.getPrototypeOf(TreeNode)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.state = {\n      dragNodeHighlight: false\n    };\n    return _this;\n  }\n\n  _createClass(TreeNode, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return _extends({}, this.context, {\n        rcTreeNode: {\n          // onUpCheckConduct: this.onUpCheckConduct,\n        }\n      });\n    }\n\n    // Isomorphic needn't load data in server side\n\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.syncLoadData(this.props);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.syncLoadData(this.props);\n    }\n\n    // Disabled item still can be switch\n\n\n    // Drag usage\n\n  }, {\n    key: 'isSelectable',\n    value: function isSelectable() {\n      var selectable = this.props.selectable;\n      var treeSelectable = this.context.rcTree.selectable;\n\n      // Ignore when selectable is undefined or null\n\n      if (typeof selectable === 'boolean') {\n        return selectable;\n      }\n\n      return treeSelectable;\n    }\n\n    // Load data to avoid default expanded tree without data\n\n\n    // Switcher\n\n\n    // Checkbox\n\n\n    // Icon + Title\n\n\n    // Children list wrapped with `Animation`\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames;\n\n      var loading = this.props.loading;\n\n      var _props = this.props,\n          className = _props.className,\n          style = _props.style,\n          dragOver = _props.dragOver,\n          dragOverGapTop = _props.dragOverGapTop,\n          dragOverGapBottom = _props.dragOverGapBottom,\n          isLeaf = _props.isLeaf,\n          expanded = _props.expanded,\n          selected = _props.selected,\n          checked = _props.checked,\n          halfChecked = _props.halfChecked,\n          otherProps = _objectWithoutProperties(_props, ['className', 'style', 'dragOver', 'dragOverGapTop', 'dragOverGapBottom', 'isLeaf', 'expanded', 'selected', 'checked', 'halfChecked']);\n\n      var _context$rcTree = this.context.rcTree,\n          prefixCls = _context$rcTree.prefixCls,\n          filterTreeNode = _context$rcTree.filterTreeNode,\n          draggable = _context$rcTree.draggable;\n\n      var disabled = this.isDisabled();\n      var dataOrAriaAttributeProps = getDataAndAria(otherProps);\n\n      return React.createElement(\n        'li',\n        _extends({\n          className: classNames(className, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-treenode-disabled', disabled), _defineProperty(_classNames, prefixCls + '-treenode-switcher-' + (expanded ? 'open' : 'close'), !isLeaf), _defineProperty(_classNames, prefixCls + '-treenode-checkbox-checked', checked), _defineProperty(_classNames, prefixCls + '-treenode-checkbox-indeterminate', halfChecked), _defineProperty(_classNames, prefixCls + '-treenode-selected', selected), _defineProperty(_classNames, prefixCls + '-treenode-loading', loading), _defineProperty(_classNames, 'drag-over', !disabled && dragOver), _defineProperty(_classNames, 'drag-over-gap-top', !disabled && dragOverGapTop), _defineProperty(_classNames, 'drag-over-gap-bottom', !disabled && dragOverGapBottom), _defineProperty(_classNames, 'filter-node', filterTreeNode && filterTreeNode(this)), _classNames)),\n\n          style: style,\n\n          role: 'treeitem',\n\n          onDragEnter: draggable ? this.onDragEnter : undefined,\n          onDragOver: draggable ? this.onDragOver : undefined,\n          onDragLeave: draggable ? this.onDragLeave : undefined,\n          onDrop: draggable ? this.onDrop : undefined,\n          onDragEnd: draggable ? this.onDragEnd : undefined\n        }, dataOrAriaAttributeProps),\n        this.renderSwitcher(),\n        this.renderCheckbox(),\n        this.renderSelector(),\n        this.renderChildren()\n      );\n    }\n  }]);\n\n  return TreeNode;\n}(React.Component);\n\nTreeNode.propTypes = {\n  eventKey: PropTypes.string, // Pass by parent `cloneElement`\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  root: PropTypes.object,\n  onSelect: PropTypes.func,\n\n  // By parent\n  expanded: PropTypes.bool,\n  selected: PropTypes.bool,\n  checked: PropTypes.bool,\n  loaded: PropTypes.bool,\n  loading: PropTypes.bool,\n  halfChecked: PropTypes.bool,\n  children: PropTypes.node,\n  title: PropTypes.node,\n  pos: PropTypes.string,\n  dragOver: PropTypes.bool,\n  dragOverGapTop: PropTypes.bool,\n  dragOverGapBottom: PropTypes.bool,\n\n  // By user\n  isLeaf: PropTypes.bool,\n  selectable: PropTypes.bool,\n  disabled: PropTypes.bool,\n  disableCheckbox: PropTypes.bool,\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  switcherIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n};\nTreeNode.contextTypes = nodeContextTypes;\nTreeNode.childContextTypes = nodeContextTypes;\nTreeNode.defaultProps = {\n  title: defaultTitle\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onSelectorClick = function (e) {\n    // Click trigger before select/check operation\n    var onNodeClick = _this2.context.rcTree.onNodeClick;\n\n    onNodeClick(e, _this2);\n\n    if (_this2.isSelectable()) {\n      _this2.onSelect(e);\n    } else {\n      _this2.onCheck(e);\n    }\n  };\n\n  this.onSelectorDoubleClick = function (e) {\n    var onNodeDoubleClick = _this2.context.rcTree.onNodeDoubleClick;\n\n    onNodeDoubleClick(e, _this2);\n  };\n\n  this.onSelect = function (e) {\n    if (_this2.isDisabled()) return;\n\n    var onNodeSelect = _this2.context.rcTree.onNodeSelect;\n\n    e.preventDefault();\n    onNodeSelect(e, _this2);\n  };\n\n  this.onCheck = function (e) {\n    if (_this2.isDisabled()) return;\n\n    var _props2 = _this2.props,\n        disableCheckbox = _props2.disableCheckbox,\n        checked = _props2.checked;\n    var _context$rcTree2 = _this2.context.rcTree,\n        checkable = _context$rcTree2.checkable,\n        onNodeCheck = _context$rcTree2.onNodeCheck;\n\n\n    if (!checkable || disableCheckbox) return;\n\n    e.preventDefault();\n    var targetChecked = !checked;\n    onNodeCheck(e, _this2, targetChecked);\n  };\n\n  this.onMouseEnter = function (e) {\n    var onNodeMouseEnter = _this2.context.rcTree.onNodeMouseEnter;\n\n    onNodeMouseEnter(e, _this2);\n  };\n\n  this.onMouseLeave = function (e) {\n    var onNodeMouseLeave = _this2.context.rcTree.onNodeMouseLeave;\n\n    onNodeMouseLeave(e, _this2);\n  };\n\n  this.onContextMenu = function (e) {\n    var onNodeContextMenu = _this2.context.rcTree.onNodeContextMenu;\n\n    onNodeContextMenu(e, _this2);\n  };\n\n  this.onDragStart = function (e) {\n    var onNodeDragStart = _this2.context.rcTree.onNodeDragStart;\n\n\n    e.stopPropagation();\n    _this2.setState({\n      dragNodeHighlight: true\n    });\n    onNodeDragStart(e, _this2);\n\n    try {\n      // ie throw error\n      // firefox-need-it\n      e.dataTransfer.setData('text/plain', '');\n    } catch (error) {\n      // empty\n    }\n  };\n\n  this.onDragEnter = function (e) {\n    var onNodeDragEnter = _this2.context.rcTree.onNodeDragEnter;\n\n\n    e.preventDefault();\n    e.stopPropagation();\n    onNodeDragEnter(e, _this2);\n  };\n\n  this.onDragOver = function (e) {\n    var onNodeDragOver = _this2.context.rcTree.onNodeDragOver;\n\n\n    e.preventDefault();\n    e.stopPropagation();\n    onNodeDragOver(e, _this2);\n  };\n\n  this.onDragLeave = function (e) {\n    var onNodeDragLeave = _this2.context.rcTree.onNodeDragLeave;\n\n\n    e.stopPropagation();\n    onNodeDragLeave(e, _this2);\n  };\n\n  this.onDragEnd = function (e) {\n    var onNodeDragEnd = _this2.context.rcTree.onNodeDragEnd;\n\n\n    e.stopPropagation();\n    _this2.setState({\n      dragNodeHighlight: false\n    });\n    onNodeDragEnd(e, _this2);\n  };\n\n  this.onDrop = function (e) {\n    var onNodeDrop = _this2.context.rcTree.onNodeDrop;\n\n\n    e.preventDefault();\n    e.stopPropagation();\n    _this2.setState({\n      dragNodeHighlight: false\n    });\n    onNodeDrop(e, _this2);\n  };\n\n  this.onExpand = function (e) {\n    var onNodeExpand = _this2.context.rcTree.onNodeExpand;\n\n    onNodeExpand(e, _this2);\n  };\n\n  this.setSelectHandle = function (node) {\n    _this2.selectHandle = node;\n  };\n\n  this.getNodeChildren = function () {\n    var children = _this2.props.children;\n\n    var originList = toArray(children).filter(function (node) {\n      return node;\n    });\n    var targetList = getNodeChildren(originList);\n\n    if (originList.length !== targetList.length) {\n      warnOnlyTreeNode();\n    }\n\n    return targetList;\n  };\n\n  this.getNodeState = function () {\n    var expanded = _this2.props.expanded;\n\n\n    if (_this2.isLeaf()) {\n      return null;\n    }\n\n    return expanded ? ICON_OPEN : ICON_CLOSE;\n  };\n\n  this.isLeaf = function () {\n    var _props3 = _this2.props,\n        isLeaf = _props3.isLeaf,\n        loaded = _props3.loaded;\n    var loadData = _this2.context.rcTree.loadData;\n\n\n    var hasChildren = _this2.getNodeChildren().length !== 0;\n\n    if (isLeaf === false) {\n      return false;\n    }\n\n    return isLeaf || !loadData && !hasChildren || loadData && loaded && !hasChildren;\n  };\n\n  this.isDisabled = function () {\n    var disabled = _this2.props.disabled;\n    var treeDisabled = _this2.context.rcTree.disabled;\n\n    // Follow the logic of Selectable\n\n    if (disabled === false) {\n      return false;\n    }\n\n    return !!(treeDisabled || disabled);\n  };\n\n  this.syncLoadData = function (props) {\n    var expanded = props.expanded,\n        loading = props.loading,\n        loaded = props.loaded;\n    var _context$rcTree3 = _this2.context.rcTree,\n        loadData = _context$rcTree3.loadData,\n        onNodeLoad = _context$rcTree3.onNodeLoad;\n\n\n    if (loading) return;\n\n    // read from state to avoid loadData at same time\n    if (loadData && expanded && !_this2.isLeaf()) {\n      // We needn't reload data when has children in sync logic\n      // It's only needed in node expanded\n      var hasChildren = _this2.getNodeChildren().length !== 0;\n      if (!hasChildren && !loaded) {\n        onNodeLoad(_this2);\n      }\n    }\n  };\n\n  this.renderSwitcher = function () {\n    var _props4 = _this2.props,\n        expanded = _props4.expanded,\n        switcherIconFromProps = _props4.switcherIcon;\n    var _context$rcTree4 = _this2.context.rcTree,\n        prefixCls = _context$rcTree4.prefixCls,\n        switcherIconFromCtx = _context$rcTree4.switcherIcon;\n\n\n    var switcherIcon = switcherIconFromProps || switcherIconFromCtx;\n\n    if (_this2.isLeaf()) {\n      return React.createElement(\n        'span',\n        { className: classNames(prefixCls + '-switcher', prefixCls + '-switcher-noop') },\n        typeof switcherIcon === 'function' ? React.createElement(switcherIcon, _extends({}, _this2.props, { isLeaf: true })) : switcherIcon\n      );\n    }\n\n    var switcherCls = classNames(prefixCls + '-switcher', prefixCls + '-switcher_' + (expanded ? ICON_OPEN : ICON_CLOSE));\n    return React.createElement(\n      'span',\n      { onClick: _this2.onExpand, className: switcherCls },\n      typeof switcherIcon === 'function' ? React.createElement(switcherIcon, _extends({}, _this2.props, { isLeaf: false })) : switcherIcon\n    );\n  };\n\n  this.renderCheckbox = function () {\n    var _props5 = _this2.props,\n        checked = _props5.checked,\n        halfChecked = _props5.halfChecked,\n        disableCheckbox = _props5.disableCheckbox;\n    var _context$rcTree5 = _this2.context.rcTree,\n        prefixCls = _context$rcTree5.prefixCls,\n        checkable = _context$rcTree5.checkable;\n\n    var disabled = _this2.isDisabled();\n\n    if (!checkable) return null;\n\n    // [Legacy] Custom element should be separate with `checkable` in future\n    var $custom = typeof checkable !== 'boolean' ? checkable : null;\n\n    return React.createElement(\n      'span',\n      {\n        className: classNames(prefixCls + '-checkbox', checked && prefixCls + '-checkbox-checked', !checked && halfChecked && prefixCls + '-checkbox-indeterminate', (disabled || disableCheckbox) && prefixCls + '-checkbox-disabled'),\n        onClick: _this2.onCheck\n      },\n      $custom\n    );\n  };\n\n  this.renderIcon = function () {\n    var loading = _this2.props.loading;\n    var prefixCls = _this2.context.rcTree.prefixCls;\n\n\n    return React.createElement('span', {\n      className: classNames(prefixCls + '-iconEle', prefixCls + '-icon__' + (_this2.getNodeState() || 'docu'), loading && prefixCls + '-icon_loading')\n    });\n  };\n\n  this.renderSelector = function () {\n    var dragNodeHighlight = _this2.state.dragNodeHighlight;\n    var _props6 = _this2.props,\n        title = _props6.title,\n        selected = _props6.selected,\n        icon = _props6.icon,\n        loading = _props6.loading;\n    var _context$rcTree6 = _this2.context.rcTree,\n        prefixCls = _context$rcTree6.prefixCls,\n        showIcon = _context$rcTree6.showIcon,\n        treeIcon = _context$rcTree6.icon,\n        draggable = _context$rcTree6.draggable,\n        loadData = _context$rcTree6.loadData;\n\n    var disabled = _this2.isDisabled();\n\n    var wrapClass = prefixCls + '-node-content-wrapper';\n\n    // Icon - Still show loading icon when loading without showIcon\n    var $icon = void 0;\n\n    if (showIcon) {\n      var currentIcon = icon || treeIcon;\n\n      $icon = currentIcon ? React.createElement(\n        'span',\n        {\n          className: classNames(prefixCls + '-iconEle', prefixCls + '-icon__customize')\n        },\n        typeof currentIcon === 'function' ? React.createElement(currentIcon, _extends({}, _this2.props)) : currentIcon\n      ) : _this2.renderIcon();\n    } else if (loadData && loading) {\n      $icon = _this2.renderIcon();\n    }\n\n    // Title\n    var $title = React.createElement(\n      'span',\n      { className: prefixCls + '-title' },\n      title\n    );\n\n    return React.createElement(\n      'span',\n      {\n        ref: _this2.setSelectHandle,\n        title: typeof title === 'string' ? title : '',\n        className: classNames('' + wrapClass, wrapClass + '-' + (_this2.getNodeState() || 'normal'), !disabled && (selected || dragNodeHighlight) && prefixCls + '-node-selected', !disabled && draggable && 'draggable'),\n        draggable: !disabled && draggable || undefined,\n        'aria-grabbed': !disabled && draggable || undefined,\n\n        onMouseEnter: _this2.onMouseEnter,\n        onMouseLeave: _this2.onMouseLeave,\n        onContextMenu: _this2.onContextMenu,\n        onClick: _this2.onSelectorClick,\n        onDoubleClick: _this2.onSelectorDoubleClick,\n        onDragStart: draggable ? _this2.onDragStart : undefined\n      },\n      $icon,\n      $title\n    );\n  };\n\n  this.renderChildren = function () {\n    var _props7 = _this2.props,\n        expanded = _props7.expanded,\n        pos = _props7.pos;\n    var _context$rcTree7 = _this2.context.rcTree,\n        prefixCls = _context$rcTree7.prefixCls,\n        openTransitionName = _context$rcTree7.openTransitionName,\n        openAnimation = _context$rcTree7.openAnimation,\n        renderTreeNode = _context$rcTree7.renderTreeNode;\n\n\n    var animProps = {};\n    if (openTransitionName) {\n      animProps.transitionName = openTransitionName;\n    } else if (typeof openAnimation === 'object') {\n      animProps.animation = _extends({}, openAnimation);\n    }\n\n    // Children TreeNode\n    var nodeList = _this2.getNodeChildren();\n\n    if (nodeList.length === 0) {\n      return null;\n    }\n\n    var $children = void 0;\n    if (expanded) {\n      $children = React.createElement(\n        'ul',\n        {\n          className: classNames(prefixCls + '-child-tree', expanded && prefixCls + '-child-tree-open'),\n          'data-expanded': expanded,\n          role: 'group'\n        },\n        mapChildren(nodeList, function (node, index) {\n          return renderTreeNode(node, index, pos);\n        })\n      );\n    }\n\n    return React.createElement(\n      Animate,\n      _extends({}, animProps, {\n        showProp: 'data-expanded',\n        component: ''\n      }),\n      $children\n    );\n  };\n};\n\nTreeNode.isTreeNode = 1;\n\npolyfill(TreeNode);\n\nexport default TreeNode;","import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport warning from 'warning';\nimport toArray from 'rc-util/es/Children/toArray';\nimport { polyfill } from 'react-lifecycles-compat';\n\nimport { treeContextTypes } from './contextTypes';\nimport { convertTreeToEntities, convertDataToTree, getDataAndAria, getPosition, getDragNodesKeys, parseCheckedKeys, conductExpandParent, calcSelectedKeys, calcDropPosition, arrAdd, arrDel, posToArr, mapChildren, conductCheck, warnOnlyTreeNode } from './util';\n\nvar Tree = function (_React$Component) {\n  _inherits(Tree, _React$Component);\n\n  function Tree() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Tree);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Tree.__proto__ || Object.getPrototypeOf(Tree)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      // TODO: Remove this eslint\n      posEntities: {}, // eslint-disable-line react/no-unused-state\n      keyEntities: {},\n\n      selectedKeys: [],\n      checkedKeys: [],\n      halfCheckedKeys: [],\n      loadedKeys: [],\n      loadingKeys: [],\n\n      treeNode: []\n    }, _this.onNodeDragStart = function (event, node) {\n      var expandedKeys = _this.state.expandedKeys;\n      var onDragStart = _this.props.onDragStart;\n      var _node$props = node.props,\n          eventKey = _node$props.eventKey,\n          children = _node$props.children;\n\n\n      _this.dragNode = node;\n\n      _this.setState({\n        dragNodesKeys: getDragNodesKeys(children, node),\n        expandedKeys: arrDel(expandedKeys, eventKey)\n      });\n\n      if (onDragStart) {\n        onDragStart({ event: event, node: node });\n      }\n    }, _this.onNodeDragEnter = function (event, node) {\n      var expandedKeys = _this.state.expandedKeys;\n      var onDragEnter = _this.props.onDragEnter;\n      var _node$props2 = node.props,\n          pos = _node$props2.pos,\n          eventKey = _node$props2.eventKey;\n\n\n      if (!_this.dragNode) return;\n\n      var dropPosition = calcDropPosition(event, node);\n\n      // Skip if drag node is self\n      if (_this.dragNode.props.eventKey === eventKey && dropPosition === 0) {\n        _this.setState({\n          dragOverNodeKey: '',\n          dropPosition: null\n        });\n        return;\n      }\n\n      // Ref: https://github.com/react-component/tree/issues/132\n      // Add timeout to let onDragLevel fire before onDragEnter,\n      // so that we can clean drag props for onDragLeave node.\n      // Macro task for this:\n      // https://html.spec.whatwg.org/multipage/webappapis.html#clean-up-after-running-script\n      setTimeout(function () {\n        // Update drag over node\n        _this.setState({\n          dragOverNodeKey: eventKey,\n          dropPosition: dropPosition\n        });\n\n        // Side effect for delay drag\n        if (!_this.delayedDragEnterLogic) {\n          _this.delayedDragEnterLogic = {};\n        }\n        Object.keys(_this.delayedDragEnterLogic).forEach(function (key) {\n          clearTimeout(_this.delayedDragEnterLogic[key]);\n        });\n        _this.delayedDragEnterLogic[pos] = setTimeout(function () {\n          var newExpandedKeys = arrAdd(expandedKeys, eventKey);\n          _this.setState({\n            expandedKeys: newExpandedKeys\n          });\n\n          if (onDragEnter) {\n            onDragEnter({ event: event, node: node, expandedKeys: newExpandedKeys });\n          }\n        }, 400);\n      }, 0);\n    }, _this.onNodeDragOver = function (event, node) {\n      var onDragOver = _this.props.onDragOver;\n      var eventKey = node.props.eventKey;\n\n      // Update drag position\n\n      if (_this.dragNode && eventKey === _this.state.dragOverNodeKey) {\n        var dropPosition = calcDropPosition(event, node);\n\n        if (dropPosition === _this.state.dropPosition) return;\n\n        _this.setState({\n          dropPosition: dropPosition\n        });\n      }\n\n      if (onDragOver) {\n        onDragOver({ event: event, node: node });\n      }\n    }, _this.onNodeDragLeave = function (event, node) {\n      var onDragLeave = _this.props.onDragLeave;\n\n\n      _this.setState({\n        dragOverNodeKey: ''\n      });\n\n      if (onDragLeave) {\n        onDragLeave({ event: event, node: node });\n      }\n    }, _this.onNodeDragEnd = function (event, node) {\n      var onDragEnd = _this.props.onDragEnd;\n\n      _this.setState({\n        dragOverNodeKey: ''\n      });\n      if (onDragEnd) {\n        onDragEnd({ event: event, node: node });\n      }\n\n      _this.dragNode = null;\n    }, _this.onNodeDrop = function (event, node) {\n      var _this$state = _this.state,\n          _this$state$dragNodes = _this$state.dragNodesKeys,\n          dragNodesKeys = _this$state$dragNodes === undefined ? [] : _this$state$dragNodes,\n          dropPosition = _this$state.dropPosition;\n      var onDrop = _this.props.onDrop;\n      var _node$props3 = node.props,\n          eventKey = _node$props3.eventKey,\n          pos = _node$props3.pos;\n\n\n      _this.setState({\n        dragOverNodeKey: ''\n      });\n\n      if (dragNodesKeys.indexOf(eventKey) !== -1) {\n        warning(false, 'Can not drop to dragNode(include it\\'s children node)');\n        return;\n      }\n\n      var posArr = posToArr(pos);\n\n      var dropResult = {\n        event: event,\n        node: node,\n        dragNode: _this.dragNode,\n        dragNodesKeys: dragNodesKeys.slice(),\n        dropPosition: dropPosition + Number(posArr[posArr.length - 1])\n      };\n\n      if (dropPosition !== 0) {\n        dropResult.dropToGap = true;\n      }\n\n      if (onDrop) {\n        onDrop(dropResult);\n      }\n\n      _this.dragNode = null;\n    }, _this.onNodeClick = function (e, treeNode) {\n      var onClick = _this.props.onClick;\n\n      if (onClick) {\n        onClick(e, treeNode);\n      }\n    }, _this.onNodeDoubleClick = function (e, treeNode) {\n      var onDoubleClick = _this.props.onDoubleClick;\n\n      if (onDoubleClick) {\n        onDoubleClick(e, treeNode);\n      }\n    }, _this.onNodeSelect = function (e, treeNode) {\n      var selectedKeys = _this.state.selectedKeys;\n      var keyEntities = _this.state.keyEntities;\n      var _this$props = _this.props,\n          onSelect = _this$props.onSelect,\n          multiple = _this$props.multiple;\n      var _treeNode$props = treeNode.props,\n          selected = _treeNode$props.selected,\n          eventKey = _treeNode$props.eventKey;\n\n      var targetSelected = !selected;\n\n      // Update selected keys\n      if (!targetSelected) {\n        selectedKeys = arrDel(selectedKeys, eventKey);\n      } else if (!multiple) {\n        selectedKeys = [eventKey];\n      } else {\n        selectedKeys = arrAdd(selectedKeys, eventKey);\n      }\n\n      // [Legacy] Not found related usage in doc or upper libs\n      var selectedNodes = selectedKeys.map(function (key) {\n        var entity = keyEntities[key];\n        if (!entity) return null;\n\n        return entity.node;\n      }).filter(function (node) {\n        return node;\n      });\n\n      _this.setUncontrolledState({ selectedKeys: selectedKeys });\n\n      if (onSelect) {\n        var eventObj = {\n          event: 'select',\n          selected: targetSelected,\n          node: treeNode,\n          selectedNodes: selectedNodes,\n          nativeEvent: e.nativeEvent\n        };\n        onSelect(selectedKeys, eventObj);\n      }\n    }, _this.onNodeCheck = function (e, treeNode, checked) {\n      var _this$state2 = _this.state,\n          keyEntities = _this$state2.keyEntities,\n          oriCheckedKeys = _this$state2.checkedKeys,\n          oriHalfCheckedKeys = _this$state2.halfCheckedKeys;\n      var _this$props2 = _this.props,\n          checkStrictly = _this$props2.checkStrictly,\n          onCheck = _this$props2.onCheck;\n      var eventKey = treeNode.props.eventKey;\n\n      // Prepare trigger arguments\n\n      var checkedObj = void 0;\n      var eventObj = {\n        event: 'check',\n        node: treeNode,\n        checked: checked,\n        nativeEvent: e.nativeEvent\n      };\n\n      if (checkStrictly) {\n        var checkedKeys = checked ? arrAdd(oriCheckedKeys, eventKey) : arrDel(oriCheckedKeys, eventKey);\n        var halfCheckedKeys = arrDel(oriHalfCheckedKeys, eventKey);\n        checkedObj = { checked: checkedKeys, halfChecked: halfCheckedKeys };\n\n        eventObj.checkedNodes = checkedKeys.map(function (key) {\n          return keyEntities[key];\n        }).filter(function (entity) {\n          return entity;\n        }).map(function (entity) {\n          return entity.node;\n        });\n\n        _this.setUncontrolledState({ checkedKeys: checkedKeys });\n      } else {\n        var _conductCheck = conductCheck([eventKey], checked, keyEntities, {\n          checkedKeys: oriCheckedKeys, halfCheckedKeys: oriHalfCheckedKeys\n        }),\n            _checkedKeys = _conductCheck.checkedKeys,\n            _halfCheckedKeys = _conductCheck.halfCheckedKeys;\n\n        checkedObj = _checkedKeys;\n\n        // [Legacy] This is used for `rc-tree-select`\n        eventObj.checkedNodes = [];\n        eventObj.checkedNodesPositions = [];\n        eventObj.halfCheckedKeys = _halfCheckedKeys;\n\n        _checkedKeys.forEach(function (key) {\n          var entity = keyEntities[key];\n          if (!entity) return;\n\n          var node = entity.node,\n              pos = entity.pos;\n\n\n          eventObj.checkedNodes.push(node);\n          eventObj.checkedNodesPositions.push({ node: node, pos: pos });\n        });\n\n        _this.setUncontrolledState({\n          checkedKeys: _checkedKeys,\n          halfCheckedKeys: _halfCheckedKeys\n        });\n      }\n\n      if (onCheck) {\n        onCheck(checkedObj, eventObj);\n      }\n    }, _this.onNodeLoad = function (treeNode) {\n      return new Promise(function (resolve) {\n        // We need to get the latest state of loading/loaded keys\n        _this.setState(function (_ref2) {\n          var _ref2$loadedKeys = _ref2.loadedKeys,\n              loadedKeys = _ref2$loadedKeys === undefined ? [] : _ref2$loadedKeys,\n              _ref2$loadingKeys = _ref2.loadingKeys,\n              loadingKeys = _ref2$loadingKeys === undefined ? [] : _ref2$loadingKeys;\n          var _this$props3 = _this.props,\n              loadData = _this$props3.loadData,\n              onLoad = _this$props3.onLoad;\n          var eventKey = treeNode.props.eventKey;\n\n\n          if (!loadData || loadedKeys.indexOf(eventKey) !== -1 || loadingKeys.indexOf(eventKey) !== -1) {\n            // react 15 will warn if return null\n            return {};\n          }\n\n          // Process load data\n          var promise = loadData(treeNode);\n          promise.then(function () {\n            var newLoadedKeys = arrAdd(_this.state.loadedKeys, eventKey);\n            var newLoadingKeys = arrDel(_this.state.loadingKeys, eventKey);\n\n            // onLoad should trigger before internal setState to avoid `loadData` trigger twice.\n            // https://github.com/ant-design/ant-design/issues/12464\n            if (onLoad) {\n              var eventObj = {\n                event: 'load',\n                node: treeNode\n              };\n              onLoad(newLoadedKeys, eventObj);\n            }\n\n            _this.setUncontrolledState({\n              loadedKeys: newLoadedKeys\n            });\n            _this.setState({\n              loadingKeys: newLoadingKeys\n            });\n\n            resolve();\n          });\n\n          return {\n            loadingKeys: arrAdd(loadingKeys, eventKey)\n          };\n        });\n      });\n    }, _this.onNodeExpand = function (e, treeNode) {\n      var expandedKeys = _this.state.expandedKeys;\n      var _this$props4 = _this.props,\n          onExpand = _this$props4.onExpand,\n          loadData = _this$props4.loadData;\n      var _treeNode$props2 = treeNode.props,\n          eventKey = _treeNode$props2.eventKey,\n          expanded = _treeNode$props2.expanded;\n\n      // Update selected keys\n\n      var index = expandedKeys.indexOf(eventKey);\n      var targetExpanded = !expanded;\n\n      warning(expanded && index !== -1 || !expanded && index === -1, 'Expand state not sync with index check');\n\n      if (targetExpanded) {\n        expandedKeys = arrAdd(expandedKeys, eventKey);\n      } else {\n        expandedKeys = arrDel(expandedKeys, eventKey);\n      }\n\n      _this.setUncontrolledState({ expandedKeys: expandedKeys });\n\n      if (onExpand) {\n        onExpand(expandedKeys, {\n          node: treeNode,\n          expanded: targetExpanded,\n          nativeEvent: e.nativeEvent\n        });\n      }\n\n      // Async Load data\n      if (targetExpanded && loadData) {\n        var loadPromise = _this.onNodeLoad(treeNode);\n        return loadPromise ? loadPromise.then(function () {\n          // [Legacy] Refresh logic\n          _this.setUncontrolledState({ expandedKeys: expandedKeys });\n        }) : null;\n      }\n\n      return null;\n    }, _this.onNodeMouseEnter = function (event, node) {\n      var onMouseEnter = _this.props.onMouseEnter;\n\n      if (onMouseEnter) {\n        onMouseEnter({ event: event, node: node });\n      }\n    }, _this.onNodeMouseLeave = function (event, node) {\n      var onMouseLeave = _this.props.onMouseLeave;\n\n      if (onMouseLeave) {\n        onMouseLeave({ event: event, node: node });\n      }\n    }, _this.onNodeContextMenu = function (event, node) {\n      var onRightClick = _this.props.onRightClick;\n\n      if (onRightClick) {\n        event.preventDefault();\n        onRightClick({ event: event, node: node });\n      }\n    }, _this.setUncontrolledState = function (state) {\n      var needSync = false;\n      var newState = {};\n\n      Object.keys(state).forEach(function (name) {\n        if (name in _this.props) return;\n\n        needSync = true;\n        newState[name] = state[name];\n      });\n\n      if (needSync) {\n        _this.setState(newState);\n      }\n    }, _this.isKeyChecked = function (key) {\n      var _this$state$checkedKe = _this.state.checkedKeys,\n          checkedKeys = _this$state$checkedKe === undefined ? [] : _this$state$checkedKe;\n\n      return checkedKeys.indexOf(key) !== -1;\n    }, _this.renderTreeNode = function (child, index) {\n      var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var _this$state3 = _this.state,\n          keyEntities = _this$state3.keyEntities,\n          _this$state3$expanded = _this$state3.expandedKeys,\n          expandedKeys = _this$state3$expanded === undefined ? [] : _this$state3$expanded,\n          _this$state3$selected = _this$state3.selectedKeys,\n          selectedKeys = _this$state3$selected === undefined ? [] : _this$state3$selected,\n          _this$state3$halfChec = _this$state3.halfCheckedKeys,\n          halfCheckedKeys = _this$state3$halfChec === undefined ? [] : _this$state3$halfChec,\n          _this$state3$loadedKe = _this$state3.loadedKeys,\n          loadedKeys = _this$state3$loadedKe === undefined ? [] : _this$state3$loadedKe,\n          _this$state3$loadingK = _this$state3.loadingKeys,\n          loadingKeys = _this$state3$loadingK === undefined ? [] : _this$state3$loadingK,\n          dragOverNodeKey = _this$state3.dragOverNodeKey,\n          dropPosition = _this$state3.dropPosition;\n\n      var pos = getPosition(level, index);\n      var key = child.key || pos;\n\n      if (!keyEntities[key]) {\n        warnOnlyTreeNode();\n        return null;\n      }\n\n      return React.cloneElement(child, {\n        key: key,\n        eventKey: key,\n        expanded: expandedKeys.indexOf(key) !== -1,\n        selected: selectedKeys.indexOf(key) !== -1,\n        loaded: loadedKeys.indexOf(key) !== -1,\n        loading: loadingKeys.indexOf(key) !== -1,\n        checked: _this.isKeyChecked(key),\n        halfChecked: halfCheckedKeys.indexOf(key) !== -1,\n        pos: pos,\n\n        // [Legacy] Drag props\n        dragOver: dragOverNodeKey === key && dropPosition === 0,\n        dragOverGapTop: dragOverNodeKey === key && dropPosition === -1,\n        dragOverGapBottom: dragOverNodeKey === key && dropPosition === 1\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Tree, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          selectable = _props.selectable,\n          showIcon = _props.showIcon,\n          icon = _props.icon,\n          draggable = _props.draggable,\n          checkable = _props.checkable,\n          checkStrictly = _props.checkStrictly,\n          disabled = _props.disabled,\n          loadData = _props.loadData,\n          filterTreeNode = _props.filterTreeNode,\n          openTransitionName = _props.openTransitionName,\n          openAnimation = _props.openAnimation,\n          switcherIcon = _props.switcherIcon;\n\n\n      return {\n        rcTree: {\n          // root: this,\n\n          prefixCls: prefixCls,\n          selectable: selectable,\n          showIcon: showIcon,\n          icon: icon,\n          switcherIcon: switcherIcon,\n          draggable: draggable,\n          checkable: checkable,\n          checkStrictly: checkStrictly,\n          disabled: disabled,\n          openTransitionName: openTransitionName,\n          openAnimation: openAnimation,\n\n          loadData: loadData,\n          filterTreeNode: filterTreeNode,\n          renderTreeNode: this.renderTreeNode,\n          isKeyChecked: this.isKeyChecked,\n\n          onNodeClick: this.onNodeClick,\n          onNodeDoubleClick: this.onNodeDoubleClick,\n          onNodeExpand: this.onNodeExpand,\n          onNodeSelect: this.onNodeSelect,\n          onNodeCheck: this.onNodeCheck,\n          onNodeLoad: this.onNodeLoad,\n          onNodeMouseEnter: this.onNodeMouseEnter,\n          onNodeMouseLeave: this.onNodeMouseLeave,\n          onNodeContextMenu: this.onNodeContextMenu,\n          onNodeDragStart: this.onNodeDragStart,\n          onNodeDragEnter: this.onNodeDragEnter,\n          onNodeDragOver: this.onNodeDragOver,\n          onNodeDragLeave: this.onNodeDragLeave,\n          onNodeDragEnd: this.onNodeDragEnd,\n          onNodeDrop: this.onNodeDrop\n        }\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var treeNode = this.state.treeNode;\n      var _props2 = this.props,\n          prefixCls = _props2.prefixCls,\n          className = _props2.className,\n          focusable = _props2.focusable,\n          showLine = _props2.showLine,\n          _props2$tabIndex = _props2.tabIndex,\n          tabIndex = _props2$tabIndex === undefined ? 0 : _props2$tabIndex;\n\n      var domProps = getDataAndAria(this.props);\n\n      if (focusable) {\n        domProps.tabIndex = tabIndex;\n        domProps.onKeyDown = this.onKeyDown;\n      }\n\n      return React.createElement(\n        'ul',\n        _extends({}, domProps, {\n          className: classNames(prefixCls, className, _defineProperty({}, prefixCls + '-show-line', showLine)),\n          role: 'tree',\n          unselectable: 'on'\n        }),\n        mapChildren(treeNode, function (node, index) {\n          return _this2.renderTreeNode(node, index);\n        })\n      );\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, prevState) {\n      var prevProps = prevState.prevProps;\n\n      var newState = {\n        prevProps: props\n      };\n\n      function needSync(name) {\n        return !prevProps && name in props || prevProps && prevProps[name] !== props[name];\n      }\n\n      // ================== Tree Node ==================\n      var treeNode = null;\n\n      // Check if `treeData` or `children` changed and save into the state.\n      if (needSync('treeData')) {\n        treeNode = convertDataToTree(props.treeData);\n      } else if (needSync('children')) {\n        treeNode = toArray(props.children);\n      }\n\n      // Tree support filter function which will break the tree structure in the vdm.\n      // We cache the treeNodes in state so that we can return the treeNode in event trigger.\n      if (treeNode) {\n        newState.treeNode = treeNode;\n\n        // Calculate the entities data for quick match\n        var entitiesMap = convertTreeToEntities(treeNode);\n        newState.posEntities = entitiesMap.posEntities;\n        newState.keyEntities = entitiesMap.keyEntities;\n      }\n\n      var keyEntities = newState.keyEntities || prevState.keyEntities;\n\n      // ================ expandedKeys =================\n      if (needSync('expandedKeys') || prevProps && needSync('autoExpandParent')) {\n        newState.expandedKeys = props.autoExpandParent || !prevProps && props.defaultExpandParent ? conductExpandParent(props.expandedKeys, keyEntities) : props.expandedKeys;\n      } else if (!prevProps && props.defaultExpandAll) {\n        newState.expandedKeys = Object.keys(keyEntities);\n      } else if (!prevProps && props.defaultExpandedKeys) {\n        newState.expandedKeys = props.autoExpandParent || props.defaultExpandParent ? conductExpandParent(props.defaultExpandedKeys, keyEntities) : props.defaultExpandedKeys;\n      }\n\n      // ================ selectedKeys =================\n      if (props.selectable) {\n        if (needSync('selectedKeys')) {\n          newState.selectedKeys = calcSelectedKeys(props.selectedKeys, props);\n        } else if (!prevProps && props.defaultSelectedKeys) {\n          newState.selectedKeys = calcSelectedKeys(props.defaultSelectedKeys, props);\n        }\n      }\n\n      // ================= checkedKeys =================\n      if (props.checkable) {\n        var checkedKeyEntity = void 0;\n\n        if (needSync('checkedKeys')) {\n          checkedKeyEntity = parseCheckedKeys(props.checkedKeys) || {};\n        } else if (!prevProps && props.defaultCheckedKeys) {\n          checkedKeyEntity = parseCheckedKeys(props.defaultCheckedKeys) || {};\n        } else if (treeNode) {\n          // If treeNode changed, we also need check it\n          checkedKeyEntity = {\n            checkedKeys: prevState.checkedKeys,\n            halfCheckedKeys: prevState.halfCheckedKeys\n          };\n        }\n\n        if (checkedKeyEntity) {\n          var _checkedKeyEntity = checkedKeyEntity,\n              _checkedKeyEntity$che = _checkedKeyEntity.checkedKeys,\n              checkedKeys = _checkedKeyEntity$che === undefined ? [] : _checkedKeyEntity$che,\n              _checkedKeyEntity$hal = _checkedKeyEntity.halfCheckedKeys,\n              halfCheckedKeys = _checkedKeyEntity$hal === undefined ? [] : _checkedKeyEntity$hal;\n\n\n          if (!props.checkStrictly) {\n            var conductKeys = conductCheck(checkedKeys, true, keyEntities);\n            checkedKeys = conductKeys.checkedKeys;\n            halfCheckedKeys = conductKeys.halfCheckedKeys;\n          }\n\n          newState.checkedKeys = checkedKeys;\n          newState.halfCheckedKeys = halfCheckedKeys;\n        }\n      }\n      // ================= loadedKeys ==================\n      if (needSync('loadedKeys')) {\n        newState.loadedKeys = props.loadedKeys;\n      }\n\n      return newState;\n    }\n\n    /**\n     * [Legacy] Select handler is less small than node,\n     * so that this will trigger when drag enter node or select handler.\n     * This is a little tricky if customize css without padding.\n     * Better for use mouse move event to refresh drag state.\n     * But let's just keep it to avoid event trigger logic change.\n     */\n\n\n    /**\n     * Only update the value which is not in props\n     */\n\n\n    /**\n     * [Legacy] Original logic use `key` as tracking clue.\n     * We have to use `cloneElement` to pass `key`.\n     */\n\n  }]);\n\n  return Tree;\n}(React.Component);\n\nTree.propTypes = {\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  tabIndex: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  children: PropTypes.any,\n  treeData: PropTypes.array, // Generate treeNode by children\n  showLine: PropTypes.bool,\n  showIcon: PropTypes.bool,\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  focusable: PropTypes.bool,\n  selectable: PropTypes.bool,\n  disabled: PropTypes.bool,\n  multiple: PropTypes.bool,\n  checkable: PropTypes.oneOfType([PropTypes.bool, PropTypes.node]),\n  checkStrictly: PropTypes.bool,\n  draggable: PropTypes.bool,\n  defaultExpandParent: PropTypes.bool,\n  autoExpandParent: PropTypes.bool,\n  defaultExpandAll: PropTypes.bool,\n  defaultExpandedKeys: PropTypes.arrayOf(PropTypes.string),\n  expandedKeys: PropTypes.arrayOf(PropTypes.string),\n  defaultCheckedKeys: PropTypes.arrayOf(PropTypes.string),\n  checkedKeys: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])), PropTypes.object]),\n  defaultSelectedKeys: PropTypes.arrayOf(PropTypes.string),\n  selectedKeys: PropTypes.arrayOf(PropTypes.string),\n  onClick: PropTypes.func,\n  onDoubleClick: PropTypes.func,\n  onExpand: PropTypes.func,\n  onCheck: PropTypes.func,\n  onSelect: PropTypes.func,\n  onLoad: PropTypes.func,\n  loadData: PropTypes.func,\n  loadedKeys: PropTypes.arrayOf(PropTypes.string),\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onRightClick: PropTypes.func,\n  onDragStart: PropTypes.func,\n  onDragEnter: PropTypes.func,\n  onDragOver: PropTypes.func,\n  onDragLeave: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  onDrop: PropTypes.func,\n  filterTreeNode: PropTypes.func,\n  openTransitionName: PropTypes.string,\n  openAnimation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  switcherIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n};\nTree.childContextTypes = treeContextTypes;\nTree.defaultProps = {\n  prefixCls: 'rc-tree',\n  showLine: false,\n  showIcon: true,\n  selectable: true,\n  multiple: false,\n  checkable: false,\n  disabled: false,\n  checkStrictly: false,\n  draggable: false,\n  defaultExpandParent: true,\n  autoExpandParent: false,\n  defaultExpandAll: false,\n  defaultExpandedKeys: [],\n  defaultCheckedKeys: [],\n  defaultSelectedKeys: []\n};\n\n\npolyfill(Tree);\n\nexport default Tree;","import Tree from './Tree';\nimport TreeNode from './TreeNode';\n\nTree.TreeNode = TreeNode;\n\nexport { TreeNode };\nexport default Tree;","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n","import _extends from 'babel-runtime/helpers/extends';\n/**\n * Webpack has bug for import loop, which is not the same behavior as ES module.\n * When util.js imports the TreeNode for tree generate will cause treeContextTypes be empty.\n */\n\nimport PropTypes from 'prop-types';\n\n/**\n * Thought we still use `cloneElement` to pass `key`,\n * other props can pass with context for future refactor.\n */\nexport var treeContextTypes = {\n  rcTree: PropTypes.shape({\n    root: PropTypes.object,\n\n    prefixCls: PropTypes.string,\n    selectable: PropTypes.bool,\n    showIcon: PropTypes.bool,\n    icon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    draggable: PropTypes.bool,\n    checkable: PropTypes.oneOfType([PropTypes.bool, PropTypes.node]),\n    checkStrictly: PropTypes.bool,\n    disabled: PropTypes.bool,\n    openTransitionName: PropTypes.string,\n    openAnimation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n    loadData: PropTypes.func,\n    filterTreeNode: PropTypes.func,\n    renderTreeNode: PropTypes.func,\n\n    isKeyChecked: PropTypes.func,\n\n    onNodeClick: PropTypes.func,\n    onNodeDoubleClick: PropTypes.func,\n    onNodeExpand: PropTypes.func,\n    onNodeSelect: PropTypes.func,\n    onNodeCheck: PropTypes.func,\n    onNodeMouseEnter: PropTypes.func,\n    onNodeMouseLeave: PropTypes.func,\n    onNodeContextMenu: PropTypes.func,\n    onNodeDragStart: PropTypes.func,\n    onNodeDragEnter: PropTypes.func,\n    onNodeDragOver: PropTypes.func,\n    onNodeDragLeave: PropTypes.func,\n    onNodeDragEnd: PropTypes.func,\n    onNodeDrop: PropTypes.func\n\n    // TODO: Remove this\n    // onBatchNodeCheck: PropTypes.func,\n    // onCheckConductFinished: PropTypes.func,\n\n    // Tree will store the entities when the treeNode refresh.\n    // User can pass the func to add more info to customize the additional info.\n    // processTreeEntity: PropTypes.func,\n  })\n};\n\nexport var nodeContextTypes = _extends({}, treeContextTypes, {\n  rcTreeNode: PropTypes.shape({\n    onUpCheckConduct: PropTypes.func\n  })\n});","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  return Array.isArray(arr) ? arr : (0, _from2.default)(arr);\n};","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\n/**\n * Simple, lightweight module assisting with the detection and context of\n * Worker. Helps avoid circular dependencies and allows code to reason about\n * whether or not they are in a Worker, even if they never include the main\n * `ReactWorker` dependency.\n */\nvar ExecutionEnvironment = {\n\n  canUseDOM: canUseDOM,\n\n  canUseWorkers: typeof Worker !== 'undefined',\n\n  canUseEventListeners: canUseDOM && !!(window.addEventListener || window.attachEvent),\n\n  canUseViewport: canUseDOM && !!window.screen,\n\n  isInWorker: !canUseDOM // For now, this is true - might change in the future.\n\n};\n\nmodule.exports = ExecutionEnvironment;","import toArray from 'rc-util/es/Children/toArray';\nimport { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\n\n// =================== Style ====================\nvar stylePrefixes = ['-webkit-', '-moz-', '-o-', 'ms-', ''];\n\nexport function getStyleProperty(node, name) {\n  // old ff need null, https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle\n  var style = window.getComputedStyle(node, null);\n  var ret = '';\n  for (var i = 0; i < stylePrefixes.length; i++) {\n    ret = style.getPropertyValue(stylePrefixes[i] + name);\n    if (ret) {\n      break;\n    }\n  }\n  return ret;\n}\n\nexport function getStyleValue(node, name) {\n  return parseFloat(getStyleProperty(node, name));\n}\n\n// ================= Transition =================\n// Event wrapper. Copy from react source code\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes['Webkit' + styleProp] = 'webkit' + eventName;\n  prefixes['Moz' + styleProp] = 'moz' + eventName;\n  prefixes['ms' + styleProp] = 'MS' + eventName;\n  prefixes['O' + styleProp] = 'o' + eventName.toLowerCase();\n\n  return prefixes;\n}\n\nexport function getVendorPrefixes(domSupport, win) {\n  var prefixes = {\n    animationend: makePrefixMap('Animation', 'AnimationEnd'),\n    transitionend: makePrefixMap('Transition', 'TransitionEnd')\n  };\n\n  if (domSupport) {\n    if (!('AnimationEvent' in win)) {\n      delete prefixes.animationend.animation;\n    }\n\n    if (!('TransitionEvent' in win)) {\n      delete prefixes.transitionend.transition;\n    }\n  }\n\n  return prefixes;\n}\n\nvar vendorPrefixes = getVendorPrefixes(canUseDOM, typeof window !== 'undefined' ? window : {});\n\nvar style = {};\n\nif (canUseDOM) {\n  style = document.createElement('div').style;\n}\n\nvar prefixedEventNames = {};\n\nexport function getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) {\n    return prefixedEventNames[eventName];\n  }\n\n  var prefixMap = vendorPrefixes[eventName];\n\n  if (prefixMap) {\n    var stylePropList = Object.keys(prefixMap);\n    var len = stylePropList.length;\n    for (var i = 0; i < len; i += 1) {\n      var styleProp = stylePropList[i];\n      if (Object.prototype.hasOwnProperty.call(prefixMap, styleProp) && styleProp in style) {\n        prefixedEventNames[eventName] = prefixMap[styleProp];\n        return prefixedEventNames[eventName];\n      }\n    }\n  }\n\n  return '';\n}\n\nexport var animationEndName = getVendorPrefixedEventName('animationend');\nexport var transitionEndName = getVendorPrefixedEventName('transitionend');\nexport var supportTransition = !!(animationEndName && transitionEndName);\n\n// ==================== Node ====================\n/**\n * [Legacy] Find the same children in both prev & next list.\n * Insert not find one before the find one, otherwise in the end. For example:\n * - prev: [1,2,3]\n * - next: [2,4]\n * -> [1,2,4,3]\n */\nexport function mergeChildren(prev, next) {\n  var prevList = toArray(prev);\n  var nextList = toArray(next);\n\n  // Skip if is single children\n  if (prevList.length === 1 && nextList.length === 1 && prevList[0].key === nextList[0].key) {\n    return nextList;\n  }\n\n  var mergeList = [];\n  var nextChildrenMap = {};\n  var missMatchChildrenList = [];\n\n  // Fill matched prev node into next node map\n  prevList.forEach(function (prevNode) {\n    if (prevNode && nextList.some(function (_ref) {\n      var key = _ref.key;\n      return key === prevNode.key;\n    })) {\n      if (missMatchChildrenList.length) {\n        nextChildrenMap[prevNode.key] = missMatchChildrenList;\n        missMatchChildrenList = [];\n      }\n    } else {\n      missMatchChildrenList.push(prevNode);\n    }\n  });\n\n  // Insert prev node before the matched next node\n  nextList.forEach(function (nextNode) {\n    if (nextNode && nextChildrenMap[nextNode.key]) {\n      mergeList = mergeList.concat(nextChildrenMap[nextNode.key]);\n    }\n    mergeList.push(nextNode);\n  });\n\n  mergeList = mergeList.concat(missMatchChildrenList);\n\n  return mergeList;\n}\n\nexport function cloneProps(props, propList) {\n  var newProps = {};\n  propList.forEach(function (prop) {\n    if (prop in props) {\n      newProps[prop] = props[prop];\n    }\n  });\n\n  return newProps;\n}\n\nexport function getTransitionName(transitionName, transitionType) {\n  if (!transitionName) return null;\n\n  if (typeof transitionName === 'object') {\n    var type = transitionType.replace(/-\\w/g, function (match) {\n      return match[1].toUpperCase();\n    });\n    return transitionName[type];\n  }\n\n  return transitionName + '-' + transitionType;\n}","import _toArray from 'babel-runtime/helpers/toArray';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport classNames from 'classnames';\nimport classes from 'component-classes';\nimport raf from 'raf';\n\nimport { getStyleValue, cloneProps, getTransitionName, supportTransition, animationEndName, transitionEndName } from './util';\n\nvar clonePropList = ['appeared', 'show', 'exclusive', 'children', 'animation'];\n\n/**\n * AnimateChild only accept one child node.\n * `transitionSupport` is used for none transition test case.\n * Default we use browser transition event support check.\n */\nexport function genAnimateChild(transitionSupport) {\n  var AnimateChild = function (_React$Component) {\n    _inherits(AnimateChild, _React$Component);\n\n    function AnimateChild() {\n      _classCallCheck(this, AnimateChild);\n\n      // [Legacy] Since old code addListener on the element.\n      // To avoid break the behaviour that component not handle animation/transition\n      // also can handle the animate, let keep the logic.\n      var _this = _possibleConstructorReturn(this, (AnimateChild.__proto__ || Object.getPrototypeOf(AnimateChild)).call(this));\n\n      _this.state = {\n        child: null,\n\n        eventQueue: [],\n        eventActive: false\n      };\n\n      _this.onDomUpdated = function () {\n        var eventActive = _this.state.eventActive;\n        var _this$props = _this.props,\n            transitionName = _this$props.transitionName,\n            animation = _this$props.animation,\n            onChildLeaved = _this$props.onChildLeaved,\n            animateKey = _this$props.animateKey;\n\n\n        var $ele = _this.getDomElement();\n\n        // Skip if dom element not ready\n        if (!$ele) return;\n\n        // [Legacy] Add animation/transition event by dom level\n        if (transitionSupport && _this.$prevEle !== $ele) {\n          _this.cleanDomEvent();\n\n          _this.$prevEle = $ele;\n          _this.$prevEle.addEventListener(animationEndName, _this.onMotionEnd);\n          _this.$prevEle.addEventListener(transitionEndName, _this.onMotionEnd);\n        }\n\n        var currentEvent = _this.getCurrentEvent();\n        if (currentEvent.empty) {\n          // Additional process the leave event\n          if (currentEvent.lastEventType === 'leave') {\n            onChildLeaved(animateKey);\n          }\n          return;\n        }\n\n        var eventType = currentEvent.eventType,\n            restQueue = currentEvent.restQueue;\n\n        var nodeClasses = classes($ele);\n\n        // [Legacy] Since origin code use js to set `className`.\n        // This caused that any component without support `className` can be forced set.\n        // Let's keep the logic.\n        function legacyAppendClass() {\n          if (!transitionSupport) return;\n\n          var basicClassName = getTransitionName(transitionName, '' + eventType);\n          if (basicClassName) nodeClasses.add(basicClassName);\n\n          if (eventActive) {\n            var activeClassName = getTransitionName(transitionName, eventType + '-active');\n            if (activeClassName) nodeClasses.add(activeClassName);\n          }\n        }\n\n        if (_this.currentEvent && _this.currentEvent.type === eventType) {\n          legacyAppendClass();\n          return;\n        }\n\n        // Clear timeout for legacy check\n        clearTimeout(_this.timeout);\n\n        // Clean up last event environment\n        if (_this.currentEvent && _this.currentEvent.animateObj && _this.currentEvent.animateObj.stop) {\n          _this.currentEvent.animateObj.stop();\n        }\n\n        // Clean up last transition class\n        if (_this.currentEvent) {\n          var basicClassName = getTransitionName(transitionName, '' + _this.currentEvent.type);\n          var activeClassName = getTransitionName(transitionName, _this.currentEvent.type + '-active');\n          if (basicClassName) nodeClasses.remove(basicClassName);\n          if (activeClassName) nodeClasses.remove(activeClassName);\n        }\n\n        // New event come\n        _this.currentEvent = {\n          type: eventType\n        };\n\n        var animationHandler = (animation || {})[eventType];\n        // =============== Check if has customize animation ===============\n        if (animationHandler) {\n          _this.currentEvent.animateObj = animationHandler($ele, function () {\n            _this.onMotionEnd({ target: $ele });\n          });\n\n          // Do next step if not animate object provided\n          if (!_this.currentEvent || !_this.currentEvent.animateObj) {\n            _this.nextEvent(restQueue);\n          }\n\n          // ==================== Use transition instead ====================\n        } else if (transitionSupport) {\n          legacyAppendClass();\n          if (!eventActive) {\n            // Trigger `eventActive` in next frame\n            raf(function () {\n              if (_this.currentEvent && _this.currentEvent.type === eventType && !_this._destroy) {\n                _this.setState({ eventActive: true }, function () {\n                  // [Legacy] Handle timeout if browser transition event not handle\n                  var transitionDelay = getStyleValue($ele, 'transition-delay') || 0;\n                  var transitionDuration = getStyleValue($ele, 'transition-duration') || 0;\n                  var animationDelay = getStyleValue($ele, 'animation-delay') || 0;\n                  var animationDuration = getStyleValue($ele, 'animation-duration') || 0;\n                  var totalTime = Math.max(transitionDuration + transitionDelay, animationDuration + animationDelay);\n\n                  if (totalTime >= 0) {\n                    _this.timeout = setTimeout(function () {\n                      _this.onMotionEnd({ target: $ele });\n                    }, totalTime * 1000);\n                  }\n                });\n              }\n            });\n          }\n\n          // ======================= Just next action =======================\n        } else {\n          _this.onMotionEnd({ target: $ele });\n        }\n      };\n\n      _this.onMotionEnd = function (_ref) {\n        var target = _ref.target;\n        var _this$props2 = _this.props,\n            transitionName = _this$props2.transitionName,\n            onChildLeaved = _this$props2.onChildLeaved,\n            animateKey = _this$props2.animateKey,\n            onAppear = _this$props2.onAppear,\n            onEnter = _this$props2.onEnter,\n            onLeave = _this$props2.onLeave,\n            onEnd = _this$props2.onEnd;\n\n        var currentEvent = _this.getCurrentEvent();\n        if (currentEvent.empty) return;\n\n        // Clear timeout for legacy check\n        clearTimeout(_this.timeout);\n\n        var restQueue = currentEvent.restQueue;\n\n\n        var $ele = _this.getDomElement();\n        if (!_this.currentEvent || $ele !== target) return;\n\n        if (_this.currentEvent.animateObj && _this.currentEvent.animateObj.stop) {\n          _this.currentEvent.animateObj.stop();\n        }\n\n        // [Legacy] Same as above, we need call js to remove the class\n        if (transitionSupport && _this.currentEvent) {\n          var basicClassName = getTransitionName(transitionName, _this.currentEvent.type);\n          var activeClassName = getTransitionName(transitionName, _this.currentEvent.type + '-active');\n\n          var nodeClasses = classes($ele);\n          if (basicClassName) nodeClasses.remove(basicClassName);\n          if (activeClassName) nodeClasses.remove(activeClassName);\n        }\n\n        // Additional process the leave event\n        if (_this.currentEvent && _this.currentEvent.type === 'leave') {\n          onChildLeaved(animateKey);\n        }\n\n        // [Legacy] Trigger on event when it's last event\n        if (_this.currentEvent && !restQueue.length) {\n          if (_this.currentEvent.type === 'appear' && onAppear) {\n            onAppear(animateKey);\n          } else if (_this.currentEvent.type === 'enter' && onEnter) {\n            onEnter(animateKey);\n          } else if (_this.currentEvent.type === 'leave' && onLeave) {\n            onLeave(animateKey);\n          }\n\n          if (onEnd) {\n            // OnEnd(key, isShow)\n            onEnd(animateKey, _this.currentEvent.type !== 'leave');\n          }\n        }\n\n        _this.currentEvent = null;\n\n        // Next queue\n        _this.nextEvent(restQueue);\n      };\n\n      _this.getDomElement = function () {\n        if (_this._destroy) return null;\n        return ReactDOM.findDOMNode(_this);\n      };\n\n      _this.getCurrentEvent = function () {\n        var _this$state$eventQueu = _this.state.eventQueue,\n            eventQueue = _this$state$eventQueu === undefined ? [] : _this$state$eventQueu;\n        var _this$props3 = _this.props,\n            animation = _this$props3.animation,\n            exclusive = _this$props3.exclusive,\n            transitionAppear = _this$props3.transitionAppear,\n            transitionEnter = _this$props3.transitionEnter,\n            transitionLeave = _this$props3.transitionLeave;\n\n\n        function hasEventHandler(eventType) {\n          return eventType === 'appear' && (transitionAppear || animation.appear) || eventType === 'enter' && (transitionEnter || animation.enter) || eventType === 'leave' && (transitionLeave || animation.leave);\n        }\n\n        var event = null;\n        // If is exclusive, only check the last event\n        if (exclusive) {\n          var eventType = eventQueue[eventQueue.length - 1];\n          if (hasEventHandler(eventType)) {\n            event = {\n              eventType: eventType,\n              restQueue: []\n            };\n          }\n        } else {\n          // Loop check the queue until find match\n          var cloneQueue = eventQueue.slice();\n          while (cloneQueue.length) {\n            var _cloneQueue = cloneQueue,\n                _cloneQueue2 = _toArray(_cloneQueue),\n                _eventType = _cloneQueue2[0],\n                restQueue = _cloneQueue2.slice(1);\n\n            if (hasEventHandler(_eventType)) {\n              event = {\n                eventType: _eventType,\n                restQueue: restQueue\n              };\n              break;\n            }\n            cloneQueue = restQueue;\n          }\n        }\n\n        if (!event) {\n          event = {\n            empty: true,\n            lastEventType: eventQueue[eventQueue.length - 1]\n          };\n        }\n\n        return event;\n      };\n\n      _this.nextEvent = function (restQueue) {\n        // Next queue\n        if (!_this._destroy) {\n          _this.setState({\n            eventQueue: restQueue,\n            eventActive: false\n          });\n        }\n      };\n\n      _this.cleanDomEvent = function () {\n        if (_this.$prevEle && transitionSupport) {\n          _this.$prevEle.removeEventListener(animationEndName, _this.onMotionEnd);\n          _this.$prevEle.removeEventListener(transitionEndName, _this.onMotionEnd);\n        }\n      };\n\n      _this.$prevEle = null;\n\n      _this.currentEvent = null;\n      _this.timeout = null;\n      return _this;\n    }\n\n    _createClass(AnimateChild, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this.onDomUpdated();\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate() {\n        this.onDomUpdated();\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        clearTimeout(this.timeout);\n        this._destroy = true;\n        this.cleanDomEvent();\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _state = this.state,\n            child = _state.child,\n            eventActive = _state.eventActive;\n        var _props = this.props,\n            showProp = _props.showProp,\n            transitionName = _props.transitionName;\n\n        var _ref2 = child.props || {},\n            className = _ref2.className;\n\n        var currentEvent = this.getCurrentEvent();\n\n        // Class name\n        var connectClassName = transitionSupport && this.currentEvent ? classNames(className, getTransitionName(transitionName, this.currentEvent.type), eventActive && getTransitionName(transitionName, this.currentEvent.type + '-active')) : className;\n\n        var show = true;\n\n        // Keep show when is in transition or has customize animate\n        if (transitionSupport && (!currentEvent.empty || this.currentEvent && this.currentEvent.animateObj)) {\n          show = true;\n        } else {\n          show = child.props[showProp];\n        }\n\n        // Clone child\n        var newChildProps = {\n          className: connectClassName\n        };\n\n        if (showProp) {\n          newChildProps[showProp] = show;\n        }\n\n        return React.cloneElement(child, newChildProps);\n      }\n    }], [{\n      key: 'getDerivedStateFromProps',\n      value: function getDerivedStateFromProps(nextProps, prevState) {\n        var _prevState$prevProps = prevState.prevProps,\n            prevProps = _prevState$prevProps === undefined ? {} : _prevState$prevProps;\n        var appeared = nextProps.appeared;\n\n\n        var newState = {\n          prevProps: cloneProps(nextProps, clonePropList)\n        };\n\n        function processState(propName, updater) {\n          if (prevProps[propName] !== nextProps[propName]) {\n            if (updater) {\n              updater(nextProps[propName]);\n            }\n            return true;\n          }\n          return false;\n        }\n\n        function pushEvent(eventType) {\n          var eventQueue = newState.eventQueue || prevState.eventQueue.slice();\n          var matchIndex = eventQueue.indexOf(eventType);\n\n          // Clean the rest event if eventType match\n          if (matchIndex !== -1) {\n            eventQueue = eventQueue.slice(0, matchIndex);\n          }\n\n          eventQueue.push(eventType);\n          newState.eventQueue = eventQueue;\n        }\n\n        // Child update. Only set child.\n        processState('children', function (child) {\n          newState.child = child;\n        });\n\n        processState('appeared', function (isAppeared) {\n          if (isAppeared) {\n            pushEvent('appear');\n          }\n        });\n\n        // Show update\n        processState('show', function (show) {\n          if (!appeared) {\n            if (show) {\n              pushEvent('enter');\n            } else {\n              pushEvent('leave');\n            }\n          }\n        });\n\n        return newState;\n      }\n    }]);\n\n    return AnimateChild;\n  }(React.Component);\n\n  AnimateChild.propTypes = {\n    transitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    transitionAppear: PropTypes.bool,\n    transitionEnter: PropTypes.bool,\n    transitionLeave: PropTypes.bool,\n    exclusive: PropTypes.bool,\n    appeared: PropTypes.bool,\n    showProp: PropTypes.string,\n\n    animateKey: PropTypes.any,\n    animation: PropTypes.object,\n    onChildLeaved: PropTypes.func,\n\n    onEnd: PropTypes.func,\n    onAppear: PropTypes.func,\n    onEnter: PropTypes.func,\n    onLeave: PropTypes.func\n  };\n\n\n  polyfill(AnimateChild);\n\n  return AnimateChild;\n}\n\nexport default genAnimateChild(supportTransition);","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport toArray from 'rc-util/es/Children/toArray';\nimport warning from 'fbjs/lib/warning';\n\nimport AnimateChild from './AnimateChild';\nimport { cloneProps, mergeChildren } from './util';\n\nvar defaultKey = 'rc_animate_' + Date.now();\nvar clonePropList = ['children'];\n\n/**\n * Default use `AnimateChild` as component.\n * Here can also pass customize `ChildComponent` for test usage.\n */\nexport function genAnimate(ChildComponent) {\n  var Animate = function (_React$Component) {\n    _inherits(Animate, _React$Component);\n\n    function Animate() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, Animate);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Animate.__proto__ || Object.getPrototypeOf(Animate)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n        appeared: true,\n        mergedChildren: []\n      }, _this.onChildLeaved = function (key) {\n        // Remove child which not exist anymore\n        if (!_this.hasChild(key)) {\n          var mergedChildren = _this.state.mergedChildren;\n\n          _this.setState({\n            mergedChildren: mergedChildren.filter(function (node) {\n              return node.key !== key;\n            })\n          });\n        }\n      }, _this.hasChild = function (key) {\n        var children = _this.props.children;\n\n\n        return toArray(children).some(function (node) {\n          return node && node.key === key;\n        });\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n    // [Legacy] Not sure usage\n    // commit: https://github.com/react-component/animate/commit/0a1cbfd647407498b10a8c6602a2dea80b42e324\n    // eslint-disable-line\n\n    _createClass(Animate, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        // No need to re-render\n        this.state.appeared = false;\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _this2 = this;\n\n        var _state = this.state,\n            appeared = _state.appeared,\n            mergedChildren = _state.mergedChildren;\n        var _props = this.props,\n            Component = _props.component,\n            componentProps = _props.componentProps,\n            className = _props.className,\n            style = _props.style,\n            showProp = _props.showProp;\n\n\n        var $children = mergedChildren.map(function (node) {\n          if (mergedChildren.length > 1 && !node.key) {\n            warning(false, 'must set key for <rc-animate> children');\n            return null;\n          }\n\n          var show = true;\n\n          if (!_this2.hasChild(node.key)) {\n            show = false;\n          } else if (showProp) {\n            show = node.props[showProp];\n          }\n\n          var key = node.key || defaultKey;\n\n          return React.createElement(\n            ChildComponent,\n            _extends({}, _this2.props, {\n              appeared: appeared,\n              show: show,\n              className: node.props.className,\n              style: node.props.style,\n              key: key,\n\n              animateKey: node.key // Keep trans origin key\n              , onChildLeaved: _this2.onChildLeaved\n            }),\n            node\n          );\n        });\n\n        // Wrap with component\n        if (Component) {\n          var passedProps = this.props;\n          if (typeof Component === 'string') {\n            passedProps = _extends({\n              className: className,\n              style: style\n            }, componentProps);\n          }\n\n          return React.createElement(\n            Component,\n            passedProps,\n            $children\n          );\n        }\n\n        return $children[0] || null;\n      }\n    }], [{\n      key: 'getDerivedStateFromProps',\n      value: function getDerivedStateFromProps(nextProps, prevState) {\n        var _prevState$prevProps = prevState.prevProps,\n            prevProps = _prevState$prevProps === undefined ? {} : _prevState$prevProps;\n\n        var newState = {\n          prevProps: cloneProps(nextProps, clonePropList)\n        };\n        var showProp = nextProps.showProp;\n\n\n        function processState(propName, updater) {\n          if (prevProps[propName] !== nextProps[propName]) {\n            updater(nextProps[propName]);\n            return true;\n          }\n          return false;\n        }\n\n        processState('children', function (children) {\n          var currentChildren = toArray(children).filter(function (node) {\n            return node;\n          });\n          var prevChildren = prevState.mergedChildren.filter(function (node) {\n            // Remove prev child if not show anymore\n            if (currentChildren.every(function (_ref2) {\n              var key = _ref2.key;\n              return key !== node.key;\n            }) && showProp && !node.props[showProp]) {\n              return false;\n            }\n            return true;\n          });\n\n          // Merge prev children to keep the animation\n          newState.mergedChildren = mergeChildren(prevChildren, currentChildren);\n        });\n\n        return newState;\n      }\n    }]);\n\n    return Animate;\n  }(React.Component);\n\n  Animate.isAnimate = true;\n  Animate.propTypes = {\n    component: PropTypes.any,\n    componentProps: PropTypes.object,\n    animation: PropTypes.object,\n    transitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    transitionEnter: PropTypes.bool,\n    transitionAppear: PropTypes.bool,\n    exclusive: PropTypes.bool,\n    transitionLeave: PropTypes.bool,\n    onEnd: PropTypes.func,\n    onEnter: PropTypes.func,\n    onLeave: PropTypes.func,\n    onAppear: PropTypes.func,\n    showProp: PropTypes.string,\n    children: PropTypes.node,\n    style: PropTypes.object,\n    className: PropTypes.string\n  };\n  Animate.defaultProps = {\n    animation: {},\n    component: 'span',\n    componentProps: {},\n    transitionEnter: true,\n    transitionLeave: true,\n    transitionAppear: false\n  };\n\n\n  polyfill(Animate);\n\n  return Animate;\n}\n\nexport default genAnimate(AnimateChild);","import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport classNames from 'classnames';\nimport raf from 'raf';\nimport { getTransitionName, animationEndName, transitionEndName, supportTransition } from './util';\n\nvar STATUS_NONE = 'none';\nvar STATUS_APPEAR = 'appear';\nvar STATUS_ENTER = 'enter';\nvar STATUS_LEAVE = 'leave';\n\n/**\n * `transitionSupport` is used for none transition test case.\n * Default we use browser transition event support check.\n */\nexport function genCSSMotion(transitionSupport) {\n  var CSSMotion = function (_React$Component) {\n    _inherits(CSSMotion, _React$Component);\n\n    function CSSMotion() {\n      _classCallCheck(this, CSSMotion);\n\n      var _this = _possibleConstructorReturn(this, (CSSMotion.__proto__ || Object.getPrototypeOf(CSSMotion)).call(this));\n\n      _this.onDomUpdate = function () {\n        var _this$state = _this.state,\n            status = _this$state.status,\n            newStatus = _this$state.newStatus;\n        var _this$props = _this.props,\n            onAppearStart = _this$props.onAppearStart,\n            onEnterStart = _this$props.onEnterStart,\n            onLeaveStart = _this$props.onLeaveStart,\n            onAppearActive = _this$props.onAppearActive,\n            onEnterActive = _this$props.onEnterActive,\n            onLeaveActive = _this$props.onLeaveActive,\n            motionAppear = _this$props.motionAppear,\n            motionEnter = _this$props.motionEnter,\n            motionLeave = _this$props.motionLeave;\n\n\n        if (!transitionSupport) {\n          return;\n        }\n\n        // Event injection\n        var $ele = ReactDOM.findDOMNode(_this);\n        if (_this.$ele !== $ele) {\n          _this.removeEventListener(_this.$ele);\n          _this.addEventListener($ele);\n          _this.$ele = $ele;\n        }\n\n        // Init status\n        if (newStatus && status === STATUS_APPEAR && motionAppear) {\n          _this.updateStatus(onAppearStart, null, null, function () {\n            _this.updateActiveStatus(onAppearActive, STATUS_APPEAR);\n          });\n        } else if (newStatus && status === STATUS_ENTER && motionEnter) {\n          _this.updateStatus(onEnterStart, null, null, function () {\n            _this.updateActiveStatus(onEnterActive, STATUS_ENTER);\n          });\n        } else if (newStatus && status === STATUS_LEAVE && motionLeave) {\n          _this.updateStatus(onLeaveStart, null, null, function () {\n            _this.updateActiveStatus(onLeaveActive, STATUS_LEAVE);\n          });\n        }\n      };\n\n      _this.onMotionEnd = function (event) {\n        var _this$state2 = _this.state,\n            status = _this$state2.status,\n            statusActive = _this$state2.statusActive;\n        var _this$props2 = _this.props,\n            onAppearEnd = _this$props2.onAppearEnd,\n            onEnterEnd = _this$props2.onEnterEnd,\n            onLeaveEnd = _this$props2.onLeaveEnd;\n\n        if (status === STATUS_APPEAR && statusActive) {\n          _this.updateStatus(onAppearEnd, { status: STATUS_NONE }, event);\n        } else if (status === STATUS_ENTER && statusActive) {\n          _this.updateStatus(onEnterEnd, { status: STATUS_NONE }, event);\n        } else if (status === STATUS_LEAVE && statusActive) {\n          _this.updateStatus(onLeaveEnd, { status: STATUS_NONE }, event);\n        }\n      };\n\n      _this.addEventListener = function ($ele) {\n        if (!$ele) return;\n\n        $ele.addEventListener(transitionEndName, _this.onMotionEnd);\n        $ele.addEventListener(animationEndName, _this.onMotionEnd);\n      };\n\n      _this.removeEventListener = function ($ele) {\n        if (!$ele) return;\n\n        $ele.removeEventListener(transitionEndName, _this.onMotionEnd);\n        $ele.removeEventListener(animationEndName, _this.onMotionEnd);\n      };\n\n      _this.updateStatus = function (styleFunc, additionalState, event, callback) {\n        var statusStyle = styleFunc ? styleFunc(ReactDOM.findDOMNode(_this), event) : null;\n\n        if (statusStyle === false || _this._destroyed) return;\n\n        var nextStep = void 0;\n        if (callback) {\n          nextStep = function nextStep() {\n            _this.nextFrame(callback);\n          };\n        }\n\n        _this.setState(_extends({\n          statusStyle: typeof statusStyle === 'object' ? statusStyle : null,\n          newStatus: false\n        }, additionalState), nextStep); // Trigger before next frame & after `componentDidMount`\n      };\n\n      _this.updateActiveStatus = function (styleFunc, currentStatus) {\n        // `setState` use `postMessage` to trigger at the end of frame.\n        // Let's use requestAnimationFrame to update new state in next frame.\n        _this.nextFrame(function () {\n          var status = _this.state.status;\n\n          if (status !== currentStatus) return;\n\n          _this.updateStatus(styleFunc, { statusActive: true });\n        });\n      };\n\n      _this.nextFrame = function (func) {\n        _this.cancelNextFrame();\n        _this.raf = raf(func);\n      };\n\n      _this.cancelNextFrame = function () {\n        if (_this.raf) {\n          raf.cancel(_this.raf);\n          _this.raf = null;\n        }\n      };\n\n      _this.state = {\n        status: STATUS_NONE,\n        statusActive: false,\n        newStatus: false,\n        statusStyle: null\n      };\n      _this.$ele = null;\n      _this.raf = null;\n      return _this;\n    }\n\n    _createClass(CSSMotion, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this.onDomUpdate();\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate() {\n        this.onDomUpdate();\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        this._destroyed = true;\n        this.removeEventListener(this.$ele);\n        this.cancelNextFrame();\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _classNames;\n\n        var _state = this.state,\n            status = _state.status,\n            statusActive = _state.statusActive,\n            statusStyle = _state.statusStyle;\n        var _props = this.props,\n            children = _props.children,\n            motionName = _props.motionName,\n            visible = _props.visible;\n\n\n        if (!children) return null;\n\n        if (status === STATUS_NONE || !transitionSupport) {\n          return visible ? children({}) : null;\n        }\n\n        return children({\n          className: classNames((_classNames = {}, _defineProperty(_classNames, getTransitionName(motionName, status), status !== STATUS_NONE), _defineProperty(_classNames, getTransitionName(motionName, status + '-active'), status !== STATUS_NONE && statusActive), _defineProperty(_classNames, motionName, typeof motionName === 'string'), _classNames)),\n          style: statusStyle\n        });\n      }\n    }], [{\n      key: 'getDerivedStateFromProps',\n      value: function getDerivedStateFromProps(props, _ref) {\n        var prevProps = _ref.prevProps;\n\n        if (!transitionSupport) return {};\n\n        var visible = props.visible,\n            motionAppear = props.motionAppear,\n            motionEnter = props.motionEnter,\n            motionLeave = props.motionLeave,\n            motionLeaveImmediately = props.motionLeaveImmediately;\n\n        var newState = {\n          prevProps: props\n        };\n\n        // Appear\n        if (!prevProps && visible && motionAppear) {\n          newState.status = STATUS_APPEAR;\n          newState.statusActive = false;\n          newState.newStatus = true;\n        }\n\n        // Enter\n        if (prevProps && !prevProps.visible && visible && motionEnter) {\n          newState.status = STATUS_ENTER;\n          newState.statusActive = false;\n          newState.newStatus = true;\n        }\n\n        // Leave\n        if (prevProps && prevProps.visible && !visible && motionLeave || !prevProps && motionLeaveImmediately && !visible && motionLeave) {\n          newState.status = STATUS_LEAVE;\n          newState.statusActive = false;\n          newState.newStatus = true;\n        }\n\n        return newState;\n      }\n    }]);\n\n    return CSSMotion;\n  }(React.Component);\n\n  CSSMotion.propTypes = {\n    visible: PropTypes.bool,\n    children: PropTypes.func,\n    motionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    motionAppear: PropTypes.bool,\n    motionEnter: PropTypes.bool,\n    motionLeave: PropTypes.bool,\n    motionLeaveImmediately: PropTypes.bool, // Trigger leave motion immediately\n    onAppearStart: PropTypes.func,\n    onAppearActive: PropTypes.func,\n    onAppearEnd: PropTypes.func,\n    onEnterStart: PropTypes.func,\n    onEnterActive: PropTypes.func,\n    onEnterEnd: PropTypes.func,\n    onLeaveStart: PropTypes.func,\n    onLeaveActive: PropTypes.func,\n    onLeaveEnd: PropTypes.func\n  };\n  CSSMotion.defaultProps = {\n    visible: true,\n    motionEnter: true,\n    motionAppear: true,\n    motionLeave: true\n  };\n\n\n  polyfill(CSSMotion);\n\n  return CSSMotion;\n}\n\nexport default genCSSMotion(supportTransition);","import Animate from './Animate';\nimport AnimateChild from './AnimateChild';\nimport CSSMotion from './CSSMotion';\n\nexport { AnimateChild, CSSMotion };\n\nexport default Animate;","import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nvar LazyRenderBox = function (_Component) {\n  _inherits(LazyRenderBox, _Component);\n\n  function LazyRenderBox() {\n    _classCallCheck(this, LazyRenderBox);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  LazyRenderBox.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    return nextProps.hiddenClassName || nextProps.visible;\n  };\n\n  LazyRenderBox.prototype.render = function render() {\n    var _props = this.props,\n        hiddenClassName = _props.hiddenClassName,\n        visible = _props.visible,\n        props = _objectWithoutProperties(_props, ['hiddenClassName', 'visible']);\n\n    if (hiddenClassName || React.Children.count(props.children) > 1) {\n      if (!visible && hiddenClassName) {\n        props.className += ' ' + hiddenClassName;\n      }\n      return React.createElement('div', props);\n    }\n\n    return React.Children.only(props.children);\n  };\n\n  return LazyRenderBox;\n}(Component);\n\nLazyRenderBox.propTypes = {\n  children: PropTypes.any,\n  className: PropTypes.string,\n  visible: PropTypes.bool,\n  hiddenClassName: PropTypes.string\n};\n\n\nexport default LazyRenderBox;","import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport LazyRenderBox from './LazyRenderBox';\n\nvar PopupInner = function (_Component) {\n  _inherits(PopupInner, _Component);\n\n  function PopupInner() {\n    _classCallCheck(this, PopupInner);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  PopupInner.prototype.render = function render() {\n    var props = this.props;\n    var className = props.className;\n    if (!props.visible) {\n      className += ' ' + props.hiddenClassName;\n    }\n    return React.createElement(\n      'div',\n      {\n        className: className,\n        onMouseEnter: props.onMouseEnter,\n        onMouseLeave: props.onMouseLeave,\n        style: props.style\n      },\n      React.createElement(\n        LazyRenderBox,\n        { className: props.prefixCls + '-content', visible: props.visible },\n        props.children\n      )\n    );\n  };\n\n  return PopupInner;\n}(Component);\n\nPopupInner.propTypes = {\n  hiddenClassName: PropTypes.string,\n  className: PropTypes.string,\n  prefixCls: PropTypes.string,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  children: PropTypes.any\n};\n\n\nexport default PopupInner;","import _extends from 'babel-runtime/helpers/extends';\nfunction isPointsEq(a1, a2, isAlignPoint) {\n  if (isAlignPoint) {\n    return a1[0] === a2[0];\n  }\n  return a1[0] === a2[0] && a1[1] === a2[1];\n}\n\nexport function getAlignFromPlacement(builtinPlacements, placementStr, align) {\n  var baseAlign = builtinPlacements[placementStr] || {};\n  return _extends({}, baseAlign, align);\n}\n\nexport function getAlignPopupClassName(builtinPlacements, prefixCls, align, isAlignPoint) {\n  var points = align.points;\n  for (var placement in builtinPlacements) {\n    if (builtinPlacements.hasOwnProperty(placement)) {\n      if (isPointsEq(builtinPlacements[placement].points, points, isAlignPoint)) {\n        return prefixCls + '-placement-' + placement;\n      }\n    }\n  }\n  return '';\n}\n\nexport function saveRef(name, component) {\n  this[name] = component;\n}","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport Align from 'rc-align';\nimport Animate from 'rc-animate';\nimport raf from 'raf';\nimport PopupInner from './PopupInner';\nimport LazyRenderBox from './LazyRenderBox';\nimport { saveRef } from './utils';\n\nvar Popup = function (_Component) {\n  _inherits(Popup, _Component);\n\n  function Popup(props) {\n    _classCallCheck(this, Popup);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.state = {\n      // Used for stretch\n      stretchChecked: false,\n      targetWidth: undefined,\n      targetHeight: undefined\n    };\n\n    _this.savePopupRef = saveRef.bind(_this, 'popupInstance');\n    _this.saveAlignRef = saveRef.bind(_this, 'alignInstance');\n    return _this;\n  }\n\n  Popup.prototype.componentDidMount = function componentDidMount() {\n    this.rootNode = this.getPopupDomNode();\n    this.setStretchSize();\n  };\n\n  Popup.prototype.componentDidUpdate = function componentDidUpdate() {\n    this.setStretchSize();\n  };\n\n  // Record size if stretch needed\n\n\n  Popup.prototype.getPopupDomNode = function getPopupDomNode() {\n    return ReactDOM.findDOMNode(this.popupInstance);\n  };\n\n  // `target` on `rc-align` can accept as a function to get the bind element or a point.\n  // ref: https://www.npmjs.com/package/rc-align\n\n\n  Popup.prototype.getMaskTransitionName = function getMaskTransitionName() {\n    var props = this.props;\n    var transitionName = props.maskTransitionName;\n    var animation = props.maskAnimation;\n    if (!transitionName && animation) {\n      transitionName = props.prefixCls + '-' + animation;\n    }\n    return transitionName;\n  };\n\n  Popup.prototype.getTransitionName = function getTransitionName() {\n    var props = this.props;\n    var transitionName = props.transitionName;\n    if (!transitionName && props.animation) {\n      transitionName = props.prefixCls + '-' + props.animation;\n    }\n    return transitionName;\n  };\n\n  Popup.prototype.getClassName = function getClassName(currentAlignClassName) {\n    return this.props.prefixCls + ' ' + this.props.className + ' ' + currentAlignClassName;\n  };\n\n  Popup.prototype.getPopupElement = function getPopupElement() {\n    var _this2 = this;\n\n    var savePopupRef = this.savePopupRef;\n    var _state = this.state,\n        stretchChecked = _state.stretchChecked,\n        targetHeight = _state.targetHeight,\n        targetWidth = _state.targetWidth;\n    var _props = this.props,\n        align = _props.align,\n        visible = _props.visible,\n        prefixCls = _props.prefixCls,\n        style = _props.style,\n        getClassNameFromAlign = _props.getClassNameFromAlign,\n        destroyPopupOnHide = _props.destroyPopupOnHide,\n        stretch = _props.stretch,\n        children = _props.children,\n        onMouseEnter = _props.onMouseEnter,\n        onMouseLeave = _props.onMouseLeave;\n\n    var className = this.getClassName(this.currentAlignClassName || getClassNameFromAlign(align));\n    var hiddenClassName = prefixCls + '-hidden';\n\n    if (!visible) {\n      this.currentAlignClassName = null;\n    }\n\n    var sizeStyle = {};\n    if (stretch) {\n      // Stretch with target\n      if (stretch.indexOf('height') !== -1) {\n        sizeStyle.height = targetHeight;\n      } else if (stretch.indexOf('minHeight') !== -1) {\n        sizeStyle.minHeight = targetHeight;\n      }\n      if (stretch.indexOf('width') !== -1) {\n        sizeStyle.width = targetWidth;\n      } else if (stretch.indexOf('minWidth') !== -1) {\n        sizeStyle.minWidth = targetWidth;\n      }\n\n      // Delay force align to makes ui smooth\n      if (!stretchChecked) {\n        sizeStyle.visibility = 'hidden';\n        raf(function () {\n          if (_this2.alignInstance) {\n            _this2.alignInstance.forceAlign();\n          }\n        });\n      }\n    }\n\n    var newStyle = _extends({}, sizeStyle, style, this.getZIndexStyle());\n\n    var popupInnerProps = {\n      className: className,\n      prefixCls: prefixCls,\n      ref: savePopupRef,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      style: newStyle\n    };\n\n    if (destroyPopupOnHide) {\n      return React.createElement(\n        Animate,\n        {\n          component: '',\n          exclusive: true,\n          transitionAppear: true,\n          transitionName: this.getTransitionName(),\n          onLeave: this.onAnimateLeaved\n        },\n        visible ? React.createElement(\n          Align,\n          {\n            target: this.getAlignTarget(),\n            key: 'popup',\n            ref: this.saveAlignRef,\n            monitorWindowResize: true,\n            align: align,\n            onAlign: this.onAlign\n          },\n          React.createElement(\n            PopupInner,\n            _extends({\n              visible: true\n            }, popupInnerProps),\n            children\n          )\n        ) : null\n      );\n    }\n\n    return React.createElement(\n      Animate,\n      {\n        component: '',\n        exclusive: true,\n        transitionAppear: true,\n        transitionName: this.getTransitionName(),\n        showProp: 'xVisible',\n        onLeave: this.onAnimateLeaved\n      },\n      React.createElement(\n        Align,\n        {\n          target: this.getAlignTarget(),\n          key: 'popup',\n          ref: this.saveAlignRef,\n          monitorWindowResize: true,\n          xVisible: visible,\n          childrenProps: { visible: 'xVisible' },\n          disabled: !visible,\n          align: align,\n          onAlign: this.onAlign\n        },\n        React.createElement(\n          PopupInner,\n          _extends({\n            hiddenClassName: hiddenClassName\n          }, popupInnerProps),\n          children\n        )\n      )\n    );\n  };\n\n  Popup.prototype.getZIndexStyle = function getZIndexStyle() {\n    var style = {};\n    var props = this.props;\n    if (props.zIndex !== undefined) {\n      style.zIndex = props.zIndex;\n    }\n    return style;\n  };\n\n  Popup.prototype.getMaskElement = function getMaskElement() {\n    var props = this.props;\n    var maskElement = void 0;\n    if (props.mask) {\n      var maskTransition = this.getMaskTransitionName();\n      maskElement = React.createElement(LazyRenderBox, {\n        style: this.getZIndexStyle(),\n        key: 'mask',\n        className: props.prefixCls + '-mask',\n        hiddenClassName: props.prefixCls + '-mask-hidden',\n        visible: props.visible\n      });\n      if (maskTransition) {\n        maskElement = React.createElement(\n          Animate,\n          {\n            key: 'mask',\n            showProp: 'visible',\n            transitionAppear: true,\n            component: '',\n            transitionName: maskTransition\n          },\n          maskElement\n        );\n      }\n    }\n    return maskElement;\n  };\n\n  Popup.prototype.render = function render() {\n    return React.createElement(\n      'div',\n      null,\n      this.getMaskElement(),\n      this.getPopupElement()\n    );\n  };\n\n  return Popup;\n}(Component);\n\nPopup.propTypes = {\n  visible: PropTypes.bool,\n  style: PropTypes.object,\n  getClassNameFromAlign: PropTypes.func,\n  onAlign: PropTypes.func,\n  getRootDomNode: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  align: PropTypes.any,\n  destroyPopupOnHide: PropTypes.bool,\n  className: PropTypes.string,\n  prefixCls: PropTypes.string,\n  onMouseLeave: PropTypes.func,\n  stretch: PropTypes.string,\n  children: PropTypes.node,\n  point: PropTypes.shape({\n    pageX: PropTypes.number,\n    pageY: PropTypes.number\n  })\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onAlign = function (popupDomNode, align) {\n    var props = _this3.props;\n    var currentAlignClassName = props.getClassNameFromAlign(align);\n    // FIX: https://github.com/react-component/trigger/issues/56\n    // FIX: https://github.com/react-component/tooltip/issues/79\n    if (_this3.currentAlignClassName !== currentAlignClassName) {\n      _this3.currentAlignClassName = currentAlignClassName;\n      popupDomNode.className = _this3.getClassName(currentAlignClassName);\n    }\n    props.onAlign(popupDomNode, align);\n  };\n\n  this.onAnimateLeaved = function () {\n    var stretch = _this3.props.stretch;\n    var stretchChecked = _this3.state.stretchChecked;\n\n    if (stretch && stretchChecked) {\n      _this3.setState({ stretchChecked: false });\n    }\n  };\n\n  this.setStretchSize = function () {\n    var getRootDomNode = _this3.props.getRootDomNode;\n    var _state2 = _this3.state,\n        stretchChecked = _state2.stretchChecked,\n        targetHeight = _state2.targetHeight,\n        targetWidth = _state2.targetWidth;\n\n\n    var $ele = getRootDomNode();\n    if (!$ele) return;\n\n    var height = $ele.offsetHeight;\n    var width = $ele.offsetWidth;\n\n    if (targetHeight !== height || targetWidth !== width || !stretchChecked) {\n      _this3.setState({\n        stretchChecked: true,\n        targetHeight: height,\n        targetWidth: width\n      });\n    }\n  };\n\n  this.getTargetElement = function () {\n    return _this3.props.getRootDomNode();\n  };\n\n  this.getAlignTarget = function () {\n    var point = _this3.props.point;\n\n    if (point) {\n      return point;\n    }\n    return _this3.getTargetElement;\n  };\n};\n\nexport default Popup;","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode, createPortal } from 'react-dom';\nimport contains from 'rc-util/es/Dom/contains';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport Popup from './Popup';\nimport { getAlignFromPlacement, getAlignPopupClassName } from './utils';\nimport ContainerRender from 'rc-util/es/ContainerRender';\nimport Portal from 'rc-util/es/Portal';\nimport classNames from 'classnames';\n\nfunction noop() {}\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument() {\n  return window.document;\n}\n\nvar ALL_HANDLERS = ['onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur', 'onContextMenu'];\n\nvar IS_REACT_16 = !!createPortal;\n\nvar Trigger = function (_React$Component) {\n  _inherits(Trigger, _React$Component);\n\n  function Trigger(props) {\n    _classCallCheck(this, Trigger);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var popupVisible = void 0;\n    if ('popupVisible' in props) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n\n    _this.prevPopupVisible = popupVisible;\n\n    _this.state = {\n      popupVisible: popupVisible\n    };\n    return _this;\n  }\n\n  Trigger.prototype.componentWillMount = function componentWillMount() {\n    var _this2 = this;\n\n    ALL_HANDLERS.forEach(function (h) {\n      _this2['fire' + h] = function (e) {\n        _this2.fireEvents(h, e);\n      };\n    });\n  };\n\n  Trigger.prototype.componentDidMount = function componentDidMount() {\n    this.componentDidUpdate({}, {\n      popupVisible: this.state.popupVisible\n    });\n  };\n\n  Trigger.prototype.componentWillReceiveProps = function componentWillReceiveProps(_ref) {\n    var popupVisible = _ref.popupVisible;\n\n    if (popupVisible !== undefined) {\n      this.setState({\n        popupVisible: popupVisible\n      });\n    }\n  };\n\n  Trigger.prototype.componentDidUpdate = function componentDidUpdate(_, prevState) {\n    var props = this.props;\n    var state = this.state;\n    var triggerAfterPopupVisibleChange = function triggerAfterPopupVisibleChange() {\n      if (prevState.popupVisible !== state.popupVisible) {\n        props.afterPopupVisibleChange(state.popupVisible);\n      }\n    };\n    if (!IS_REACT_16) {\n      this.renderComponent(null, triggerAfterPopupVisibleChange);\n    }\n\n    this.prevPopupVisible = prevState.popupVisible;\n\n    // We must listen to `mousedown` or `touchstart`, edge case:\n    // https://github.com/ant-design/ant-design/issues/5804\n    // https://github.com/react-component/calendar/issues/250\n    // https://github.com/react-component/trigger/issues/50\n    if (state.popupVisible) {\n      var currentDocument = void 0;\n      if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextMenuToShow())) {\n        currentDocument = props.getDocument();\n        this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n      }\n      // always hide on mobile\n      if (!this.touchOutsideHandler) {\n        currentDocument = currentDocument || props.getDocument();\n        this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick);\n      }\n      // close popup when trigger type contains 'onContextMenu' and document is scrolling.\n      if (!this.contextMenuOutsideHandler1 && this.isContextMenuToShow()) {\n        currentDocument = currentDocument || props.getDocument();\n        this.contextMenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextMenuClose);\n      }\n      // close popup when trigger type contains 'onContextMenu' and window is blur.\n      if (!this.contextMenuOutsideHandler2 && this.isContextMenuToShow()) {\n        this.contextMenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextMenuClose);\n      }\n      return;\n    }\n\n    this.clearOutsideHandler();\n  };\n\n  Trigger.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n  };\n\n  Trigger.prototype.getPopupDomNode = function getPopupDomNode() {\n    // for test\n    if (this._component && this._component.getPopupDomNode) {\n      return this._component.getPopupDomNode();\n    }\n    return null;\n  };\n\n  Trigger.prototype.getPopupAlign = function getPopupAlign() {\n    var props = this.props;\n    var popupPlacement = props.popupPlacement,\n        popupAlign = props.popupAlign,\n        builtinPlacements = props.builtinPlacements;\n\n    if (popupPlacement && builtinPlacements) {\n      return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n    }\n    return popupAlign;\n  };\n\n  /**\n   * @param popupVisible    Show or not the popup element\n   * @param event           SyntheticEvent, used for `pointAlign`\n   */\n  Trigger.prototype.setPopupVisible = function setPopupVisible(popupVisible, event) {\n    var alignPoint = this.props.alignPoint;\n\n\n    this.clearDelayTimer();\n\n    if (this.state.popupVisible !== popupVisible) {\n      if (!('popupVisible' in this.props)) {\n        this.setState({ popupVisible: popupVisible });\n      }\n      this.props.onPopupVisibleChange(popupVisible);\n    }\n\n    // Always record the point position since mouseEnterDelay will delay the show\n    if (alignPoint && event) {\n      this.setPoint(event);\n    }\n  };\n\n  Trigger.prototype.delaySetPopupVisible = function delaySetPopupVisible(visible, delayS, event) {\n    var _this3 = this;\n\n    var delay = delayS * 1000;\n    this.clearDelayTimer();\n    if (delay) {\n      var point = event ? { pageX: event.pageX, pageY: event.pageY } : null;\n      this.delayTimer = setTimeout(function () {\n        _this3.setPopupVisible(visible, point);\n        _this3.clearDelayTimer();\n      }, delay);\n    } else {\n      this.setPopupVisible(visible, event);\n    }\n  };\n\n  Trigger.prototype.clearDelayTimer = function clearDelayTimer() {\n    if (this.delayTimer) {\n      clearTimeout(this.delayTimer);\n      this.delayTimer = null;\n    }\n  };\n\n  Trigger.prototype.clearOutsideHandler = function clearOutsideHandler() {\n    if (this.clickOutsideHandler) {\n      this.clickOutsideHandler.remove();\n      this.clickOutsideHandler = null;\n    }\n\n    if (this.contextMenuOutsideHandler1) {\n      this.contextMenuOutsideHandler1.remove();\n      this.contextMenuOutsideHandler1 = null;\n    }\n\n    if (this.contextMenuOutsideHandler2) {\n      this.contextMenuOutsideHandler2.remove();\n      this.contextMenuOutsideHandler2 = null;\n    }\n\n    if (this.touchOutsideHandler) {\n      this.touchOutsideHandler.remove();\n      this.touchOutsideHandler = null;\n    }\n  };\n\n  Trigger.prototype.createTwoChains = function createTwoChains(event) {\n    var childPros = this.props.children.props;\n    var props = this.props;\n    if (childPros[event] && props[event]) {\n      return this['fire' + event];\n    }\n    return childPros[event] || props[event];\n  };\n\n  Trigger.prototype.isClickToShow = function isClickToShow() {\n    var _props = this.props,\n        action = _props.action,\n        showAction = _props.showAction;\n\n    return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isContextMenuToShow = function isContextMenuToShow() {\n    var _props2 = this.props,\n        action = _props2.action,\n        showAction = _props2.showAction;\n\n    return action.indexOf('contextMenu') !== -1 || showAction.indexOf('contextMenu') !== -1;\n  };\n\n  Trigger.prototype.isClickToHide = function isClickToHide() {\n    var _props3 = this.props,\n        action = _props3.action,\n        hideAction = _props3.hideAction;\n\n    return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isMouseEnterToShow = function isMouseEnterToShow() {\n    var _props4 = this.props,\n        action = _props4.action,\n        showAction = _props4.showAction;\n\n    return action.indexOf('hover') !== -1 || showAction.indexOf('mouseEnter') !== -1;\n  };\n\n  Trigger.prototype.isMouseLeaveToHide = function isMouseLeaveToHide() {\n    var _props5 = this.props,\n        action = _props5.action,\n        hideAction = _props5.hideAction;\n\n    return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseLeave') !== -1;\n  };\n\n  Trigger.prototype.isFocusToShow = function isFocusToShow() {\n    var _props6 = this.props,\n        action = _props6.action,\n        showAction = _props6.showAction;\n\n    return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n  };\n\n  Trigger.prototype.isBlurToHide = function isBlurToHide() {\n    var _props7 = this.props,\n        action = _props7.action,\n        hideAction = _props7.hideAction;\n\n    return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n  };\n\n  Trigger.prototype.forcePopupAlign = function forcePopupAlign() {\n    if (this.state.popupVisible && this._component && this._component.alignInstance) {\n      this._component.alignInstance.forceAlign();\n    }\n  };\n\n  Trigger.prototype.fireEvents = function fireEvents(type, e) {\n    var childCallback = this.props.children.props[type];\n    if (childCallback) {\n      childCallback(e);\n    }\n    var callback = this.props[type];\n    if (callback) {\n      callback(e);\n    }\n  };\n\n  Trigger.prototype.close = function close() {\n    this.setPopupVisible(false);\n  };\n\n  Trigger.prototype.render = function render() {\n    var _this4 = this;\n\n    var popupVisible = this.state.popupVisible;\n    var _props8 = this.props,\n        children = _props8.children,\n        forceRender = _props8.forceRender,\n        alignPoint = _props8.alignPoint,\n        className = _props8.className;\n\n    var child = React.Children.only(children);\n    var newChildProps = { key: 'trigger' };\n\n    if (this.isContextMenuToShow()) {\n      newChildProps.onContextMenu = this.onContextMenu;\n    } else {\n      newChildProps.onContextMenu = this.createTwoChains('onContextMenu');\n    }\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMouseDown = this.onMouseDown;\n      newChildProps.onTouchStart = this.onTouchStart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMouseDown = this.createTwoChains('onMouseDown');\n      newChildProps.onTouchStart = this.createTwoChains('onTouchStart');\n    }\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseEnter = this.onMouseEnter;\n      if (alignPoint) {\n        newChildProps.onMouseMove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.onMouseEnter = this.createTwoChains('onMouseEnter');\n    }\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseLeave = this.onMouseLeave;\n    } else {\n      newChildProps.onMouseLeave = this.createTwoChains('onMouseLeave');\n    }\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n      newChildProps.onBlur = this.createTwoChains('onBlur');\n    }\n\n    var childrenClassName = classNames(child && child.props && child.props.className, className);\n    if (childrenClassName) {\n      newChildProps.className = childrenClassName;\n    }\n    var trigger = React.cloneElement(child, newChildProps);\n\n    if (!IS_REACT_16) {\n      return React.createElement(\n        ContainerRender,\n        {\n          parent: this,\n          visible: popupVisible,\n          autoMount: false,\n          forceRender: forceRender,\n          getComponent: this.getComponent,\n          getContainer: this.getContainer\n        },\n        function (_ref2) {\n          var renderComponent = _ref2.renderComponent;\n\n          _this4.renderComponent = renderComponent;\n          return trigger;\n        }\n      );\n    }\n\n    var portal = void 0;\n    // prevent unmounting after it's rendered\n    if (popupVisible || this._component || forceRender) {\n      portal = React.createElement(\n        Portal,\n        {\n          key: 'portal',\n          getContainer: this.getContainer,\n          didUpdate: this.handlePortalUpdate\n        },\n        this.getComponent()\n      );\n    }\n\n    return [trigger, portal];\n  };\n\n  return Trigger;\n}(React.Component);\n\nTrigger.propTypes = {\n  children: PropTypes.any,\n  action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  showAction: PropTypes.any,\n  hideAction: PropTypes.any,\n  getPopupClassNameFromAlign: PropTypes.any,\n  onPopupVisibleChange: PropTypes.func,\n  afterPopupVisibleChange: PropTypes.func,\n  popup: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  popupStyle: PropTypes.object,\n  prefixCls: PropTypes.string,\n  popupClassName: PropTypes.string,\n  className: PropTypes.string,\n  popupPlacement: PropTypes.string,\n  builtinPlacements: PropTypes.object,\n  popupTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  popupAnimation: PropTypes.any,\n  mouseEnterDelay: PropTypes.number,\n  mouseLeaveDelay: PropTypes.number,\n  zIndex: PropTypes.number,\n  focusDelay: PropTypes.number,\n  blurDelay: PropTypes.number,\n  getPopupContainer: PropTypes.func,\n  getDocument: PropTypes.func,\n  forceRender: PropTypes.bool,\n  destroyPopupOnHide: PropTypes.bool,\n  mask: PropTypes.bool,\n  maskClosable: PropTypes.bool,\n  onPopupAlign: PropTypes.func,\n  popupAlign: PropTypes.object,\n  popupVisible: PropTypes.bool,\n  defaultPopupVisible: PropTypes.bool,\n  maskTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  maskAnimation: PropTypes.string,\n  stretch: PropTypes.string,\n  alignPoint: PropTypes.bool // Maybe we can support user pass position in the future\n};\nTrigger.defaultProps = {\n  prefixCls: 'rc-trigger-popup',\n  getPopupClassNameFromAlign: returnEmptyString,\n  getDocument: returnDocument,\n  onPopupVisibleChange: noop,\n  afterPopupVisibleChange: noop,\n  onPopupAlign: noop,\n  popupClassName: '',\n  mouseEnterDelay: 0,\n  mouseLeaveDelay: 0.1,\n  focusDelay: 0,\n  blurDelay: 0.15,\n  popupStyle: {},\n  destroyPopupOnHide: false,\n  popupAlign: {},\n  defaultPopupVisible: false,\n  mask: false,\n  maskClosable: true,\n  action: [],\n  showAction: [],\n  hideAction: []\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.onMouseEnter = function (e) {\n    var mouseEnterDelay = _this5.props.mouseEnterDelay;\n\n    _this5.fireEvents('onMouseEnter', e);\n    _this5.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n  };\n\n  this.onMouseMove = function (e) {\n    _this5.fireEvents('onMouseMove', e);\n    _this5.setPoint(e);\n  };\n\n  this.onMouseLeave = function (e) {\n    _this5.fireEvents('onMouseLeave', e);\n    _this5.delaySetPopupVisible(false, _this5.props.mouseLeaveDelay);\n  };\n\n  this.onPopupMouseEnter = function () {\n    _this5.clearDelayTimer();\n  };\n\n  this.onPopupMouseLeave = function (e) {\n    // https://github.com/react-component/trigger/pull/13\n    // react bug?\n    if (e.relatedTarget && !e.relatedTarget.setTimeout && _this5._component && _this5._component.getPopupDomNode && contains(_this5._component.getPopupDomNode(), e.relatedTarget)) {\n      return;\n    }\n    _this5.delaySetPopupVisible(false, _this5.props.mouseLeaveDelay);\n  };\n\n  this.onFocus = function (e) {\n    _this5.fireEvents('onFocus', e);\n    // incase focusin and focusout\n    _this5.clearDelayTimer();\n    if (_this5.isFocusToShow()) {\n      _this5.focusTime = Date.now();\n      _this5.delaySetPopupVisible(true, _this5.props.focusDelay);\n    }\n  };\n\n  this.onMouseDown = function (e) {\n    _this5.fireEvents('onMouseDown', e);\n    _this5.preClickTime = Date.now();\n  };\n\n  this.onTouchStart = function (e) {\n    _this5.fireEvents('onTouchStart', e);\n    _this5.preTouchTime = Date.now();\n  };\n\n  this.onBlur = function (e) {\n    _this5.fireEvents('onBlur', e);\n    _this5.clearDelayTimer();\n    if (_this5.isBlurToHide()) {\n      _this5.delaySetPopupVisible(false, _this5.props.blurDelay);\n    }\n  };\n\n  this.onContextMenu = function (e) {\n    e.preventDefault();\n    _this5.fireEvents('onContextMenu', e);\n    _this5.setPopupVisible(true, e);\n  };\n\n  this.onContextMenuClose = function () {\n    if (_this5.isContextMenuToShow()) {\n      _this5.close();\n    }\n  };\n\n  this.onClick = function (event) {\n    _this5.fireEvents('onClick', event);\n    // focus will trigger click\n    if (_this5.focusTime) {\n      var preTime = void 0;\n      if (_this5.preClickTime && _this5.preTouchTime) {\n        preTime = Math.min(_this5.preClickTime, _this5.preTouchTime);\n      } else if (_this5.preClickTime) {\n        preTime = _this5.preClickTime;\n      } else if (_this5.preTouchTime) {\n        preTime = _this5.preTouchTime;\n      }\n      if (Math.abs(preTime - _this5.focusTime) < 20) {\n        return;\n      }\n      _this5.focusTime = 0;\n    }\n    _this5.preClickTime = 0;\n    _this5.preTouchTime = 0;\n    if (event && event.preventDefault) {\n      event.preventDefault();\n    }\n    var nextVisible = !_this5.state.popupVisible;\n    if (_this5.isClickToHide() && !nextVisible || nextVisible && _this5.isClickToShow()) {\n      _this5.setPopupVisible(!_this5.state.popupVisible, event);\n    }\n  };\n\n  this.onDocumentClick = function (event) {\n    if (_this5.props.mask && !_this5.props.maskClosable) {\n      return;\n    }\n    var target = event.target;\n    var root = findDOMNode(_this5);\n    var popupNode = _this5.getPopupDomNode();\n    if (!contains(root, target) && !contains(popupNode, target)) {\n      _this5.close();\n    }\n  };\n\n  this.getRootDomNode = function () {\n    return findDOMNode(_this5);\n  };\n\n  this.getPopupClassNameFromAlign = function (align) {\n    var className = [];\n    var _props9 = _this5.props,\n        popupPlacement = _props9.popupPlacement,\n        builtinPlacements = _props9.builtinPlacements,\n        prefixCls = _props9.prefixCls,\n        alignPoint = _props9.alignPoint,\n        getPopupClassNameFromAlign = _props9.getPopupClassNameFromAlign;\n\n    if (popupPlacement && builtinPlacements) {\n      className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n    }\n    if (getPopupClassNameFromAlign) {\n      className.push(getPopupClassNameFromAlign(align));\n    }\n    return className.join(' ');\n  };\n\n  this.getComponent = function () {\n    var _props10 = _this5.props,\n        prefixCls = _props10.prefixCls,\n        destroyPopupOnHide = _props10.destroyPopupOnHide,\n        popupClassName = _props10.popupClassName,\n        action = _props10.action,\n        onPopupAlign = _props10.onPopupAlign,\n        popupAnimation = _props10.popupAnimation,\n        popupTransitionName = _props10.popupTransitionName,\n        popupStyle = _props10.popupStyle,\n        mask = _props10.mask,\n        maskAnimation = _props10.maskAnimation,\n        maskTransitionName = _props10.maskTransitionName,\n        zIndex = _props10.zIndex,\n        popup = _props10.popup,\n        stretch = _props10.stretch,\n        alignPoint = _props10.alignPoint;\n    var _state = _this5.state,\n        popupVisible = _state.popupVisible,\n        point = _state.point;\n\n\n    var align = _this5.getPopupAlign();\n\n    var mouseProps = {};\n    if (_this5.isMouseEnterToShow()) {\n      mouseProps.onMouseEnter = _this5.onPopupMouseEnter;\n    }\n    if (_this5.isMouseLeaveToHide()) {\n      mouseProps.onMouseLeave = _this5.onPopupMouseLeave;\n    }\n\n    return React.createElement(\n      Popup,\n      _extends({\n        prefixCls: prefixCls,\n        destroyPopupOnHide: destroyPopupOnHide,\n        visible: popupVisible,\n        point: alignPoint && point,\n        className: popupClassName,\n        action: action,\n        align: align,\n        onAlign: onPopupAlign,\n        animation: popupAnimation,\n        getClassNameFromAlign: _this5.getPopupClassNameFromAlign\n      }, mouseProps, {\n        stretch: stretch,\n        getRootDomNode: _this5.getRootDomNode,\n        style: popupStyle,\n        mask: mask,\n        zIndex: zIndex,\n        transitionName: popupTransitionName,\n        maskAnimation: maskAnimation,\n        maskTransitionName: maskTransitionName,\n        ref: _this5.savePopup\n      }),\n      typeof popup === 'function' ? popup() : popup\n    );\n  };\n\n  this.getContainer = function () {\n    var props = _this5.props;\n\n    var popupContainer = document.createElement('div');\n    // Make sure default popup container will never cause scrollbar appearing\n    // https://github.com/react-component/trigger/issues/41\n    popupContainer.style.position = 'absolute';\n    popupContainer.style.top = '0';\n    popupContainer.style.left = '0';\n    popupContainer.style.width = '100%';\n    var mountNode = props.getPopupContainer ? props.getPopupContainer(findDOMNode(_this5)) : props.getDocument().body;\n    mountNode.appendChild(popupContainer);\n    return popupContainer;\n  };\n\n  this.setPoint = function (point) {\n    var alignPoint = _this5.props.alignPoint;\n\n    if (!alignPoint || !point) return;\n\n    _this5.setState({\n      point: {\n        pageX: point.pageX,\n        pageY: point.pageY\n      }\n    });\n  };\n\n  this.handlePortalUpdate = function () {\n    if (_this5.prevPopupVisible !== _this5.state.popupVisible) {\n      _this5.props.afterPopupVisibleChange(_this5.state.popupVisible);\n    }\n  };\n\n  this.savePopup = function (node) {\n    _this5._component = node;\n  };\n};\n\nexport default Trigger;","import PropTypes from 'prop-types';\nimport { isLabelInValue } from './util';\n\nvar internalValProp = PropTypes.oneOfType([PropTypes.string, PropTypes.number]);\n\nexport function genArrProps(propType) {\n  return PropTypes.oneOfType([propType, PropTypes.arrayOf(propType)]);\n}\n\n/**\n * Origin code check `multiple` is true when `treeCheckStrictly` & `labelInValue`.\n * But in process logic is already cover to array.\n * Check array is not necessary. Let's simplify this check logic.\n */\nexport function valueProp() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var props = args[0],\n      propName = args[1],\n      Component = args[2];\n\n\n  if (isLabelInValue(props)) {\n    var _err = genArrProps(PropTypes.shape({\n      label: PropTypes.node,\n      value: internalValProp\n    })).apply(undefined, args);\n    if (_err) {\n      return new Error('Invalid prop `' + propName + '` supplied to `' + Component + '`. ' + 'You should use { label: string, value: string | number } or [{ label: string, value: string | number }] instead.');\n    }\n    return null;\n  }\n\n  var err = genArrProps(internalValProp).apply(undefined, args);\n  if (err) {\n    return new Error('Invalid prop `' + propName + '` supplied to `' + Component + '`. ' + 'You should use string or [string] instead.');\n  }\n  return null;\n}","import _extends from 'babel-runtime/helpers/extends';\nimport React from 'react';\nimport { TreeNode } from 'rc-tree';\nimport { valueProp } from './propTypes';\n\n/**\n * SelectNode wrapped the tree node.\n * Let's use SelectNode instead of TreeNode\n * since TreeNode is so confuse here.\n */\nvar SelectNode = function SelectNode(props) {\n  return React.createElement(TreeNode, props);\n};\n\nSelectNode.propTypes = _extends({}, TreeNode.propTypes, {\n  value: valueProp\n});\n\n// Let Tree trade as TreeNode to reuse this for performance saving.\nSelectNode.isTreeNode = 1;\n\nexport default SelectNode;","import _extends from 'babel-runtime/helpers/extends';\nimport React from 'react';\nimport warning from 'warning';\nimport { convertDataToTree as rcConvertDataToTree, convertTreeToEntities as rcConvertTreeToEntities, conductCheck as rcConductCheck } from 'rc-tree/es/util';\nimport toNodeArray from 'rc-util/es/Children/toArray';\nimport SelectNode from './SelectNode';\nimport { SHOW_CHILD, SHOW_PARENT } from './strategies';\n\nvar warnDeprecatedLabel = false;\n\n// =================== MISC ====================\nexport function toTitle(title) {\n  if (typeof title === 'string') {\n    return title;\n  }\n  return null;\n}\n\nexport function toArray(data) {\n  if (!data) return [];\n\n  return Array.isArray(data) ? data : [data];\n}\n\n// Shallow copy of React 16.3 createRef api\nexport function createRef() {\n  var func = function setRef(node) {\n    func.current = node;\n  };\n  return func;\n}\n\n// =============== Legacy ===============\nexport var UNSELECTABLE_STYLE = {\n  userSelect: 'none',\n  WebkitUserSelect: 'none'\n};\n\nexport var UNSELECTABLE_ATTRIBUTE = {\n  unselectable: 'unselectable'\n};\n\n/**\n * Convert position list to hierarchy structure.\n * This is little hack since use '-' to split the position.\n */\nexport function flatToHierarchy(positionList) {\n  if (!positionList.length) {\n    return [];\n  }\n\n  var entrances = {};\n\n  // Prepare the position map\n  var posMap = {};\n  var parsedList = positionList.slice().map(function (entity) {\n    var clone = _extends({}, entity, {\n      fields: entity.pos.split('-')\n    });\n    delete clone.children;\n    return clone;\n  });\n\n  parsedList.forEach(function (entity) {\n    posMap[entity.pos] = entity;\n  });\n\n  parsedList.sort(function (a, b) {\n    return a.fields.length - b.fields.length;\n  });\n\n  // Create the hierarchy\n  parsedList.forEach(function (entity) {\n    var parentPos = entity.fields.slice(0, -1).join('-');\n    var parentEntity = posMap[parentPos];\n\n    if (!parentEntity) {\n      entrances[entity.pos] = entity;\n    } else {\n      parentEntity.children = parentEntity.children || [];\n      parentEntity.children.push(entity);\n    }\n\n    // Some time position list provide `key`, we don't need it\n    delete entity.key;\n    delete entity.fields;\n  });\n\n  return Object.keys(entrances).map(function (key) {\n    return entrances[key];\n  });\n}\n\n// =============== Accessibility ===============\nvar ariaId = 0;\n\nexport function resetAriaId() {\n  ariaId = 0;\n}\n\nexport function generateAriaId(prefix) {\n  ariaId += 1;\n  return prefix + '_' + ariaId;\n}\n\nexport function isLabelInValue(props) {\n  var treeCheckable = props.treeCheckable,\n      treeCheckStrictly = props.treeCheckStrictly,\n      labelInValue = props.labelInValue;\n\n  if (treeCheckable && treeCheckStrictly) {\n    return true;\n  }\n  return labelInValue || false;\n}\n\n// =================== Tree ====================\nexport function parseSimpleTreeData(treeData, _ref) {\n  var id = _ref.id,\n      pId = _ref.pId,\n      rootPId = _ref.rootPId;\n\n  var keyNodes = {};\n  var rootNodeList = [];\n\n  // Fill in the map\n  var nodeList = treeData.map(function (node) {\n    var clone = _extends({}, node);\n    var key = clone[id];\n    keyNodes[key] = clone;\n    clone.key = clone.key || key;\n    return clone;\n  });\n\n  // Connect tree\n  nodeList.forEach(function (node) {\n    var parentKey = node[pId];\n    var parent = keyNodes[parentKey];\n\n    // Fill parent\n    if (parent) {\n      parent.children = parent.children || [];\n      parent.children.push(node);\n    }\n\n    // Fill root tree node\n    if (parentKey === rootPId || !parent && rootPId === null) {\n      rootNodeList.push(node);\n    }\n  });\n\n  return rootNodeList;\n}\n\n/**\n * Detect if position has relation.\n * e.g. 1-2 related with 1-2-3\n * e.g. 1-3-2 related with 1\n * e.g. 1-2 not related with 1-21\n */\nexport function isPosRelated(pos1, pos2) {\n  var fields1 = pos1.split('-');\n  var fields2 = pos2.split('-');\n\n  var minLen = Math.min(fields1.length, fields2.length);\n  for (var i = 0; i < minLen; i += 1) {\n    if (fields1[i] !== fields2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * This function is only used on treeNode check (none treeCheckStrictly but has searchInput).\n * We convert entity to { node, pos, children } format.\n * This is legacy bug but we still need to do with it.\n * @param entity\n */\nexport function cleanEntity(_ref2) {\n  var node = _ref2.node,\n      pos = _ref2.pos,\n      children = _ref2.children;\n\n  var instance = {\n    node: node,\n    pos: pos\n  };\n\n  if (children) {\n    instance.children = children.map(cleanEntity);\n  }\n\n  return instance;\n}\n\n/**\n * Get a filtered TreeNode list by provided treeNodes.\n * [Legacy] Since `Tree` use `key` as map but `key` will changed by React,\n * we have to convert `treeNodes > data > treeNodes` to keep the key.\n * Such performance hungry!\n */\nexport function getFilterTree(treeNodes, searchValue, filterFunc, valueEntities) {\n  if (!searchValue) {\n    return null;\n  }\n\n  function mapFilteredNodeToData(node) {\n    if (!node) return null;\n\n    var match = false;\n    if (filterFunc(searchValue, node)) {\n      match = true;\n    }\n\n    var children = toNodeArray(node.props.children).map(mapFilteredNodeToData).filter(function (n) {\n      return n;\n    });\n\n    if (children.length || match) {\n      return React.createElement(\n        SelectNode,\n        _extends({}, node.props, {\n          key: valueEntities[node.props.value].key\n        }),\n        children\n      );\n    }\n\n    return null;\n  }\n\n  return treeNodes.map(mapFilteredNodeToData).filter(function (node) {\n    return node;\n  });\n}\n\n// =================== Value ===================\n/**\n * Convert value to array format to make logic simplify.\n */\nexport function formatInternalValue(value, props) {\n  var valueList = toArray(value);\n\n  // Parse label in value\n  if (isLabelInValue(props)) {\n    return valueList.map(function (val) {\n      if (typeof val !== 'object' || !val) {\n        return {\n          value: '',\n          label: ''\n        };\n      }\n\n      return val;\n    });\n  }\n\n  return valueList.map(function (val) {\n    return {\n      value: val\n    };\n  });\n}\n\nexport function getLabel(wrappedValue, entity, treeNodeLabelProp) {\n  if (wrappedValue.label) {\n    return wrappedValue.label;\n  }\n\n  if (entity && entity.node.props) {\n    return entity.node.props[treeNodeLabelProp];\n  }\n\n  // Since value without entity will be in missValueList.\n  // This code will never reached, but we still need this in case.\n  return wrappedValue.value;\n}\n\n/**\n * Convert internal state `valueList` to user needed value list.\n * This will return an array list. You need check if is not multiple when return.\n *\n * `allCheckedNodes` is used for `treeCheckStrictly`\n */\nexport function formatSelectorValue(valueList, props, valueEntities) {\n  var treeNodeLabelProp = props.treeNodeLabelProp,\n      treeCheckable = props.treeCheckable,\n      treeCheckStrictly = props.treeCheckStrictly,\n      showCheckedStrategy = props.showCheckedStrategy;\n\n  // Will hide some value if `showCheckedStrategy` is set\n\n  if (treeCheckable && !treeCheckStrictly) {\n    var values = {};\n    valueList.forEach(function (wrappedValue) {\n      values[wrappedValue.value] = wrappedValue;\n    });\n    var hierarchyList = flatToHierarchy(valueList.map(function (_ref3) {\n      var value = _ref3.value;\n      return valueEntities[value];\n    }));\n\n    if (showCheckedStrategy === SHOW_PARENT) {\n      // Only get the parent checked value\n      return hierarchyList.map(function (_ref4) {\n        var value = _ref4.node.props.value;\n        return {\n          label: getLabel(values[value], valueEntities[value], treeNodeLabelProp),\n          value: value\n        };\n      });\n    } else if (showCheckedStrategy === SHOW_CHILD) {\n      // Only get the children checked value\n      var targetValueList = [];\n\n      // Find the leaf children\n      var traverse = function traverse(_ref5) {\n        var value = _ref5.node.props.value,\n            children = _ref5.children;\n\n        if (!children || children.length === 0) {\n          targetValueList.push({\n            label: getLabel(values[value], valueEntities[value], treeNodeLabelProp),\n            value: value\n          });\n          return;\n        }\n\n        children.forEach(function (entity) {\n          traverse(entity);\n        });\n      };\n\n      hierarchyList.forEach(function (entity) {\n        traverse(entity);\n      });\n\n      return targetValueList;\n    }\n  }\n\n  return valueList.map(function (wrappedValue) {\n    return {\n      label: getLabel(wrappedValue, valueEntities[wrappedValue.value], treeNodeLabelProp),\n      value: wrappedValue.value\n    };\n  });\n}\n\n/**\n * Use `rc-tree` convertDataToTree to convert treeData to TreeNodes.\n * This will change the label to title value\n */\nfunction processProps(props) {\n  var title = props.title,\n      label = props.label,\n      key = props.key,\n      value = props.value;\n\n  var cloneProps = _extends({}, props);\n\n  // Warning user not to use deprecated label prop.\n  if (label && !title) {\n    if (!warnDeprecatedLabel) {\n      warning(false, '\\'label\\' in treeData is deprecated. Please use \\'title\\' instead.');\n      warnDeprecatedLabel = true;\n    }\n\n    cloneProps.title = label;\n  }\n\n  if (!key) {\n    cloneProps.key = value;\n  }\n\n  return cloneProps;\n}\n\nexport function convertDataToTree(treeData) {\n  return rcConvertDataToTree(treeData, { processProps: processProps });\n}\n\n/**\n * Use `rc-tree` convertTreeToEntities for entities calculation.\n * We have additional entities of `valueEntities`\n */\nfunction initWrapper(wrapper) {\n  return _extends({}, wrapper, {\n    valueEntities: {}\n  });\n}\n\nfunction processEntity(entity, wrapper) {\n  var value = entity.node.props.value;\n  entity.value = value;\n\n  // This should be empty, or will get error message.\n  var currentEntity = wrapper.valueEntities[value];\n  if (currentEntity) {\n    warning(false, 'Conflict! value of node \\'' + entity.key + '\\' (' + value + ') has already used by node \\'' + currentEntity.key + '\\'.');\n  }\n  wrapper.valueEntities[value] = entity;\n}\n\nexport function convertTreeToEntities(treeNodes) {\n  return rcConvertTreeToEntities(treeNodes, {\n    initWrapper: initWrapper,\n    processEntity: processEntity\n  });\n}\n\n/**\n * https://github.com/ant-design/ant-design/issues/13328\n * We need calculate the half check key when searchValue is set.\n */\n// TODO: This logic may better move to rc-tree\nexport function getHalfCheckedKeys(valueList, valueEntities) {\n  var values = {};\n\n  // Fill checked keys\n  valueList.forEach(function (_ref6) {\n    var value = _ref6.value;\n\n    values[value] = false;\n  });\n\n  // Fill half checked keys\n  valueList.forEach(function (_ref7) {\n    var value = _ref7.value;\n\n    var current = valueEntities[value];\n\n    while (current && current.parent) {\n      var parentValue = current.parent.value;\n      if (parentValue in values) break;\n      values[parentValue] = true;\n\n      current = current.parent;\n    }\n  });\n\n  // Get half keys\n  return Object.keys(values).filter(function (value) {\n    return values[value];\n  }).map(function (value) {\n    return valueEntities[value].key;\n  });\n}\n\nexport var conductCheck = rcConductCheck;","export var SHOW_ALL = 'SHOW_ALL';\nexport var SHOW_PARENT = 'SHOW_PARENT';\nexport var SHOW_CHILD = 'SHOW_CHILD';","import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport Trigger from 'rc-trigger';\nimport classNames from 'classnames';\n\nimport { createRef } from './util';\n\nvar BUILT_IN_PLACEMENTS = {\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    },\n    ignoreShake: true\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    },\n    ignoreShake: true\n  }\n};\n\nvar SelectTrigger = function (_React$Component) {\n  _inherits(SelectTrigger, _React$Component);\n\n  function SelectTrigger() {\n    _classCallCheck(this, SelectTrigger);\n\n    var _this = _possibleConstructorReturn(this, (SelectTrigger.__proto__ || Object.getPrototypeOf(SelectTrigger)).call(this));\n\n    _this.getDropdownTransitionName = function () {\n      var _this$props = _this.props,\n          transitionName = _this$props.transitionName,\n          animation = _this$props.animation,\n          dropdownPrefixCls = _this$props.dropdownPrefixCls;\n\n      if (!transitionName && animation) {\n        return dropdownPrefixCls + '-' + animation;\n      }\n      return transitionName;\n    };\n\n    _this.forcePopupAlign = function () {\n      var $trigger = _this.triggerRef.current;\n\n      if ($trigger) {\n        $trigger.forcePopupAlign();\n      }\n    };\n\n    _this.triggerRef = createRef();\n    return _this;\n  }\n\n  _createClass(SelectTrigger, [{\n    key: 'render',\n    value: function render() {\n      var _classNames;\n\n      var _props = this.props,\n          disabled = _props.disabled,\n          isMultiple = _props.isMultiple,\n          dropdownPopupAlign = _props.dropdownPopupAlign,\n          dropdownMatchSelectWidth = _props.dropdownMatchSelectWidth,\n          dropdownClassName = _props.dropdownClassName,\n          dropdownStyle = _props.dropdownStyle,\n          onDropdownVisibleChange = _props.onDropdownVisibleChange,\n          getPopupContainer = _props.getPopupContainer,\n          dropdownPrefixCls = _props.dropdownPrefixCls,\n          popupElement = _props.popupElement,\n          open = _props.open,\n          children = _props.children;\n\n      // TODO: [Legacy] Use new action when trigger fixed: https://github.com/react-component/trigger/pull/86\n\n      // When false do nothing with the width\n      // ref: https://github.com/ant-design/ant-design/issues/10927\n\n      var stretch = void 0;\n      if (dropdownMatchSelectWidth !== false) {\n        stretch = dropdownMatchSelectWidth ? 'width' : 'minWidth';\n      }\n\n      return React.createElement(\n        Trigger,\n        {\n          ref: this.triggerRef,\n          action: disabled ? [] : ['click'],\n          popupPlacement: 'bottomLeft',\n          builtinPlacements: BUILT_IN_PLACEMENTS,\n          popupAlign: dropdownPopupAlign,\n          prefixCls: dropdownPrefixCls,\n          popupTransitionName: this.getDropdownTransitionName(),\n          onPopupVisibleChange: onDropdownVisibleChange,\n          popup: popupElement,\n          popupVisible: open,\n          getPopupContainer: getPopupContainer,\n          stretch: stretch,\n          popupClassName: classNames(dropdownClassName, (_classNames = {}, _defineProperty(_classNames, dropdownPrefixCls + '--multiple', isMultiple), _defineProperty(_classNames, dropdownPrefixCls + '--single', !isMultiple), _classNames)),\n          popupStyle: dropdownStyle\n        },\n        children\n      );\n    }\n  }]);\n\n  return SelectTrigger;\n}(React.Component);\n\nSelectTrigger.propTypes = {\n  // Pass by outside user props\n  disabled: PropTypes.bool,\n  showSearch: PropTypes.bool,\n  prefixCls: PropTypes.string,\n  dropdownPopupAlign: PropTypes.object,\n  dropdownClassName: PropTypes.string,\n  dropdownStyle: PropTypes.object,\n  transitionName: PropTypes.string,\n  animation: PropTypes.string,\n  getPopupContainer: PropTypes.func,\n  children: PropTypes.node,\n\n  dropdownMatchSelectWidth: PropTypes.bool,\n\n  // Pass by Select\n  isMultiple: PropTypes.bool,\n  dropdownPrefixCls: PropTypes.string,\n  onDropdownVisibleChange: PropTypes.func,\n  popupElement: PropTypes.node,\n  open: PropTypes.bool\n};\n\n\npolyfill(SelectTrigger);\n\nexport default SelectTrigger;","import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n/**\n * Input Box is in different position for different mode.\n * This not the same design as `Select` cause it's followed by antd 0.x `Select`.\n * We will not follow the new design immediately since antd 3.x is already released.\n *\n * So this file named as Selector to avoid confuse.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { createRef } from '../util';\n\nexport var selectorPropTypes = {\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  open: PropTypes.bool,\n  valueList: PropTypes.array, // Name as valueList to diff the single value\n  allowClear: PropTypes.bool,\n  showArrow: PropTypes.bool,\n  onClick: PropTypes.func,\n  onBlur: PropTypes.func,\n  onFocus: PropTypes.func,\n  removeSelected: PropTypes.func,\n\n  // Pass by component\n  ariaId: PropTypes.string,\n  inputIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  clearIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n};\n\nexport var selectorContextTypes = {\n  onSelectorFocus: PropTypes.func.isRequired,\n  onSelectorBlur: PropTypes.func.isRequired,\n  onSelectorKeyDown: PropTypes.func.isRequired,\n  onSelectorClear: PropTypes.func.isRequired\n};\n\nexport default function (modeName) {\n  var BaseSelector = function (_React$Component) {\n    _inherits(BaseSelector, _React$Component);\n\n    function BaseSelector() {\n      _classCallCheck(this, BaseSelector);\n\n      var _this = _possibleConstructorReturn(this, (BaseSelector.__proto__ || Object.getPrototypeOf(BaseSelector)).call(this));\n\n      _this.onFocus = function () {\n        var _this$props = _this.props,\n            onFocus = _this$props.onFocus,\n            focused = _this$props.focused;\n        var onSelectorFocus = _this.context.rcTreeSelect.onSelectorFocus;\n\n\n        if (!focused) {\n          onSelectorFocus();\n        }\n\n        if (onFocus) {\n          onFocus.apply(undefined, arguments);\n        }\n      };\n\n      _this.onBlur = function () {\n        var onBlur = _this.props.onBlur;\n        var onSelectorBlur = _this.context.rcTreeSelect.onSelectorBlur;\n\n        // TODO: Not trigger when is inner component get focused\n\n        onSelectorBlur();\n\n        if (onBlur) {\n          onBlur.apply(undefined, arguments);\n        }\n      };\n\n      _this.focus = function () {\n        _this.domRef.current.focus();\n      };\n\n      _this.blur = function () {\n        _this.domRef.current.focus();\n      };\n\n      _this.domRef = createRef();\n      return _this;\n    }\n\n    _createClass(BaseSelector, [{\n      key: 'renderClear',\n      value: function renderClear() {\n        var _props = this.props,\n            prefixCls = _props.prefixCls,\n            allowClear = _props.allowClear,\n            valueList = _props.valueList,\n            clearIcon = _props.clearIcon;\n        var onSelectorClear = this.context.rcTreeSelect.onSelectorClear;\n\n\n        if (!allowClear || !valueList.length || !valueList[0].value) {\n          return null;\n        }\n\n        return React.createElement(\n          'span',\n          {\n            key: 'clear',\n            className: prefixCls + '-selection__clear',\n            onClick: onSelectorClear\n          },\n          typeof clearIcon === 'function' ? React.createElement(clearIcon, _extends({}, this.props)) : clearIcon\n        );\n      }\n    }, {\n      key: 'renderArrow',\n      value: function renderArrow() {\n        var _props2 = this.props,\n            prefixCls = _props2.prefixCls,\n            showArrow = _props2.showArrow,\n            inputIcon = _props2.inputIcon;\n\n        if (!showArrow) {\n          return null;\n        }\n\n        return React.createElement(\n          'span',\n          {\n            key: 'arrow',\n            className: prefixCls + '-arrow',\n            style: { outline: 'none' }\n          },\n          typeof inputIcon === 'function' ? React.createElement(inputIcon, _extends({}, this.props)) : inputIcon\n        );\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _classNames;\n\n        var _props3 = this.props,\n            prefixCls = _props3.prefixCls,\n            className = _props3.className,\n            style = _props3.style,\n            open = _props3.open,\n            focused = _props3.focused,\n            disabled = _props3.disabled,\n            allowClear = _props3.allowClear,\n            onClick = _props3.onClick,\n            ariaId = _props3.ariaId,\n            renderSelection = _props3.renderSelection,\n            renderPlaceholder = _props3.renderPlaceholder,\n            tabIndex = _props3.tabIndex;\n        var onSelectorKeyDown = this.context.rcTreeSelect.onSelectorKeyDown;\n\n\n        var myTabIndex = tabIndex;\n        if (disabled) {\n          myTabIndex = null;\n        }\n\n        return React.createElement(\n          'span',\n          {\n            style: style,\n            onClick: onClick,\n            className: classNames(className, prefixCls, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-open', open), _defineProperty(_classNames, prefixCls + '-focused', open || focused), _defineProperty(_classNames, prefixCls + '-disabled', disabled), _defineProperty(_classNames, prefixCls + '-enabled', !disabled), _defineProperty(_classNames, prefixCls + '-allow-clear', allowClear), _classNames)),\n            ref: this.domRef,\n            role: 'combobox',\n            'aria-expanded': open,\n            'aria-owns': open ? ariaId : undefined,\n            'aria-controls': open ? ariaId : undefined,\n            'aria-haspopup': 'listbox',\n            'aria-disabled': disabled,\n            tabIndex: myTabIndex,\n            onFocus: this.onFocus,\n            onBlur: this.onBlur,\n            onKeyDown: onSelectorKeyDown\n          },\n          React.createElement(\n            'span',\n            {\n              key: 'selection',\n              className: classNames(prefixCls + '-selection', prefixCls + '-selection--' + modeName)\n            },\n            renderSelection(),\n            this.renderClear(),\n            this.renderArrow(),\n            renderPlaceholder && renderPlaceholder()\n          )\n        );\n      }\n    }]);\n\n    return BaseSelector;\n  }(React.Component);\n\n  BaseSelector.propTypes = _extends({}, selectorPropTypes, {\n\n    // Pass by HOC\n    renderSelection: PropTypes.func.isRequired,\n    renderPlaceholder: PropTypes.func,\n    tabIndex: PropTypes.number\n  });\n  BaseSelector.contextTypes = {\n    rcTreeSelect: PropTypes.shape(_extends({}, selectorContextTypes))\n  };\n  BaseSelector.defaultProps = {\n    tabIndex: 0\n  };\n\n\n  polyfill(BaseSelector);\n\n  return BaseSelector;\n}","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport Tree from 'rc-tree';\n\nexport var popupContextTypes = {\n  onPopupKeyDown: PropTypes.func.isRequired,\n  onTreeNodeSelect: PropTypes.func.isRequired,\n  onTreeNodeCheck: PropTypes.func.isRequired\n};\n\nvar BasePopup = function (_React$Component) {\n  _inherits(BasePopup, _React$Component);\n\n  function BasePopup(props) {\n    _classCallCheck(this, BasePopup);\n\n    var _this = _possibleConstructorReturn(this, (BasePopup.__proto__ || Object.getPrototypeOf(BasePopup)).call(this));\n\n    _initialiseProps.call(_this);\n\n    var treeDefaultExpandAll = props.treeDefaultExpandAll,\n        treeDefaultExpandedKeys = props.treeDefaultExpandedKeys,\n        keyEntities = props.keyEntities;\n\n    // TODO: make `expandedKeyList` control\n\n    var expandedKeyList = treeDefaultExpandedKeys;\n    if (treeDefaultExpandAll) {\n      expandedKeyList = Object.keys(keyEntities);\n    }\n\n    _this.state = {\n      keyList: [],\n      expandedKeyList: expandedKeyList,\n      // Cache `expandedKeyList` when tree is in filter. This is used in `getDerivedStateFromProps`\n      cachedExpandedKeyList: [], // eslint-disable-line react/no-unused-state\n      loadedKeys: []\n    };\n    return _this;\n  }\n\n  _createClass(BasePopup, [{\n    key: 'render',\n    value: function render() {\n      var _state = this.state,\n          keyList = _state.keyList,\n          expandedKeyList = _state.expandedKeyList,\n          loadedKeys = _state.loadedKeys;\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          treeNodes = _props.treeNodes,\n          filteredTreeNodes = _props.filteredTreeNodes,\n          treeIcon = _props.treeIcon,\n          treeLine = _props.treeLine,\n          treeCheckable = _props.treeCheckable,\n          treeCheckStrictly = _props.treeCheckStrictly,\n          multiple = _props.multiple,\n          ariaId = _props.ariaId,\n          renderSearch = _props.renderSearch,\n          switcherIcon = _props.switcherIcon,\n          searchHalfCheckedKeys = _props.searchHalfCheckedKeys;\n      var _context$rcTreeSelect = this.context.rcTreeSelect,\n          onPopupKeyDown = _context$rcTreeSelect.onPopupKeyDown,\n          onTreeNodeSelect = _context$rcTreeSelect.onTreeNodeSelect,\n          onTreeNodeCheck = _context$rcTreeSelect.onTreeNodeCheck;\n\n\n      var loadData = this.getLoadData();\n\n      var treeProps = {};\n\n      if (treeCheckable) {\n        treeProps.checkedKeys = keyList;\n      } else {\n        treeProps.selectedKeys = keyList;\n      }\n\n      var $notFound = void 0;\n      var $treeNodes = void 0;\n      if (filteredTreeNodes) {\n        if (filteredTreeNodes.length) {\n          treeProps.checkStrictly = true;\n          $treeNodes = filteredTreeNodes;\n\n          // Fill halfCheckedKeys\n          if (treeCheckable && !treeCheckStrictly) {\n            treeProps.checkedKeys = {\n              checked: keyList,\n              halfChecked: searchHalfCheckedKeys\n            };\n          }\n        } else {\n          $notFound = this.renderNotFound();\n        }\n      } else if (!treeNodes.length) {\n        $notFound = this.renderNotFound();\n      } else {\n        $treeNodes = treeNodes;\n      }\n\n      var $tree = void 0;\n      if ($notFound) {\n        $tree = $notFound;\n      } else {\n        $tree = React.createElement(\n          Tree,\n          _extends({\n            prefixCls: prefixCls + '-tree',\n            showIcon: treeIcon,\n            showLine: treeLine,\n            selectable: !treeCheckable,\n            checkable: treeCheckable,\n            checkStrictly: treeCheckStrictly,\n            multiple: multiple,\n            loadData: loadData,\n            loadedKeys: loadedKeys,\n            expandedKeys: expandedKeyList,\n            filterTreeNode: this.filterTreeNode,\n            onSelect: onTreeNodeSelect,\n            onCheck: onTreeNodeCheck,\n            onExpand: this.onTreeExpand,\n            onLoad: this.onLoad,\n            switcherIcon: switcherIcon\n          }, treeProps),\n          $treeNodes\n        );\n      }\n\n      return React.createElement(\n        'div',\n        {\n          role: 'listbox',\n          id: ariaId,\n          onKeyDown: onPopupKeyDown,\n          tabIndex: -1\n        },\n        renderSearch ? renderSearch() : null,\n        $tree\n      );\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var _ref = prevState || {},\n          _ref$prevProps = _ref.prevProps,\n          prevProps = _ref$prevProps === undefined ? {} : _ref$prevProps,\n          loadedKeys = _ref.loadedKeys,\n          expandedKeyList = _ref.expandedKeyList,\n          cachedExpandedKeyList = _ref.cachedExpandedKeyList;\n\n      var valueList = nextProps.valueList,\n          valueEntities = nextProps.valueEntities,\n          keyEntities = nextProps.keyEntities,\n          treeExpandedKeys = nextProps.treeExpandedKeys,\n          filteredTreeNodes = nextProps.filteredTreeNodes,\n          searchValue = nextProps.searchValue;\n\n\n      var newState = {\n        prevProps: nextProps\n      };\n\n      // Check value update\n      if (valueList !== prevProps.valueList) {\n        newState.keyList = valueList.map(function (_ref2) {\n          var value = _ref2.value;\n          return valueEntities[value];\n        }).filter(function (entity) {\n          return entity;\n        }).map(function (_ref3) {\n          var key = _ref3.key;\n          return key;\n        });\n      }\n\n      // Show all when tree is in filter mode\n      if (!treeExpandedKeys && filteredTreeNodes && filteredTreeNodes.length && filteredTreeNodes !== prevProps.filteredTreeNodes) {\n        newState.expandedKeyList = Object.keys(keyEntities);\n      }\n\n      // Cache `expandedKeyList` when filter set\n      if (searchValue && !prevProps.searchValue) {\n        newState.cachedExpandedKeyList = expandedKeyList;\n      } else if (!searchValue && prevProps.searchValue && !treeExpandedKeys) {\n        newState.expandedKeyList = cachedExpandedKeyList || [];\n        newState.cachedExpandedKeyList = [];\n      }\n\n      // Use expandedKeys if provided\n      if (prevProps.treeExpandedKeys !== treeExpandedKeys) {\n        newState.expandedKeyList = treeExpandedKeys;\n      }\n\n      // Clean loadedKeys if key not exist in keyEntities anymore\n      if (nextProps.loadData) {\n        newState.loadedKeys = loadedKeys.filter(function (key) {\n          return key in keyEntities;\n        });\n      }\n\n      return newState;\n    }\n\n    /**\n     * Not pass `loadData` when searching. To avoid loop ajax call makes browser crash.\n     */\n\n\n    /**\n     * This method pass to Tree component which is used for add filtered class\n     * in TreeNode > li\n     */\n\n  }]);\n\n  return BasePopup;\n}(React.Component);\n\nBasePopup.propTypes = {\n  prefixCls: PropTypes.string,\n  upperSearchValue: PropTypes.string,\n  valueList: PropTypes.array,\n  searchHalfCheckedKeys: PropTypes.array,\n  valueEntities: PropTypes.object,\n  keyEntities: PropTypes.object,\n  treeIcon: PropTypes.bool,\n  treeLine: PropTypes.bool,\n  treeNodeFilterProp: PropTypes.string,\n  treeCheckable: PropTypes.oneOfType([PropTypes.bool, PropTypes.node]),\n  treeCheckStrictly: PropTypes.bool,\n  treeDefaultExpandAll: PropTypes.bool,\n  treeDefaultExpandedKeys: PropTypes.array,\n  treeExpandedKeys: PropTypes.array,\n  loadData: PropTypes.func,\n  multiple: PropTypes.bool,\n  onTreeExpand: PropTypes.func,\n\n  treeNodes: PropTypes.node,\n  filteredTreeNodes: PropTypes.node,\n  notFoundContent: PropTypes.node,\n\n  ariaId: PropTypes.string,\n  switcherIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  // HOC\n  renderSearch: PropTypes.func,\n  onTreeExpanded: PropTypes.func\n};\nBasePopup.contextTypes = {\n  rcTreeSelect: PropTypes.shape(_extends({}, popupContextTypes))\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onTreeExpand = function (expandedKeyList) {\n    var _props2 = _this2.props,\n        treeExpandedKeys = _props2.treeExpandedKeys,\n        onTreeExpand = _props2.onTreeExpand,\n        onTreeExpanded = _props2.onTreeExpanded;\n\n    // Set uncontrolled state\n\n    if (!treeExpandedKeys) {\n      _this2.setState({ expandedKeyList: expandedKeyList }, onTreeExpanded);\n    }\n\n    if (onTreeExpand) {\n      onTreeExpand(expandedKeyList);\n    }\n  };\n\n  this.onLoad = function (loadedKeys) {\n    _this2.setState({ loadedKeys: loadedKeys });\n  };\n\n  this.getLoadData = function () {\n    var _props3 = _this2.props,\n        loadData = _props3.loadData,\n        searchValue = _props3.searchValue;\n\n    if (searchValue) return null;\n    return loadData;\n  };\n\n  this.filterTreeNode = function (treeNode) {\n    var _props4 = _this2.props,\n        upperSearchValue = _props4.upperSearchValue,\n        treeNodeFilterProp = _props4.treeNodeFilterProp;\n\n\n    var filterVal = treeNode.props[treeNodeFilterProp];\n    if (typeof filterVal === 'string') {\n      return upperSearchValue && filterVal.toUpperCase().indexOf(upperSearchValue) !== -1;\n    }\n\n    return false;\n  };\n\n  this.renderNotFound = function () {\n    var _props5 = _this2.props,\n        prefixCls = _props5.prefixCls,\n        notFoundContent = _props5.notFoundContent;\n\n\n    return React.createElement(\n      'span',\n      { className: prefixCls + '-not-found' },\n      notFoundContent\n    );\n  };\n};\n\npolyfill(BasePopup);\n\nexport default BasePopup;","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport generateSelector, { selectorPropTypes } from '../Base/BaseSelector';\nimport { toTitle, createRef } from '../util';\n\nvar Selector = generateSelector('single');\n\nvar SingleSelector = function (_React$Component) {\n  _inherits(SingleSelector, _React$Component);\n\n  function SingleSelector() {\n    _classCallCheck(this, SingleSelector);\n\n    var _this = _possibleConstructorReturn(this, (SingleSelector.__proto__ || Object.getPrototypeOf(SingleSelector)).call(this));\n\n    _this.focus = function () {\n      _this.selectorRef.current.focus();\n    };\n\n    _this.blur = function () {\n      _this.selectorRef.current.blur();\n    };\n\n    _this.renderSelection = function () {\n      var _this$props = _this.props,\n          selectorValueList = _this$props.selectorValueList,\n          placeholder = _this$props.placeholder,\n          prefixCls = _this$props.prefixCls;\n\n\n      var innerNode = void 0;\n\n      if (selectorValueList.length) {\n        var _selectorValueList$ = selectorValueList[0],\n            label = _selectorValueList$.label,\n            value = _selectorValueList$.value;\n\n        innerNode = React.createElement(\n          'span',\n          {\n            key: 'value',\n            title: toTitle(label),\n            className: prefixCls + '-selection-selected-value'\n          },\n          label || value\n        );\n      } else {\n        innerNode = React.createElement(\n          'span',\n          {\n            key: 'placeholder',\n            className: prefixCls + '-selection__placeholder'\n          },\n          placeholder\n        );\n      }\n\n      return React.createElement(\n        'span',\n        { className: prefixCls + '-selection__rendered' },\n        innerNode\n      );\n    };\n\n    _this.selectorRef = createRef();\n    return _this;\n  }\n\n  _createClass(SingleSelector, [{\n    key: 'render',\n    value: function render() {\n      return React.createElement(Selector, _extends({}, this.props, {\n        ref: this.selectorRef,\n        renderSelection: this.renderSelection\n      }));\n    }\n  }]);\n\n  return SingleSelector;\n}(React.Component);\n\nSingleSelector.propTypes = _extends({}, selectorPropTypes);\n\n\nexport default SingleSelector;","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n/**\n * Since search box is in different position with different mode.\n * - Single: in the popup box\n * - multiple: in the selector\n * Move the code as a SearchInput for easy management.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { createRef } from './util';\n\nexport var searchContextTypes = {\n  onSearchInputChange: PropTypes.func.isRequired\n};\n\nvar SearchInput = function (_React$Component) {\n  _inherits(SearchInput, _React$Component);\n\n  function SearchInput() {\n    _classCallCheck(this, SearchInput);\n\n    var _this = _possibleConstructorReturn(this, (SearchInput.__proto__ || Object.getPrototypeOf(SearchInput)).call(this));\n\n    _this.alignInputWidth = function () {\n      _this.inputRef.current.style.width = _this.mirrorInputRef.current.clientWidth + 'px';\n    };\n\n    _this.focus = function (isDidMount) {\n      if (_this.inputRef.current) {\n        _this.inputRef.current.focus();\n        if (isDidMount) {\n          setTimeout(function () {\n            _this.inputRef.current.focus();\n          }, 0);\n        }\n      }\n    };\n\n    _this.blur = function () {\n      if (_this.inputRef.current) {\n        _this.inputRef.current.blur();\n      }\n    };\n\n    _this.inputRef = createRef();\n    _this.mirrorInputRef = createRef();\n    return _this;\n  }\n\n  _createClass(SearchInput, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          open = _props.open,\n          needAlign = _props.needAlign;\n\n      if (needAlign) {\n        this.alignInputWidth();\n      }\n\n      if (open) {\n        this.focus(true);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _props2 = this.props,\n          open = _props2.open,\n          searchValue = _props2.searchValue,\n          needAlign = _props2.needAlign;\n\n\n      if (open && prevProps.open !== open) {\n        this.focus();\n      }\n\n      if (needAlign && searchValue !== prevProps.searchValue) {\n        this.alignInputWidth();\n      }\n    }\n\n    /**\n     * `scrollWidth` is not correct in IE, do the workaround.\n     * ref: https://github.com/react-component/tree-select/issues/65\n     */\n\n\n    /**\n     * Need additional timeout for focus cause parent dom is not ready when didMount trigger\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props3 = this.props,\n          searchValue = _props3.searchValue,\n          prefixCls = _props3.prefixCls,\n          disabled = _props3.disabled,\n          renderPlaceholder = _props3.renderPlaceholder,\n          open = _props3.open,\n          ariaId = _props3.ariaId;\n      var _context$rcTreeSelect = this.context.rcTreeSelect,\n          onSearchInputChange = _context$rcTreeSelect.onSearchInputChange,\n          onSearchInputKeyDown = _context$rcTreeSelect.onSearchInputKeyDown;\n\n\n      return React.createElement(\n        'span',\n        { className: prefixCls + '-search__field__wrap' },\n        React.createElement('input', {\n          type: 'text',\n          ref: this.inputRef,\n          onChange: onSearchInputChange,\n          onKeyDown: onSearchInputKeyDown,\n          value: searchValue,\n          disabled: disabled,\n          className: prefixCls + '-search__field',\n\n          'aria-label': 'filter select',\n          'aria-autocomplete': 'list',\n          'aria-controls': open ? ariaId : undefined,\n          'aria-multiline': 'false'\n        }),\n        React.createElement(\n          'span',\n          {\n            ref: this.mirrorInputRef,\n            className: prefixCls + '-search__field__mirror'\n          },\n          searchValue,\n          '\\xA0'\n        ),\n        renderPlaceholder ? renderPlaceholder() : null\n      );\n    }\n  }]);\n\n  return SearchInput;\n}(React.Component);\n\nSearchInput.propTypes = {\n  open: PropTypes.bool,\n  searchValue: PropTypes.string,\n  prefixCls: PropTypes.string,\n  disabled: PropTypes.bool,\n  renderPlaceholder: PropTypes.func,\n  needAlign: PropTypes.bool,\n  ariaId: PropTypes.string\n};\nSearchInput.contextTypes = {\n  rcTreeSelect: PropTypes.shape(_extends({}, searchContextTypes))\n};\n\n\npolyfill(SearchInput);\n\nexport default SearchInput;","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { toTitle, UNSELECTABLE_ATTRIBUTE, UNSELECTABLE_STYLE } from '../../util';\n\nvar Selection = function (_React$Component) {\n  _inherits(Selection, _React$Component);\n\n  function Selection() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Selection);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Selection.__proto__ || Object.getPrototypeOf(Selection)).call.apply(_ref, [this].concat(args))), _this), _this.onRemove = function (event) {\n      var _this$props = _this.props,\n          onRemove = _this$props.onRemove,\n          value = _this$props.value;\n\n      onRemove(event, value);\n\n      event.stopPropagation();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Selection, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          maxTagTextLength = _props.maxTagTextLength,\n          label = _props.label,\n          value = _props.value,\n          onRemove = _props.onRemove,\n          removeIcon = _props.removeIcon;\n\n\n      var content = label || value;\n      if (maxTagTextLength && typeof content === 'string' && content.length > maxTagTextLength) {\n        content = content.slice(0, maxTagTextLength) + '...';\n      }\n\n      return React.createElement(\n        'li',\n        _extends({\n          style: UNSELECTABLE_STYLE\n        }, UNSELECTABLE_ATTRIBUTE, {\n          role: 'menuitem',\n          className: prefixCls + '-selection__choice',\n          title: toTitle(label)\n        }),\n        onRemove && React.createElement(\n          'span',\n          {\n            className: prefixCls + '-selection__choice__remove',\n            onClick: this.onRemove\n          },\n          typeof removeIcon === 'function' ? React.createElement(removeIcon, _extends({}, this.props)) : removeIcon\n        ),\n        React.createElement(\n          'span',\n          { className: prefixCls + '-selection__choice__content' },\n          content\n        )\n      );\n    }\n  }]);\n\n  return Selection;\n}(React.Component);\n\nSelection.propTypes = {\n  prefixCls: PropTypes.string,\n  maxTagTextLength: PropTypes.number,\n  onRemove: PropTypes.func,\n\n  label: PropTypes.node,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  removeIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n};\n\n\nexport default Selection;","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Animate from 'rc-animate';\n\nimport generateSelector, { selectorPropTypes } from '../../Base/BaseSelector';\nimport SearchInput from '../../SearchInput';\nimport Selection from './Selection';\nimport { createRef } from '../../util';\n\nvar TREE_SELECT_EMPTY_VALUE_KEY = 'RC_TREE_SELECT_EMPTY_VALUE_KEY';\n\nvar Selector = generateSelector('multiple');\n\nexport var multipleSelectorContextTypes = {\n  onMultipleSelectorRemove: PropTypes.func.isRequired\n};\n\nvar MultipleSelector = function (_React$Component) {\n  _inherits(MultipleSelector, _React$Component);\n\n  function MultipleSelector() {\n    _classCallCheck(this, MultipleSelector);\n\n    var _this = _possibleConstructorReturn(this, (MultipleSelector.__proto__ || Object.getPrototypeOf(MultipleSelector)).call(this));\n\n    _this.onPlaceholderClick = function () {\n      _this.inputRef.current.focus();\n    };\n\n    _this.focus = function () {\n      _this.inputRef.current.focus();\n    };\n\n    _this.blur = function () {\n      _this.inputRef.current.blur();\n    };\n\n    _this.renderPlaceholder = function () {\n      var _this$props = _this.props,\n          prefixCls = _this$props.prefixCls,\n          placeholder = _this$props.placeholder,\n          searchPlaceholder = _this$props.searchPlaceholder,\n          searchValue = _this$props.searchValue,\n          selectorValueList = _this$props.selectorValueList;\n\n\n      var currentPlaceholder = placeholder || searchPlaceholder;\n\n      if (!currentPlaceholder) return null;\n\n      var hidden = searchValue || selectorValueList.length;\n\n      // [Legacy] Not remove the placeholder\n      return React.createElement(\n        'span',\n        {\n          style: {\n            display: hidden ? 'none' : 'block'\n          },\n          onClick: _this.onPlaceholderClick,\n          className: prefixCls + '-search__field__placeholder'\n        },\n        currentPlaceholder\n      );\n    };\n\n    _this.renderSelection = function () {\n      var _this$props2 = _this.props,\n          selectorValueList = _this$props2.selectorValueList,\n          choiceTransitionName = _this$props2.choiceTransitionName,\n          prefixCls = _this$props2.prefixCls,\n          onChoiceAnimationLeave = _this$props2.onChoiceAnimationLeave,\n          labelInValue = _this$props2.labelInValue,\n          maxTagCount = _this$props2.maxTagCount,\n          maxTagPlaceholder = _this$props2.maxTagPlaceholder;\n      var onMultipleSelectorRemove = _this.context.rcTreeSelect.onMultipleSelectorRemove;\n\n      // Check if `maxTagCount` is set\n\n      var myValueList = selectorValueList;\n      if (maxTagCount >= 0) {\n        myValueList = selectorValueList.slice(0, maxTagCount);\n      }\n\n      // Selector node list\n      var selectedValueNodes = myValueList.map(function (_ref) {\n        var label = _ref.label,\n            value = _ref.value;\n        return React.createElement(Selection, _extends({}, _this.props, {\n          key: value || TREE_SELECT_EMPTY_VALUE_KEY,\n          label: label,\n          value: value,\n          onRemove: onMultipleSelectorRemove\n        }));\n      });\n\n      // Rest node count\n      if (maxTagCount >= 0 && maxTagCount < selectorValueList.length) {\n        var content = '+ ' + (selectorValueList.length - maxTagCount) + ' ...';\n        if (typeof maxTagPlaceholder === 'string') {\n          content = maxTagPlaceholder;\n        } else if (typeof maxTagPlaceholder === 'function') {\n          var restValueList = selectorValueList.slice(maxTagCount);\n          content = maxTagPlaceholder(labelInValue ? restValueList : restValueList.map(function (_ref2) {\n            var value = _ref2.value;\n            return value;\n          }));\n        }\n\n        var restNodeSelect = React.createElement(Selection, _extends({}, _this.props, {\n          key: 'rc-tree-select-internal-max-tag-counter',\n          label: content,\n          value: null\n        }));\n\n        selectedValueNodes.push(restNodeSelect);\n      }\n\n      selectedValueNodes.push(React.createElement(\n        'li',\n        {\n          className: prefixCls + '-search ' + prefixCls + '-search--inline',\n          key: '__input'\n        },\n        React.createElement(SearchInput, _extends({}, _this.props, { ref: _this.inputRef, needAlign: true }))\n      ));\n      var className = prefixCls + '-selection__rendered';\n      if (choiceTransitionName) {\n        return React.createElement(\n          Animate,\n          {\n            className: className,\n            component: 'ul',\n            transitionName: choiceTransitionName,\n            onLeave: onChoiceAnimationLeave\n          },\n          selectedValueNodes\n        );\n      }\n      return React.createElement(\n        'ul',\n        { className: className, role: 'menubar' },\n        selectedValueNodes\n      );\n    };\n\n    _this.inputRef = createRef();\n    return _this;\n  }\n\n  _createClass(MultipleSelector, [{\n    key: 'render',\n    value: function render() {\n      return React.createElement(Selector, _extends({}, this.props, {\n        tabIndex: -1,\n        showArrow: false,\n        renderSelection: this.renderSelection,\n        renderPlaceholder: this.renderPlaceholder\n      }));\n    }\n  }]);\n\n  return MultipleSelector;\n}(React.Component);\n\nMultipleSelector.propTypes = _extends({}, selectorPropTypes, {\n  selectorValueList: PropTypes.array,\n  disabled: PropTypes.bool,\n  searchValue: PropTypes.string,\n  labelInValue: PropTypes.bool,\n  maxTagCount: PropTypes.number,\n  maxTagPlaceholder: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  onChoiceAnimationLeave: PropTypes.func\n});\nMultipleSelector.contextTypes = {\n  rcTreeSelect: PropTypes.shape(_extends({}, multipleSelectorContextTypes, {\n\n    onSearchInputChange: PropTypes.func\n  }))\n};\n\n\nexport default MultipleSelector;","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport BasePopup from '../Base/BasePopup';\nimport SearchInput from '../SearchInput';\nimport { createRef } from '../util';\n\nvar SinglePopup = function (_React$Component) {\n  _inherits(SinglePopup, _React$Component);\n\n  function SinglePopup() {\n    _classCallCheck(this, SinglePopup);\n\n    var _this = _possibleConstructorReturn(this, (SinglePopup.__proto__ || Object.getPrototypeOf(SinglePopup)).call(this));\n\n    _this.onPlaceholderClick = function () {\n      _this.inputRef.current.focus();\n    };\n\n    _this.renderPlaceholder = function () {\n      var _this$props = _this.props,\n          searchPlaceholder = _this$props.searchPlaceholder,\n          searchValue = _this$props.searchValue,\n          prefixCls = _this$props.prefixCls;\n\n\n      if (!searchPlaceholder) {\n        return null;\n      }\n\n      return React.createElement(\n        'span',\n        {\n          style: {\n            display: searchValue ? 'none' : 'block'\n          },\n          onClick: _this.onPlaceholderClick,\n          className: prefixCls + '-search__field__placeholder'\n        },\n        searchPlaceholder\n      );\n    };\n\n    _this.renderSearch = function () {\n      var _this$props2 = _this.props,\n          showSearch = _this$props2.showSearch,\n          dropdownPrefixCls = _this$props2.dropdownPrefixCls;\n\n\n      if (!showSearch) {\n        return null;\n      }\n\n      return React.createElement(\n        'span',\n        { className: dropdownPrefixCls + '-search' },\n        React.createElement(SearchInput, _extends({}, _this.props, {\n          ref: _this.inputRef,\n          renderPlaceholder: _this.renderPlaceholder\n        }))\n      );\n    };\n\n    _this.inputRef = createRef();\n    return _this;\n  }\n\n  _createClass(SinglePopup, [{\n    key: 'render',\n    value: function render() {\n      return React.createElement(BasePopup, _extends({}, this.props, {\n        renderSearch: this.renderSearch\n      }));\n    }\n  }]);\n\n  return SinglePopup;\n}(React.Component);\n\nSinglePopup.propTypes = _extends({}, BasePopup.propTypes, {\n  searchValue: PropTypes.string,\n  showSearch: PropTypes.bool,\n  dropdownPrefixCls: PropTypes.string,\n  disabled: PropTypes.bool,\n  searchPlaceholder: PropTypes.string\n});\n\n\nexport default SinglePopup;","import BasePopup from '../Base/BasePopup';\n\nexport default BasePopup;","import _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n/**\n * ARIA: https://www.w3.org/TR/wai-aria/#combobox\n * Sample 1: https://www.w3.org/TR/2017/NOTE-wai-aria-practices-1.1-20171214/examples/combobox/aria1.1pattern/listbox-combo.html\n * Sample 2: https://www.w3.org/blog/wai-components-gallery/widget/combobox-with-aria-autocompleteinline/\n *\n * Tab logic:\n * Popup is close\n * 1. Focus input (mark component as focused)\n * 2. Press enter to show the popup\n * 3. If popup has input, focus it\n *\n * Popup is open\n * 1. press tab to close the popup\n * 2. Focus back to the selection input box\n * 3. Let the native tab going on\n *\n * TreeSelect use 2 design type.\n * In single mode, we should focus on the `span`\n * In multiple mode, we should focus on the `input`\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport KeyCode from 'rc-util/es/KeyCode';\nimport shallowEqual from 'shallowequal';\nimport raf from 'raf';\n\nimport SelectTrigger from './SelectTrigger';\nimport { selectorContextTypes } from './Base/BaseSelector';\nimport { popupContextTypes } from './Base/BasePopup';\nimport SingleSelector from './Selector/SingleSelector';\nimport MultipleSelector, { multipleSelectorContextTypes } from './Selector/MultipleSelector';\nimport SinglePopup from './Popup/SinglePopup';\nimport MultiplePopup from './Popup/MultiplePopup';\n\nimport { SHOW_ALL, SHOW_PARENT, SHOW_CHILD } from './strategies';\n\nimport { createRef, generateAriaId, formatInternalValue, formatSelectorValue, parseSimpleTreeData, convertDataToTree, convertTreeToEntities, conductCheck, getHalfCheckedKeys, flatToHierarchy, isPosRelated, isLabelInValue, getFilterTree, cleanEntity } from './util';\nimport { valueProp } from './propTypes';\nimport SelectNode from './SelectNode';\n\nvar Select = function (_React$Component) {\n  _inherits(Select, _React$Component);\n\n  function Select(props) {\n    _classCallCheck(this, Select);\n\n    var _this = _possibleConstructorReturn(this, (Select.__proto__ || Object.getPrototypeOf(Select)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var prefixAria = props.prefixAria,\n        defaultOpen = props.defaultOpen,\n        open = props.open;\n\n\n    _this.state = {\n      open: open || defaultOpen,\n      valueList: [],\n      searchHalfCheckedKeys: [],\n      missValueList: [], // Contains the value not in the tree\n      selectorValueList: [], // Used for multiple selector\n      valueEntities: {},\n      keyEntities: {},\n      searchValue: '',\n\n      init: true\n    };\n\n    _this.selectorRef = createRef();\n    _this.selectTriggerRef = createRef();\n\n    // ARIA need `aria-controls` props mapping\n    // Since this need user input. Let's generate ourselves\n    _this.ariaId = generateAriaId(prefixAria + '-list');\n    return _this;\n  }\n\n  _createClass(Select, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        rcTreeSelect: {\n          onSelectorFocus: this.onSelectorFocus,\n          onSelectorBlur: this.onSelectorBlur,\n          onSelectorKeyDown: this.onComponentKeyDown,\n          onSelectorClear: this.onSelectorClear,\n          onMultipleSelectorRemove: this.onMultipleSelectorRemove,\n\n          onTreeNodeSelect: this.onTreeNodeSelect,\n          onTreeNodeCheck: this.onTreeNodeCheck,\n          onPopupKeyDown: this.onComponentKeyDown,\n\n          onSearchInputChange: this.onSearchInputChange,\n          onSearchInputKeyDown: this.onSearchInputKeyDown\n        }\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          autoFocus = _props.autoFocus,\n          disabled = _props.disabled;\n\n\n      if (autoFocus && !disabled) {\n        this.focus();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(_, prevState) {\n      if (prevState.valueList !== this.state.valueList) {\n        this.forcePopupAlign();\n      }\n    }\n\n    // ==================== Selector ====================\n\n\n    // Handle key board event in both Selector and Popup\n\n\n    // ===================== Popup ======================\n\n\n    // ==================== Trigger =====================\n\n    /**\n     * Only update the value which is not in props\n     */\n\n\n    // [Legacy] Origin provide `documentClickClose` which triggered by `Trigger`\n    // Currently `TreeSelect` align the hide popup logic as `Select` which blur to hide.\n    // `documentClickClose` is not accurate anymore. Let's just keep the key word.\n\n\n    // Tree checkable is also a multiple case\n\n\n    // [Legacy] To align with `Select` component,\n    // We use `searchValue` instead of `inputValue`\n    // but currently still need support that.\n    // Add this method the check if is controlled\n\n\n    /**\n     * 1. Update state valueList.\n     * 2. Fire `onChange` event to user.\n     */\n\n  }, {\n    key: 'focus',\n    value: function focus() {\n      this.selectorRef.current.focus();\n    }\n  }, {\n    key: 'blur',\n    value: function blur() {\n      this.selectorRef.current.blur();\n    }\n\n    // ===================== Render =====================\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _state = this.state,\n          valueList = _state.valueList,\n          missValueList = _state.missValueList,\n          selectorValueList = _state.selectorValueList,\n          searchHalfCheckedKeys = _state.searchHalfCheckedKeys,\n          valueEntities = _state.valueEntities,\n          keyEntities = _state.keyEntities,\n          searchValue = _state.searchValue,\n          open = _state.open,\n          focused = _state.focused,\n          treeNodes = _state.treeNodes,\n          filteredTreeNodes = _state.filteredTreeNodes;\n      var _props2 = this.props,\n          prefixCls = _props2.prefixCls,\n          treeExpandedKeys = _props2.treeExpandedKeys,\n          onTreeExpand = _props2.onTreeExpand;\n\n      var isMultiple = this.isMultiple();\n\n      var passProps = _extends({}, this.props, {\n        isMultiple: isMultiple,\n        valueList: valueList,\n        searchHalfCheckedKeys: searchHalfCheckedKeys,\n        selectorValueList: [].concat(_toConsumableArray(missValueList), _toConsumableArray(selectorValueList)),\n        valueEntities: valueEntities,\n        keyEntities: keyEntities,\n        searchValue: searchValue,\n        upperSearchValue: (searchValue || '').toUpperCase(), // Perf save\n        open: open,\n        focused: focused,\n        onChoiceAnimationLeave: this.onChoiceAnimationLeave,\n        dropdownPrefixCls: prefixCls + '-dropdown',\n        ariaId: this.ariaId\n      });\n\n      var Popup = isMultiple ? MultiplePopup : SinglePopup;\n      var $popup = React.createElement(Popup, _extends({}, passProps, {\n        onTreeExpanded: this.delayForcePopupAlign,\n        treeNodes: treeNodes,\n        filteredTreeNodes: filteredTreeNodes\n        // Tree expanded control\n        , treeExpandedKeys: treeExpandedKeys,\n        onTreeExpand: onTreeExpand\n      }));\n\n      var Selector = isMultiple ? MultipleSelector : SingleSelector;\n      var $selector = React.createElement(Selector, _extends({}, passProps, {\n        ref: this.selectorRef\n      }));\n\n      return React.createElement(\n        SelectTrigger,\n        _extends({}, passProps, {\n\n          ref: this.selectTriggerRef,\n          popupElement: $popup,\n\n          onKeyDown: this.onKeyDown,\n          onDropdownVisibleChange: this.onDropdownVisibleChange\n        }),\n        $selector\n      );\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var _prevState$prevProps = prevState.prevProps,\n          prevProps = _prevState$prevProps === undefined ? {} : _prevState$prevProps;\n      var treeCheckable = nextProps.treeCheckable,\n          treeCheckStrictly = nextProps.treeCheckStrictly,\n          filterTreeNode = nextProps.filterTreeNode,\n          treeNodeFilterProp = nextProps.treeNodeFilterProp,\n          treeDataSimpleMode = nextProps.treeDataSimpleMode;\n\n      var newState = {\n        prevProps: nextProps,\n        init: false\n      };\n\n      // Process the state when props updated\n      function processState(propName, updater) {\n        if (prevProps[propName] !== nextProps[propName]) {\n          updater(nextProps[propName], prevProps[propName]);\n          return true;\n        }\n        return false;\n      }\n\n      var valueRefresh = false;\n\n      // Open\n      processState('open', function (propValue) {\n        newState.open = propValue;\n      });\n\n      // Tree Nodes\n      var treeNodes = void 0;\n      var treeDataChanged = false;\n      var treeDataModeChanged = false;\n      processState('treeData', function (propValue) {\n        treeNodes = convertDataToTree(propValue);\n        treeDataChanged = true;\n      });\n\n      processState('treeDataSimpleMode', function (propValue, prevValue) {\n        if (!propValue) return;\n\n        var prev = !prevValue || prevValue === true ? {} : prevValue;\n\n        // Shallow equal to avoid dynamic prop object\n        if (!shallowEqual(propValue, prev)) {\n          treeDataModeChanged = true;\n        }\n      });\n\n      // Parse by `treeDataSimpleMode`\n      if (treeDataSimpleMode && (treeDataChanged || treeDataModeChanged)) {\n        var simpleMapper = _extends({\n          id: 'id',\n          pId: 'pId',\n          rootPId: null\n        }, treeDataSimpleMode !== true ? treeDataSimpleMode : {});\n        treeNodes = convertDataToTree(parseSimpleTreeData(nextProps.treeData, simpleMapper));\n      }\n\n      // If `treeData` not provide, use children TreeNodes\n      if (!nextProps.treeData) {\n        processState('children', function (propValue) {\n          treeNodes = Array.isArray(propValue) ? propValue : [propValue];\n        });\n      }\n\n      // Convert `treeData` to entities\n      if (treeNodes) {\n        var entitiesMap = convertTreeToEntities(treeNodes);\n        newState.treeNodes = treeNodes;\n        newState.posEntities = entitiesMap.posEntities;\n        newState.valueEntities = entitiesMap.valueEntities;\n        newState.keyEntities = entitiesMap.keyEntities;\n\n        valueRefresh = true;\n      }\n\n      // Value List\n      if (prevState.init) {\n        processState('defaultValue', function (propValue) {\n          newState.valueList = formatInternalValue(propValue, nextProps);\n          valueRefresh = true;\n        });\n      }\n\n      processState('value', function (propValue) {\n        newState.valueList = formatInternalValue(propValue, nextProps);\n        valueRefresh = true;\n      });\n\n      // Selector Value List\n      if (valueRefresh) {\n        // Find out that value not exist in the tree\n        var missValueList = [];\n        var filteredValueList = [];\n        var keyList = [];\n\n        // Get latest value list\n        var latestValueList = newState.valueList;\n        if (!latestValueList) {\n          // Also need add prev missValueList to avoid new treeNodes contains the value\n          latestValueList = [].concat(_toConsumableArray(prevState.valueList), _toConsumableArray(prevState.missValueList));\n        }\n\n        // Get key by value\n        latestValueList.forEach(function (wrapperValue) {\n          var value = wrapperValue.value;\n\n          var entity = (newState.valueEntities || prevState.valueEntities)[value];\n\n          if (entity) {\n            keyList.push(entity.key);\n            filteredValueList.push(wrapperValue);\n            return;\n          }\n\n          // If not match, it may caused by ajax load. We need keep this\n          missValueList.push(wrapperValue);\n        });\n\n        // We need calculate the value when tree is checked tree\n        if (treeCheckable && !treeCheckStrictly) {\n          // Calculate the keys need to be checked\n          var _conductCheck = conductCheck(keyList, true, newState.keyEntities || prevState.keyEntities),\n              checkedKeys = _conductCheck.checkedKeys;\n\n          // Format value list again for internal usage\n\n\n          newState.valueList = checkedKeys.map(function (key) {\n            return {\n              value: (newState.keyEntities || prevState.keyEntities)[key].value\n            };\n          });\n        } else {\n          newState.valueList = filteredValueList;\n        }\n\n        // Fill the missValueList, we still need display in the selector\n        newState.missValueList = missValueList;\n\n        // Calculate the value list for `Selector` usage\n        newState.selectorValueList = formatSelectorValue(newState.valueList, nextProps, newState.valueEntities || prevState.valueEntities);\n      }\n\n      // [Legacy] To align with `Select` component,\n      // We use `searchValue` instead of `inputValue` but still keep the api\n      // `inputValue` support `null` to work as `autoClearSearchValue`\n      processState('inputValue', function (propValue) {\n        if (propValue !== null) {\n          newState.searchValue = propValue;\n        }\n      });\n\n      // Search value\n      processState('searchValue', function (propValue) {\n        newState.searchValue = propValue;\n      });\n\n      // Do the search logic\n      if (newState.searchValue !== undefined || prevState.searchValue && treeNodes) {\n        var searchValue = newState.searchValue !== undefined ? newState.searchValue : prevState.searchValue;\n        var upperSearchValue = String(searchValue).toUpperCase();\n\n        var filterTreeNodeFn = filterTreeNode;\n        if (filterTreeNode === false) {\n          // Don't filter if is false\n          filterTreeNodeFn = function filterTreeNodeFn() {\n            return true;\n          };\n        } else if (typeof filterTreeNodeFn !== 'function') {\n          // When is not function (true or undefined), use inner filter\n          filterTreeNodeFn = function filterTreeNodeFn(_, node) {\n            var nodeValue = String(node.props[treeNodeFilterProp]).toUpperCase();\n            return nodeValue.indexOf(upperSearchValue) !== -1;\n          };\n        }\n\n        newState.filteredTreeNodes = getFilterTree(newState.treeNodes || prevState.treeNodes, searchValue, filterTreeNodeFn, newState.valueEntities || prevState.valueEntities);\n      }\n\n      // We should re-calculate the halfCheckedKeys when in search mode\n      if (valueRefresh && treeCheckable && !treeCheckStrictly && (newState.searchValue || prevState.searchValue)) {\n        newState.searchHalfCheckedKeys = getHalfCheckedKeys(newState.valueList, newState.valueEntities || prevState.valueEntities);\n      }\n\n      // Checked Strategy\n      processState('showCheckedStrategy', function () {\n        newState.selectorValueList = newState.selectorValueList || formatSelectorValue(newState.valueList || prevState.valueList, nextProps, newState.valueEntities || prevState.valueEntities);\n      });\n\n      return newState;\n    }\n  }]);\n\n  return Select;\n}(React.Component);\n\nSelect.propTypes = {\n  prefixCls: PropTypes.string,\n  prefixAria: PropTypes.string,\n  multiple: PropTypes.bool,\n  showArrow: PropTypes.bool,\n  open: PropTypes.bool,\n  value: valueProp,\n  autoFocus: PropTypes.bool,\n\n  defaultOpen: PropTypes.bool,\n  defaultValue: valueProp,\n\n  showSearch: PropTypes.bool,\n  placeholder: PropTypes.node,\n  inputValue: PropTypes.string, // [Legacy] Deprecated. Use `searchValue` instead.\n  searchValue: PropTypes.string,\n  autoClearSearchValue: PropTypes.bool,\n  searchPlaceholder: PropTypes.node, // [Legacy] Confuse with placeholder\n  disabled: PropTypes.bool,\n  children: PropTypes.node,\n  labelInValue: PropTypes.bool,\n  maxTagCount: PropTypes.number,\n  maxTagPlaceholder: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  maxTagTextLength: PropTypes.number,\n  showCheckedStrategy: PropTypes.oneOf([SHOW_ALL, SHOW_PARENT, SHOW_CHILD]),\n\n  dropdownMatchSelectWidth: PropTypes.bool,\n  treeData: PropTypes.array,\n  treeDataSimpleMode: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  treeNodeFilterProp: PropTypes.string,\n  treeNodeLabelProp: PropTypes.string,\n  treeCheckable: PropTypes.oneOfType([PropTypes.bool, PropTypes.node]),\n  treeCheckStrictly: PropTypes.bool,\n  treeIcon: PropTypes.bool,\n  treeLine: PropTypes.bool,\n  treeDefaultExpandAll: PropTypes.bool,\n  treeDefaultExpandedKeys: PropTypes.array,\n  treeExpandedKeys: PropTypes.array,\n  loadData: PropTypes.func,\n  filterTreeNode: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n\n  notFoundContent: PropTypes.node,\n\n  onSearch: PropTypes.func,\n  onSelect: PropTypes.func,\n  onDeselect: PropTypes.func,\n  onChange: PropTypes.func,\n  onDropdownVisibleChange: PropTypes.func,\n\n  onTreeExpand: PropTypes.func,\n\n  inputIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  clearIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  removeIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  switcherIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n};\nSelect.childContextTypes = {\n  rcTreeSelect: PropTypes.shape(_extends({}, selectorContextTypes, multipleSelectorContextTypes, popupContextTypes, {\n\n    onSearchInputChange: PropTypes.func,\n    onSearchInputKeyDown: PropTypes.func\n  }))\n};\nSelect.defaultProps = {\n  prefixCls: 'rc-tree-select',\n  prefixAria: 'rc-tree-select',\n  showArrow: true,\n  showSearch: true,\n  autoClearSearchValue: true,\n  showCheckedStrategy: SHOW_CHILD,\n\n  // dropdownMatchSelectWidth change the origin design, set to false now\n  // ref: https://github.com/react-component/select/blob/4cad95e098a341a09de239ad6981067188842020/src/Select.jsx#L344\n  // ref: https://github.com/react-component/select/pull/71\n  treeNodeFilterProp: 'value',\n  treeNodeLabelProp: 'title',\n  treeIcon: false,\n  notFoundContent: 'Not Found'\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onSelectorFocus = function () {\n    _this2.setState({ focused: true });\n  };\n\n  this.onSelectorBlur = function () {\n    _this2.setState({ focused: false });\n\n    // TODO: Close when Popup is also not focused\n    // this.setState({ open: false });\n  };\n\n  this.onComponentKeyDown = function (event) {\n    var open = _this2.state.open;\n    var keyCode = event.keyCode;\n\n\n    if (!open) {\n      if ([KeyCode.ENTER, KeyCode.DOWN].indexOf(keyCode) !== -1) {\n        _this2.setOpenState(true);\n      }\n    } else if (KeyCode.ESC === keyCode) {\n      _this2.setOpenState(false);\n    } else if ([KeyCode.UP, KeyCode.DOWN, KeyCode.LEFT, KeyCode.RIGHT].indexOf(keyCode) !== -1) {\n      // TODO: Handle `open` state\n      event.stopPropagation();\n    }\n  };\n\n  this.onDeselect = function (wrappedValue, node, nodeEventInfo) {\n    var onDeselect = _this2.props.onDeselect;\n\n    if (!onDeselect) return;\n\n    onDeselect(wrappedValue, node, nodeEventInfo);\n  };\n\n  this.onSelectorClear = function (event) {\n    var disabled = _this2.props.disabled;\n\n    if (disabled) return;\n\n    _this2.triggerChange([], []);\n\n    if (!_this2.isSearchValueControlled()) {\n      _this2.setUncontrolledState({\n        searchValue: '',\n        filteredTreeNodes: null\n      });\n    }\n\n    event.stopPropagation();\n  };\n\n  this.onMultipleSelectorRemove = function (event, removeValue) {\n    event.stopPropagation();\n\n    var _state2 = _this2.state,\n        valueList = _state2.valueList,\n        missValueList = _state2.missValueList,\n        valueEntities = _state2.valueEntities;\n    var _props3 = _this2.props,\n        treeCheckable = _props3.treeCheckable,\n        treeCheckStrictly = _props3.treeCheckStrictly,\n        treeNodeLabelProp = _props3.treeNodeLabelProp,\n        disabled = _props3.disabled;\n\n    if (disabled) return;\n\n    // Find trigger entity\n    var triggerEntity = valueEntities[removeValue];\n\n    // Clean up value\n    var newValueList = valueList;\n    if (triggerEntity) {\n      // If value is in tree\n      if (treeCheckable && !treeCheckStrictly) {\n        newValueList = valueList.filter(function (_ref) {\n          var value = _ref.value;\n\n          var entity = valueEntities[value];\n          return !isPosRelated(entity.pos, triggerEntity.pos);\n        });\n      } else {\n        newValueList = valueList.filter(function (_ref2) {\n          var value = _ref2.value;\n          return value !== removeValue;\n        });\n      }\n    }\n\n    var triggerNode = triggerEntity ? triggerEntity.node : null;\n\n    var extraInfo = {\n      triggerValue: removeValue,\n      triggerNode: triggerNode\n    };\n    var deselectInfo = {\n      node: triggerNode\n    };\n\n    // [Legacy] Little hack on this to make same action as `onCheck` event.\n    if (treeCheckable) {\n      var filteredEntityList = newValueList.map(function (_ref3) {\n        var value = _ref3.value;\n        return valueEntities[value];\n      });\n\n      deselectInfo.event = 'check';\n      deselectInfo.checked = false;\n      deselectInfo.checkedNodes = filteredEntityList.map(function (_ref4) {\n        var node = _ref4.node;\n        return node;\n      });\n      deselectInfo.checkedNodesPositions = filteredEntityList.map(function (_ref5) {\n        var node = _ref5.node,\n            pos = _ref5.pos;\n        return { node: node, pos: pos };\n      });\n\n      if (treeCheckStrictly) {\n        extraInfo.allCheckedNodes = deselectInfo.checkedNodes;\n      } else {\n        // TODO: It's too expansive to get `halfCheckedKeys` in onDeselect. Not pass this.\n        extraInfo.allCheckedNodes = flatToHierarchy(filteredEntityList).map(function (_ref6) {\n          var node = _ref6.node;\n          return node;\n        });\n      }\n    } else {\n      deselectInfo.event = 'select';\n      deselectInfo.selected = false;\n      deselectInfo.selectedNodes = newValueList.map(function (_ref7) {\n        var value = _ref7.value;\n        return (valueEntities[value] || {}).node;\n      });\n    }\n\n    // Some value user pass prop is not in the tree, we also need clean it\n    var newMissValueList = missValueList.filter(function (_ref8) {\n      var value = _ref8.value;\n      return value !== removeValue;\n    });\n\n    var wrappedValue = void 0;\n    if (_this2.isLabelInValue()) {\n      wrappedValue = {\n        label: triggerNode ? triggerNode.props[treeNodeLabelProp] : null,\n        value: removeValue\n      };\n    } else {\n      wrappedValue = removeValue;\n    }\n\n    _this2.onDeselect(wrappedValue, triggerNode, deselectInfo);\n\n    _this2.triggerChange(newMissValueList, newValueList, extraInfo);\n  };\n\n  this.onValueTrigger = function (isAdd, nodeList, nodeEventInfo, nodeExtraInfo) {\n    var node = nodeEventInfo.node;\n    var value = node.props.value;\n    var _state3 = _this2.state,\n        missValueList = _state3.missValueList,\n        valueEntities = _state3.valueEntities,\n        keyEntities = _state3.keyEntities,\n        searchValue = _state3.searchValue;\n    var _props4 = _this2.props,\n        disabled = _props4.disabled,\n        inputValue = _props4.inputValue,\n        treeNodeLabelProp = _props4.treeNodeLabelProp,\n        onSelect = _props4.onSelect,\n        onSearch = _props4.onSearch,\n        treeCheckable = _props4.treeCheckable,\n        treeCheckStrictly = _props4.treeCheckStrictly,\n        autoClearSearchValue = _props4.autoClearSearchValue;\n\n    var label = node.props[treeNodeLabelProp];\n\n    if (disabled) return;\n\n    // Wrap the return value for user\n    var wrappedValue = void 0;\n    if (_this2.isLabelInValue()) {\n      wrappedValue = {\n        value: value,\n        label: label\n      };\n    } else {\n      wrappedValue = value;\n    }\n\n    // [Legacy] Origin code not trigger `onDeselect` every time. Let's align the behaviour.\n    if (isAdd) {\n      if (onSelect) {\n        onSelect(wrappedValue, node, nodeEventInfo);\n      }\n    } else {\n      _this2.onDeselect(wrappedValue, node, nodeEventInfo);\n    }\n\n    // Get wrapped value list.\n    // This is a bit hack cause we use key to match the value.\n    var newValueList = nodeList.map(function (_ref9) {\n      var props = _ref9.props;\n      return {\n        value: props.value,\n        label: props[treeNodeLabelProp]\n      };\n    });\n\n    // When is `treeCheckable` and with `searchValue`, `valueList` is not full filled.\n    // We need calculate the missing nodes.\n    if (treeCheckable && !treeCheckStrictly) {\n      var keyList = newValueList.map(function (_ref10) {\n        var val = _ref10.value;\n        return valueEntities[val].key;\n      });\n      if (isAdd) {\n        keyList = conductCheck(keyList, true, keyEntities).checkedKeys;\n      } else {\n        keyList = conductCheck([valueEntities[value].key], false, keyEntities, { checkedKeys: keyList }).checkedKeys;\n      }\n      newValueList = keyList.map(function (key) {\n        var props = keyEntities[key].node.props;\n\n        return {\n          value: props.value,\n          label: props[treeNodeLabelProp]\n        };\n      });\n    }\n\n    // Clean up `searchValue` when this prop is set\n    if (autoClearSearchValue || inputValue === null) {\n      // Clean state `searchValue` if uncontrolled\n      if (!_this2.isSearchValueControlled()) {\n        _this2.setUncontrolledState({\n          searchValue: '',\n          filteredTreeNodes: null\n        });\n      }\n\n      // Trigger onSearch if `searchValue` to be empty.\n      // We should also trigger onSearch with empty string here\n      // since if user use `treeExpandedKeys`, it need user have the ability to reset it.\n      if (onSearch && searchValue && searchValue.length) {\n        onSearch('');\n      }\n    }\n\n    // [Legacy] Provide extra info\n    var extraInfo = _extends({}, nodeExtraInfo, {\n      triggerValue: value,\n      triggerNode: node\n    });\n\n    _this2.triggerChange(missValueList, newValueList, extraInfo);\n  };\n\n  this.onTreeNodeSelect = function (_, nodeEventInfo) {\n    var _state4 = _this2.state,\n        valueList = _state4.valueList,\n        valueEntities = _state4.valueEntities;\n    var _props5 = _this2.props,\n        treeCheckable = _props5.treeCheckable,\n        multiple = _props5.multiple;\n\n    if (treeCheckable) return;\n\n    if (!multiple) {\n      _this2.setOpenState(false);\n    }\n\n    var isAdd = nodeEventInfo.selected;\n    var selectedValue = nodeEventInfo.node.props.value;\n\n\n    var newValueList = void 0;\n\n    if (!multiple) {\n      newValueList = [{ value: selectedValue }];\n    } else {\n      newValueList = valueList.filter(function (_ref11) {\n        var value = _ref11.value;\n        return value !== selectedValue;\n      });\n      if (isAdd) {\n        newValueList.push({ value: selectedValue });\n      }\n    }\n\n    var selectedNodes = newValueList.map(function (_ref12) {\n      var value = _ref12.value;\n      return valueEntities[value];\n    }).filter(function (entity) {\n      return entity;\n    }).map(function (_ref13) {\n      var node = _ref13.node;\n      return node;\n    });\n\n    _this2.onValueTrigger(isAdd, selectedNodes, nodeEventInfo, { selected: isAdd });\n  };\n\n  this.onTreeNodeCheck = function (_, nodeEventInfo) {\n    var _state5 = _this2.state,\n        searchValue = _state5.searchValue,\n        keyEntities = _state5.keyEntities,\n        valueEntities = _state5.valueEntities,\n        valueList = _state5.valueList;\n    var treeCheckStrictly = _this2.props.treeCheckStrictly;\n    var checkedNodes = nodeEventInfo.checkedNodes,\n        checkedNodesPositions = nodeEventInfo.checkedNodesPositions;\n\n    var isAdd = nodeEventInfo.checked;\n\n    var extraInfo = {\n      checked: isAdd\n    };\n\n    var checkedNodeList = checkedNodes;\n\n    // [Legacy] Check event provide `allCheckedNodes`.\n    // When `treeCheckStrictly` or internal `searchValue` is set, TreeNode will be unrelated:\n    // - Related: Show the top checked nodes and has children prop.\n    // - Unrelated: Show all the checked nodes.\n    if (searchValue) {\n      var oriKeyList = valueList.map(function (_ref14) {\n        var value = _ref14.value;\n        return valueEntities[value];\n      }).filter(function (entity) {\n        return entity;\n      }).map(function (_ref15) {\n        var key = _ref15.key;\n        return key;\n      });\n\n      var keyList = void 0;\n      if (isAdd) {\n        keyList = Array.from(new Set([].concat(_toConsumableArray(oriKeyList), _toConsumableArray(checkedNodeList.map(function (_ref16) {\n          var value = _ref16.props.value;\n          return valueEntities[value].key;\n        })))));\n      } else {\n        keyList = conductCheck([nodeEventInfo.node.props.eventKey], false, keyEntities, { checkedKeys: oriKeyList }).checkedKeys;\n      }\n\n      checkedNodeList = keyList.map(function (key) {\n        return keyEntities[key].node;\n      });\n\n      // Let's follow as not `treeCheckStrictly` format\n      extraInfo.allCheckedNodes = keyList.map(function (key) {\n        return cleanEntity(keyEntities[key]);\n      });\n    } else if (treeCheckStrictly) {\n      extraInfo.allCheckedNodes = nodeEventInfo.checkedNodes;\n    } else {\n      extraInfo.allCheckedNodes = flatToHierarchy(checkedNodesPositions);\n    }\n\n    _this2.onValueTrigger(isAdd, checkedNodeList, nodeEventInfo, extraInfo);\n  };\n\n  this.onDropdownVisibleChange = function (open) {\n    _this2.setOpenState(open, true);\n  };\n\n  this.onSearchInputChange = function (_ref17) {\n    var value = _ref17.target.value;\n    var _state6 = _this2.state,\n        treeNodes = _state6.treeNodes,\n        valueEntities = _state6.valueEntities;\n    var _props6 = _this2.props,\n        onSearch = _props6.onSearch,\n        filterTreeNode = _props6.filterTreeNode,\n        treeNodeFilterProp = _props6.treeNodeFilterProp;\n\n\n    if (onSearch) {\n      onSearch(value);\n    }\n\n    var isSet = false;\n\n    if (!_this2.isSearchValueControlled()) {\n      isSet = _this2.setUncontrolledState({\n        searchValue: value\n      });\n      _this2.setOpenState(true);\n    }\n\n    if (isSet) {\n      // Do the search logic\n      var upperSearchValue = String(value).toUpperCase();\n\n      var filterTreeNodeFn = filterTreeNode;\n      if (!filterTreeNodeFn) {\n        filterTreeNodeFn = function filterTreeNodeFn(_, node) {\n          var nodeValue = String(node.props[treeNodeFilterProp]).toUpperCase();\n          return nodeValue.indexOf(upperSearchValue) !== -1;\n        };\n      }\n\n      _this2.setState({\n        filteredTreeNodes: getFilterTree(treeNodes, value, filterTreeNodeFn, valueEntities)\n      });\n    }\n  };\n\n  this.onSearchInputKeyDown = function (event) {\n    var _state7 = _this2.state,\n        searchValue = _state7.searchValue,\n        valueList = _state7.valueList;\n    var keyCode = event.keyCode;\n\n\n    if (KeyCode.BACKSPACE === keyCode && _this2.isMultiple() && !searchValue && valueList.length) {\n      var lastValue = valueList[valueList.length - 1].value;\n      _this2.onMultipleSelectorRemove(event, lastValue);\n    }\n  };\n\n  this.onChoiceAnimationLeave = function () {\n    _this2.forcePopupAlign();\n  };\n\n  this.setUncontrolledState = function (state) {\n    var needSync = false;\n    var newState = {};\n\n    Object.keys(state).forEach(function (name) {\n      if (name in _this2.props) return;\n\n      needSync = true;\n      newState[name] = state[name];\n    });\n\n    if (needSync) {\n      _this2.setState(newState);\n    }\n\n    return needSync;\n  };\n\n  this.setOpenState = function (open) {\n    var byTrigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var onDropdownVisibleChange = _this2.props.onDropdownVisibleChange;\n\n\n    if (onDropdownVisibleChange && onDropdownVisibleChange(open, { documentClickClose: !open && byTrigger }) === false) {\n      return;\n    }\n\n    _this2.setUncontrolledState({ open: open });\n  };\n\n  this.isMultiple = function () {\n    var _props7 = _this2.props,\n        multiple = _props7.multiple,\n        treeCheckable = _props7.treeCheckable;\n\n    return !!(multiple || treeCheckable);\n  };\n\n  this.isLabelInValue = function () {\n    return isLabelInValue(_this2.props);\n  };\n\n  this.isSearchValueControlled = function () {\n    var inputValue = _this2.props.inputValue;\n\n    if ('searchValue' in _this2.props) return true;\n    return 'inputValue' in _this2.props && inputValue !== null;\n  };\n\n  this.forcePopupAlign = function () {\n    var $trigger = _this2.selectTriggerRef.current;\n\n    if ($trigger) {\n      $trigger.forcePopupAlign();\n    }\n  };\n\n  this.delayForcePopupAlign = function () {\n    // Wait 2 frame to avoid dom update & dom algin in the same time\n    // https://github.com/ant-design/ant-design/issues/12031\n    raf(function () {\n      raf(_this2.forcePopupAlign);\n    });\n  };\n\n  this.triggerChange = function (missValueList, valueList) {\n    var extraInfo = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var _state8 = _this2.state,\n        valueEntities = _state8.valueEntities,\n        searchValue = _state8.searchValue;\n    var _props8 = _this2.props,\n        onChange = _props8.onChange,\n        disabled = _props8.disabled,\n        treeCheckable = _props8.treeCheckable,\n        treeCheckStrictly = _props8.treeCheckStrictly;\n\n\n    if (disabled) return;\n\n    // Trigger\n    var extra = _extends({\n      // [Legacy] Always return as array contains label & value\n      preValue: _this2.state.selectorValueList.map(function (_ref18) {\n        var label = _ref18.label,\n            value = _ref18.value;\n        return { label: label, value: value };\n      })\n    }, extraInfo);\n\n    // Format value by `treeCheckStrictly`\n    var selectorValueList = formatSelectorValue(valueList, _this2.props, valueEntities);\n\n    if (!('value' in _this2.props)) {\n      var newState = {\n        missValueList: missValueList,\n        valueList: valueList,\n        selectorValueList: selectorValueList\n      };\n\n      if (searchValue && treeCheckable && !treeCheckStrictly) {\n        newState.searchHalfCheckedKeys = getHalfCheckedKeys(valueList, valueEntities);\n      }\n\n      _this2.setState(newState);\n    }\n\n    // Only do the logic when `onChange` function provided\n    if (onChange) {\n      var connectValueList = void 0;\n\n      // Get value by mode\n      if (_this2.isMultiple()) {\n        connectValueList = [].concat(_toConsumableArray(missValueList), _toConsumableArray(selectorValueList));\n      } else {\n        connectValueList = selectorValueList.slice(0, 1);\n      }\n\n      var labelList = null;\n      var returnValue = void 0;\n\n      if (_this2.isLabelInValue()) {\n        returnValue = connectValueList.map(function (_ref19) {\n          var label = _ref19.label,\n              value = _ref19.value;\n          return { label: label, value: value };\n        });\n      } else {\n        labelList = [];\n        returnValue = connectValueList.map(function (_ref20) {\n          var label = _ref20.label,\n              value = _ref20.value;\n\n          labelList.push(label);\n          return value;\n        });\n      }\n\n      if (!_this2.isMultiple()) {\n        returnValue = returnValue[0];\n      }\n\n      onChange(returnValue, labelList, extra);\n    }\n  };\n};\n\nSelect.TreeNode = SelectNode;\nSelect.SHOW_ALL = SHOW_ALL;\nSelect.SHOW_PARENT = SHOW_PARENT;\nSelect.SHOW_CHILD = SHOW_CHILD;\n\n// Let warning show correct component name\nSelect.displayName = 'TreeSelect';\n\npolyfill(Select);\n\nexport default Select;","import Select from './Select';\nimport SelectNode from './SelectNode';\n\nexport { SHOW_ALL, SHOW_CHILD, SHOW_PARENT } from './strategies';\nexport var TreeNode = SelectNode;\n\nexport default Select;","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcTreeSelect, { TreeNode, SHOW_ALL, SHOW_PARENT, SHOW_CHILD } from 'rc-tree-select';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\nimport Icon from '../icon';\nimport omit from 'omit.js';\n\nvar TreeSelect =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(TreeSelect, _React$Component);\n\n  function TreeSelect(props) {\n    var _this;\n\n    _classCallCheck(this, TreeSelect);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TreeSelect).call(this, props));\n\n    _this.saveTreeSelect = function (node) {\n      _this.rcTreeSelect = node;\n    };\n\n    _this.renderSwitcherIcon = function (prefixCls, _ref) {\n      var isLeaf = _ref.isLeaf,\n          loading = _ref.loading;\n\n      if (loading) {\n        return React.createElement(Icon, {\n          type: \"loading\",\n          className: \"\".concat(prefixCls, \"-switcher-loading-icon\")\n        });\n      }\n\n      if (isLeaf) {\n        return null;\n      }\n\n      return React.createElement(Icon, {\n        type: \"caret-down\",\n        className: \"\".concat(prefixCls, \"-switcher-icon\")\n      });\n    };\n\n    _this.renderTreeSelect = function (_ref2) {\n      var _classNames;\n\n      var getContextPopupContainer = _ref2.getPopupContainer,\n          getPrefixCls = _ref2.getPrefixCls,\n          renderEmpty = _ref2.renderEmpty;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          className = _a.className,\n          size = _a.size,\n          notFoundContent = _a.notFoundContent,\n          dropdownStyle = _a.dropdownStyle,\n          dropdownClassName = _a.dropdownClassName,\n          suffixIcon = _a.suffixIcon,\n          getPopupContainer = _a.getPopupContainer,\n          restProps = __rest(_a, [\"prefixCls\", \"className\", \"size\", \"notFoundContent\", \"dropdownStyle\", \"dropdownClassName\", \"suffixIcon\", \"getPopupContainer\"]);\n\n      var rest = omit(restProps, ['inputIcon', 'removeIcon', 'clearIcon', 'switcherIcon']);\n      var prefixCls = getPrefixCls('select', customizePrefixCls);\n      var cls = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _classNames), className);\n      var checkable = rest.treeCheckable;\n\n      if (checkable) {\n        checkable = React.createElement(\"span\", {\n          className: \"\".concat(prefixCls, \"-tree-checkbox-inner\")\n        });\n      }\n\n      var inputIcon = suffixIcon && (React.isValidElement(suffixIcon) ? React.cloneElement(suffixIcon) : suffixIcon) || React.createElement(Icon, {\n        type: \"down\",\n        className: \"\".concat(prefixCls, \"-arrow-icon\")\n      });\n      var removeIcon = React.createElement(Icon, {\n        type: \"close\",\n        className: \"\".concat(prefixCls, \"-remove-icon\")\n      });\n      var clearIcon = React.createElement(Icon, {\n        type: \"close-circle\",\n        className: \"\".concat(prefixCls, \"-clear-icon\"),\n        theme: \"filled\"\n      });\n      return React.createElement(RcTreeSelect, _extends({\n        switcherIcon: function switcherIcon(nodeProps) {\n          return _this.renderSwitcherIcon(prefixCls, nodeProps);\n        },\n        inputIcon: inputIcon,\n        removeIcon: removeIcon,\n        clearIcon: clearIcon\n      }, rest, {\n        getPopupContainer: getPopupContainer || getContextPopupContainer,\n        dropdownClassName: classNames(dropdownClassName, \"\".concat(prefixCls, \"-tree-dropdown\")),\n        prefixCls: prefixCls,\n        className: cls,\n        dropdownStyle: _extends({\n          maxHeight: '100vh',\n          overflow: 'auto'\n        }, dropdownStyle),\n        treeCheckable: checkable,\n        notFoundContent: notFoundContent || renderEmpty('Select'),\n        ref: _this.saveTreeSelect\n      }));\n    };\n\n    warning(props.multiple !== false || !props.treeCheckable, '`multiple` will alway be `true` when `treeCheckable` is true');\n    return _this;\n  }\n\n  _createClass(TreeSelect, [{\n    key: \"focus\",\n    value: function focus() {\n      this.rcTreeSelect.focus();\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.rcTreeSelect.blur();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderTreeSelect);\n    }\n  }]);\n\n  return TreeSelect;\n}(React.Component);\n\nexport { TreeSelect as default };\nTreeSelect.TreeNode = TreeNode;\nTreeSelect.SHOW_ALL = SHOW_ALL;\nTreeSelect.SHOW_PARENT = SHOW_PARENT;\nTreeSelect.SHOW_CHILD = SHOW_CHILD;\nTreeSelect.defaultProps = {\n  transitionName: 'slide-up',\n  choiceTransitionName: 'zoom',\n  showSearch: false\n};"],"sourceRoot":""}