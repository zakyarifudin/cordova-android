{"version":3,"sources":["containers/Modules/Setting/AppMasterCode/index.js","redux/setting/appMasterCode/actions.js"],"names":["Search","Input","AppMasterCode","state","filter","pagination","search","handleSearch","value","getAppMasterCodes","props","setState","transaction_type","handleSearchValue","e","target","handleResetSearch","id_cash_flow_group","handleFilterChange","name","handleFilter","string","handleResetFilter","handleRecord","action","id","activateAppMasterCode","deactivateAppMasterCode","handlePageChange","page","appMasterCode","listAction","title","dataIndex","rowKey","width","align","render","text","row","placement","to","match","path","size","className","this","error","notification","clearError","success","clearSuccess","columns","getLanguage","app_master_codes","dataSource","user","auth","permissions","includes","length","push","map","data","key","master_name","current_page","page_size","total","marginBottom","style","display","justifyContent","onClick","history","replace","marginLeft","placeholder","onSearch","marginRight","onChange","marginTop","type","bind","loading","bordered","current","pageSize","parseInt","description","Component","compose","connect","actions","payload","createAppMasterCode","storeAppMasterCode","body","editAppMasterCode","id_app_master_code","updateAppMasterCode","clearErrorField"],"mappings":"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","file":"static/js/323.815c9577.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport notification from \"../../../../components/notification\";\r\nimport { Empty, Input, Tooltip } from \"antd\";\r\n\r\n// import Popconfirms from \"../../../../components/feedback/popconfirm\";\r\n// import Box from '../../components/utility/box';\r\n// import HelperText from \"../../../../components/utility/helper-text\";\r\nimport LayoutWrapper from \"../../../../components/utility/layoutWrapper\";\r\nimport PageHeader from \"../../../../components/utility/pageHeader\";\r\nimport IntlMessages from \"../../../../components/utility/intlMessages\";\r\nimport Scrollbars from \"../../../../components/utility/customScrollBar\";\r\nimport Button from \"../../../../components/uielements/button\";\r\nimport actions from \"../../../../redux/setting/appMasterCode/actions\";\r\nimport TableWrapper from \"../../../Tables/antTables/antTable.style\";\r\nimport CardWrapper, { Box } from \"../../../App/app.style\";\r\nimport getLanguage from \"../../../App/MyLanguange\";\r\n\r\n// const Panel = Collapse.Panel;\r\n// const Option = Select.Option;\r\nconst Search = Input.Search;\r\nconst redirectTo = \"/dashboard/setup/menus\";\r\n\r\nclass AppMasterCode extends Component {\r\n  state = {\r\n    filter: {\r\n      pagination: null\r\n    },\r\n    search: null\r\n  };\r\n\r\n  // Get All data diawal\r\n  componentDidMount() {\r\n    const { getAppMasterCodes } = this.props;\r\n    getAppMasterCodes();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    // Display error notif\r\n    if (this.props.appMasterCode.error) {\r\n      notification(\"error\", this.props.appMasterCode.error);\r\n      this.props.clearError();\r\n    }\r\n\r\n    // Display success notif\r\n    if (this.props.appMasterCode.success) {\r\n      notification(\"success\", this.props.appMasterCode.success);\r\n      this.props.clearSuccess();\r\n    }\r\n  }\r\n\r\n  // Handle search\r\n  handleSearch = value => {\r\n    const { getAppMasterCodes } = this.props;\r\n    this.setState({\r\n      filter: {\r\n        //id_cash_flow_group: [],\r\n        transaction_type: [],\r\n        pagination: null\r\n      }\r\n    });\r\n    getAppMasterCodes(1, value);\r\n  };\r\n\r\n  //handle Search Value\r\n  handleSearchValue = e => {\r\n    const value = e.target.value;\r\n\r\n    this.setState({ search: value });\r\n  };\r\n\r\n  // Handle Reset search\r\n  handleResetSearch = () => {\r\n    const { getAppMasterCodes } = this.props;\r\n    this.setState({\r\n      filter: {\r\n        id_cash_flow_group: [],\r\n        transaction_type: [],\r\n        pagination: null\r\n      }\r\n    });\r\n    this.setState({ search: null });\r\n    getAppMasterCodes();\r\n  };\r\n\r\n  // Handle filter change\r\n  handleFilterChange = (name, value) => {\r\n    this.setState({\r\n      filter: {\r\n        ...this.state.filter,\r\n        [name]: value\r\n      }\r\n    });\r\n  };\r\n\r\n  // Handle filter\r\n  handleFilter = () => {\r\n    const { getAppMasterCodes } = this.props;\r\n    //const { current_page } = this.props.appMasterCode;\r\n    const { filter } = this.state;\r\n    let string = \"\";\r\n\r\n    if (filter.transaction_type) {\r\n      string += \"transaction_type=\" + filter.transaction_type;\r\n    }\r\n    if (filter.pagination) {\r\n      string\r\n        ? (string += \"&pagination=\" + filter.pagination)\r\n        : (string += \"pagination=\" + filter.pagination);\r\n    }\r\n\r\n    this.setState({ search: null });\r\n    getAppMasterCodes(1, null, string);\r\n  };\r\n\r\n  // Handle Reset Filter\r\n  handleResetFilter = () => {\r\n    const { getAppMasterCodes } = this.props;\r\n    this.setState({\r\n      filter: {\r\n        //id_cash_flow_group: [],\r\n        transaction_type: [],\r\n        pagination: null\r\n      }\r\n    });\r\n    this.setState({ search: null });\r\n    getAppMasterCodes();\r\n  };\r\n\r\n  // Handle action di table\r\n  handleRecord = (action, id) => {\r\n    if (action === \"activate\") {\r\n      this.props.activateAppMasterCode(id);\r\n    } else {\r\n      this.props.deactivateAppMasterCode(id);\r\n    }\r\n  };\r\n\r\n  // Handle pagination\r\n  handlePageChange = page => {\r\n    const { getAppMasterCodes } = this.props;\r\n    const { search } = this.props.appMasterCode;\r\n    const { filter } = this.props.appMasterCode;\r\n    getAppMasterCodes(page, search, filter);\r\n  };\r\n\r\n  listAction = {\r\n    title: \"\",\r\n    dataIndex: \"id_app_master_code\",\r\n    rowKey: \"id_app_master_code\",\r\n    width: \"10%\",\r\n    align: \"center\",\r\n    render: (text, row) => (\r\n      <div>\r\n        <Tooltip\r\n          placement=\"topLeft\"\r\n          title={<IntlMessages id=\"tooltip.update\" />}\r\n        >\r\n          <Link to={`${this.props.match.path}/update/${text}`}>\r\n            <Button size=\"small\" className=\"invoiceEdtBtn\">\r\n              <i className=\"ion-android-create\" />\r\n            </Button>\r\n          </Link>\r\n        </Tooltip>\r\n      </div>\r\n    )\r\n  };\r\n\r\n  render() {\r\n    const columns = [\r\n      {\r\n        title: getLanguage({ id: \"appMasterCodes.add.name\" }),\r\n        dataIndex: \"master_name\",\r\n        rowKey: \"master_name\",\r\n        width: \"10%\",\r\n        render: text => <span>{text}</span>\r\n      },\r\n      {\r\n        title: getLanguage({ id: \"appMasterCodes.add.code\" }),\r\n        dataIndex: \"master_code\",\r\n        rowKey: \"master_code\",\r\n        width: \"15%\",\r\n        render: text => <span>{text}</span>\r\n      }\r\n    ];\r\n    // console.log(this.props.appMasterCode);\r\n    // Data setup\r\n    const { app_master_codes } = this.props.appMasterCode;\r\n    // console.log(app_master_codes); //console.log(this.state);\r\n    const dataSource = [];\r\n    const { user } = this.props.auth;\r\n    let { permissions } = user ? user : [];\r\n    permissions = permissions ? permissions : [];\r\n\r\n    //console.log(permissions);\r\n    if (\r\n      permissions.includes(\"Update App Master Code\") &&\r\n      columns.length === 2\r\n    ) {\r\n      columns.push(this.listAction);\r\n    }\r\n\r\n    app_master_codes.map((data, key) => {\r\n      return dataSource.push({\r\n        ...data,\r\n        master_name: getLanguage({ id: data.master_name }),\r\n        key\r\n      });\r\n    });\r\n\r\n    // Pagination Setup\r\n    const { current_page, page_size, total } = this.props.appMasterCode;\r\n\r\n    //console.log(this.props);\r\n    return (\r\n      <LayoutWrapper>\r\n        <Box>\r\n          <PageHeader\r\n            title={<IntlMessages id=\"appMasterCodes.pageHeader\" />}\r\n            marginBottom={true}\r\n          >\r\n            <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\r\n              <Button\r\n                onClick={() => this.props.history.replace(redirectTo)}\r\n                style={{ marginLeft: \"5px\" }}\r\n              >\r\n                <IntlMessages id=\"button.back\" />\r\n              </Button>\r\n            </div>\r\n          </PageHeader>\r\n          <div className=\"isoInvoiceTableBtn\">\r\n            <Search\r\n              placeholder={getLanguage({ id: \"appMasterCodes.add.name\" })}\r\n              onSearch={this.handleSearch}\r\n              style={{ marginRight: \"1%\" }}\r\n              value={this.state.search}\r\n              onChange={this.handleSearchValue}\r\n            />\r\n            <div\r\n              style={{\r\n                // width: \"20%\",\r\n                marginTop: \"auto\",\r\n                marginRight: \"1%\"\r\n              }}\r\n            >\r\n              <Button\r\n                type=\"primary\"\r\n                onClick={this.handleSearch.bind(this, this.state.search)}\r\n              >\r\n                <IntlMessages id=\"button.search\" />\r\n              </Button>\r\n            </div>\r\n\r\n            <div\r\n              style={{\r\n                width: \"30%\",\r\n                marginTop: \"auto\",\r\n                marginRight: \"27%\"\r\n                // marginLeft: \"-2%\"\r\n              }}\r\n            >\r\n              <Button onClick={this.handleResetSearch}>\r\n                <IntlMessages id=\"filter.reset\" />\r\n              </Button>\r\n            </div>\r\n            {/* {permissions.includes(\"Create App Master Code\") ? (\r\n              <Link to={`${this.props.match.path}/add`}>\r\n                <Button type=\"primary\" className=\"mateAddInvoiceBtn\">\r\n                  <IntlMessages id=\"app_master_codes.button.add\" />\r\n                </Button>\r\n              </Link>\r\n            ) : null} */}\r\n          </div>\r\n\r\n          <CardWrapper>\r\n            {app_master_codes.length === 0 &&\r\n            !this.props.appMasterCode.loading ? (\r\n              <Empty\r\n                description={<IntlMessages id=\"appMasterCodes.table.noData\" />}\r\n              />\r\n            ) : (\r\n              <div className=\"isoInvoiceTable\">\r\n                <Scrollbars style={{ width: \"100%\" }}>\r\n                  <TableWrapper\r\n                    dataSource={dataSource}\r\n                    columns={columns}\r\n                    loading={this.props.appMasterCode.loading}\r\n                    className=\"invoiceListTable\"\r\n                    bordered={true}\r\n                    // Set pagination, jika ada page_size mengunakan pagination API\r\n                    // jika tidak ada page_size menggunakan pagination bawaan\r\n                    pagination={\r\n                      page_size\r\n                        ? {\r\n                            current: current_page,\r\n                            pageSize: parseInt(page_size),\r\n                            total: total,\r\n                            onChange: this.handlePageChange.bind(this)\r\n                          }\r\n                        : true\r\n                    }\r\n                  />\r\n                </Scrollbars>\r\n              </div>\r\n            )}\r\n          </CardWrapper>\r\n        </Box>\r\n      </LayoutWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    appMasterCode: state.appMasterCode,\r\n    auth: state.auth\r\n  };\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, actions))(AppMasterCode);\r\n","const actions = {\r\n  getAppMasterCodes: (page, search, filter) => ({\r\n    type: 'GET_APP_MASTER_CODES_REQUEST',\r\n    payload: {\r\n      page: page,\r\n      search: search,\r\n      filter: filter\r\n    }\r\n  }),\r\n  createAppMasterCode: () => ({\r\n    type: 'CREATE_APP_MASTER_CODE_REQUEST'\r\n  }),\r\n  storeAppMasterCode: data => ({\r\n    type: 'STORE_APP_MASTER_CODE_REQUEST',\r\n    payload: { body: data }\r\n  }),\r\n  editAppMasterCode: id_app_master_code => ({\r\n    type: 'EDIT_APP_MASTER_CODE_REQUEST',\r\n    payload: { id_app_master_code: id_app_master_code }\r\n  }),\r\n  updateAppMasterCode: (id_app_master_code, data) => ({\r\n    type: 'UPDATE_APP_MASTER_CODE_REQUEST',\r\n    payload: {\r\n      id_app_master_code: id_app_master_code,\r\n      body: data\r\n    }\r\n  }),\r\n  clearSuccess: () => ({\r\n    type: \"CLEAR_SUCCESS\"\r\n  }),\r\n  clearError: () => ({\r\n    type: \"CLEAR_ERROR\"\r\n  }),\r\n  clearErrorField: () => ({\r\n    type: \"CLEAR_ERROR_FIELD\"\r\n  })\r\n};\r\n\r\nexport default actions;\r\n"],"sourceRoot":""}